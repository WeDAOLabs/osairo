function createClientComponents({components:ee}){return{...ee}}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(ee){return ee&&ee.__esModule&&Object.prototype.hasOwnProperty.call(ee,"default")?ee.default:ee}function getAugmentedNamespace(ee){if(ee.__esModule)return ee;var ne=ee.default;if(typeof ne=="function"){var oe=function ae(){if(this instanceof ae){var de=[null];de.push.apply(de,arguments);var fe=Function.bind.apply(ne,de);return new fe}return ne.apply(this,arguments)};oe.prototype=ne.prototype}else oe={};return Object.defineProperty(oe,"__esModule",{value:!0}),Object.keys(ee).forEach(function(ae){var de=Object.getOwnPropertyDescriptor(ee,ae);Object.defineProperty(oe,ae,de.get?de:{enumerable:!0,get:function(){return ee[ae]}})}),oe}var extendStatics=function(ee,ne){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(oe,ae){oe.__proto__=ae}||function(oe,ae){for(var de in ae)Object.prototype.hasOwnProperty.call(ae,de)&&(oe[de]=ae[de])},extendStatics(ee,ne)};function __extends$1(ee,ne){if(typeof ne!="function"&&ne!==null)throw new TypeError("Class extends value "+String(ne)+" is not a constructor or null");extendStatics(ee,ne);function oe(){this.constructor=ee}ee.prototype=ne===null?Object.create(ne):(oe.prototype=ne.prototype,new oe)}function __awaiter(ee,ne,oe,ae){function de(fe){return fe instanceof oe?fe:new oe(function(pe){pe(fe)})}return new(oe||(oe=Promise))(function(fe,pe){function he(ve){try{ge(ae.next(ve))}catch(we){pe(we)}}function be(ve){try{ge(ae.throw(ve))}catch(we){pe(we)}}function ge(ve){ve.done?fe(ve.value):de(ve.value).then(he,be)}ge((ae=ae.apply(ee,ne||[])).next())})}function __generator(ee,ne){var oe={label:0,sent:function(){if(fe[0]&1)throw fe[1];return fe[1]},trys:[],ops:[]},ae,de,fe,pe;return pe={next:he(0),throw:he(1),return:he(2)},typeof Symbol=="function"&&(pe[Symbol.iterator]=function(){return this}),pe;function he(ge){return function(ve){return be([ge,ve])}}function be(ge){if(ae)throw new TypeError("Generator is already executing.");for(;pe&&(pe=0,ge[0]&&(oe=0)),oe;)try{if(ae=1,de&&(fe=ge[0]&2?de.return:ge[0]?de.throw||((fe=de.return)&&fe.call(de),0):de.next)&&!(fe=fe.call(de,ge[1])).done)return fe;switch(de=0,fe&&(ge=[ge[0]&2,fe.value]),ge[0]){case 0:case 1:fe=ge;break;case 4:return oe.label++,{value:ge[1],done:!1};case 5:oe.label++,de=ge[1],ge=[0];continue;case 7:ge=oe.ops.pop(),oe.trys.pop();continue;default:if(fe=oe.trys,!(fe=fe.length>0&&fe[fe.length-1])&&(ge[0]===6||ge[0]===2)){oe=0;continue}if(ge[0]===3&&(!fe||ge[1]>fe[0]&&ge[1]<fe[3])){oe.label=ge[1];break}if(ge[0]===6&&oe.label<fe[1]){oe.label=fe[1],fe=ge;break}if(fe&&oe.label<fe[2]){oe.label=fe[2],oe.ops.push(ge);break}fe[2]&&oe.ops.pop(),oe.trys.pop();continue}ge=ne.call(ee,oe)}catch(ve){ge=[6,ve],de=0}finally{ae=fe=0}if(ge[0]&5)throw ge[1];return{value:ge[0]?ge[1]:void 0,done:!0}}}function __values(ee){var ne=typeof Symbol=="function"&&Symbol.iterator,oe=ne&&ee[ne],ae=0;if(oe)return oe.call(ee);if(ee&&typeof ee.length=="number")return{next:function(){return ee&&ae>=ee.length&&(ee=void 0),{value:ee&&ee[ae++],done:!ee}}};throw new TypeError(ne?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read$4(ee,ne){var oe=typeof Symbol=="function"&&ee[Symbol.iterator];if(!oe)return ee;var ae=oe.call(ee),de,fe=[],pe;try{for(;(ne===void 0||ne-- >0)&&!(de=ae.next()).done;)fe.push(de.value)}catch(he){pe={error:he}}finally{try{de&&!de.done&&(oe=ae.return)&&oe.call(ae)}finally{if(pe)throw pe.error}}return fe}function __spreadArray$3(ee,ne,oe){if(oe||arguments.length===2)for(var ae=0,de=ne.length,fe;ae<de;ae++)(fe||!(ae in ne))&&(fe||(fe=Array.prototype.slice.call(ne,0,ae)),fe[ae]=ne[ae]);return ee.concat(fe||Array.prototype.slice.call(ne))}function __await(ee){return this instanceof __await?(this.v=ee,this):new __await(ee)}function __asyncGenerator(ee,ne,oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ae=oe.apply(ee,ne||[]),de,fe=[];return de={},pe("next"),pe("throw"),pe("return"),de[Symbol.asyncIterator]=function(){return this},de;function pe(_e){ae[_e]&&(de[_e]=function(Te){return new Promise(function(Ee,Ie){fe.push([_e,Te,Ee,Ie])>1||he(_e,Te)})})}function he(_e,Te){try{be(ae[_e](Te))}catch(Ee){we(fe[0][3],Ee)}}function be(_e){_e.value instanceof __await?Promise.resolve(_e.value.v).then(ge,ve):we(fe[0][2],_e)}function ge(_e){he("next",_e)}function ve(_e){he("throw",_e)}function we(_e,Te){_e(Te),fe.shift(),fe.length&&he(fe[0][0],fe[0][1])}}function __asyncValues(ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ne=ee[Symbol.asyncIterator],oe;return ne?ne.call(ee):(ee=typeof __values=="function"?__values(ee):ee[Symbol.iterator](),oe={},ae("next"),ae("throw"),ae("return"),oe[Symbol.asyncIterator]=function(){return this},oe);function ae(fe){oe[fe]=ee[fe]&&function(pe){return new Promise(function(he,be){pe=ee[fe](pe),de(he,be,pe.done,pe.value)})}}function de(fe,pe,he,be){Promise.resolve(be).then(function(ge){fe({value:ge,done:he})},pe)}}typeof SuppressedError=="function"&&SuppressedError;function isFunction$2(ee){return typeof ee=="function"}function createErrorClass(ee){var ne=function(ae){Error.call(ae),ae.stack=new Error().stack},oe=ee(ne);return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}var UnsubscriptionError=createErrorClass(function(ee){return function(oe){ee(this),this.message=oe?oe.length+` errors occurred during unsubscription:
`+oe.map(function(ae,de){return de+1+") "+ae.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=oe}});function arrRemove(ee,ne){if(ee){var oe=ee.indexOf(ne);0<=oe&&ee.splice(oe,1)}}var Subscription=function(){function ee(ne){this.initialTeardown=ne,this.closed=!1,this._parentage=null,this._finalizers=null}return ee.prototype.unsubscribe=function(){var ne,oe,ae,de,fe;if(!this.closed){this.closed=!0;var pe=this._parentage;if(pe)if(this._parentage=null,Array.isArray(pe))try{for(var he=__values(pe),be=he.next();!be.done;be=he.next()){var ge=be.value;ge.remove(this)}}catch(Ie){ne={error:Ie}}finally{try{be&&!be.done&&(oe=he.return)&&oe.call(he)}finally{if(ne)throw ne.error}}else pe.remove(this);var ve=this.initialTeardown;if(isFunction$2(ve))try{ve()}catch(Ie){fe=Ie instanceof UnsubscriptionError?Ie.errors:[Ie]}var we=this._finalizers;if(we){this._finalizers=null;try{for(var _e=__values(we),Te=_e.next();!Te.done;Te=_e.next()){var Ee=Te.value;try{execFinalizer(Ee)}catch(Ie){fe=fe??[],Ie instanceof UnsubscriptionError?fe=__spreadArray$3(__spreadArray$3([],__read$4(fe)),__read$4(Ie.errors)):fe.push(Ie)}}}catch(Ie){ae={error:Ie}}finally{try{Te&&!Te.done&&(de=_e.return)&&de.call(_e)}finally{if(ae)throw ae.error}}}if(fe)throw new UnsubscriptionError(fe)}},ee.prototype.add=function(ne){var oe;if(ne&&ne!==this)if(this.closed)execFinalizer(ne);else{if(ne instanceof ee){if(ne.closed||ne._hasParent(this))return;ne._addParent(this)}(this._finalizers=(oe=this._finalizers)!==null&&oe!==void 0?oe:[]).push(ne)}},ee.prototype._hasParent=function(ne){var oe=this._parentage;return oe===ne||Array.isArray(oe)&&oe.includes(ne)},ee.prototype._addParent=function(ne){var oe=this._parentage;this._parentage=Array.isArray(oe)?(oe.push(ne),oe):oe?[oe,ne]:ne},ee.prototype._removeParent=function(ne){var oe=this._parentage;oe===ne?this._parentage=null:Array.isArray(oe)&&arrRemove(oe,ne)},ee.prototype.remove=function(ne){var oe=this._finalizers;oe&&arrRemove(oe,ne),ne instanceof ee&&ne._removeParent(this)},ee.EMPTY=function(){var ne=new ee;return ne.closed=!0,ne}(),ee}(),EMPTY_SUBSCRIPTION=Subscription.EMPTY;function isSubscription(ee){return ee instanceof Subscription||ee&&"closed"in ee&&isFunction$2(ee.remove)&&isFunction$2(ee.add)&&isFunction$2(ee.unsubscribe)}function execFinalizer(ee){isFunction$2(ee)?ee():ee.unsubscribe()}var config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},timeoutProvider={setTimeout:function(ee,ne){for(var oe=[],ae=2;ae<arguments.length;ae++)oe[ae-2]=arguments[ae];var de=timeoutProvider.delegate;return de?.setTimeout?de.setTimeout.apply(de,__spreadArray$3([ee,ne],__read$4(oe))):setTimeout.apply(void 0,__spreadArray$3([ee,ne],__read$4(oe)))},clearTimeout:function(ee){var ne=timeoutProvider.delegate;return(ne?.clearTimeout||clearTimeout)(ee)},delegate:void 0};function reportUnhandledError(ee){timeoutProvider.setTimeout(function(){throw ee})}function noop$2(){}function errorContext(ee){ee()}var Subscriber=function(ee){__extends$1(ne,ee);function ne(oe){var ae=ee.call(this)||this;return ae.isStopped=!1,oe?(ae.destination=oe,isSubscription(oe)&&oe.add(ae)):ae.destination=EMPTY_OBSERVER,ae}return ne.create=function(oe,ae,de){return new SafeSubscriber(oe,ae,de)},ne.prototype.next=function(oe){this.isStopped||this._next(oe)},ne.prototype.error=function(oe){this.isStopped||(this.isStopped=!0,this._error(oe))},ne.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},ne.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,ee.prototype.unsubscribe.call(this),this.destination=null)},ne.prototype._next=function(oe){this.destination.next(oe)},ne.prototype._error=function(oe){try{this.destination.error(oe)}finally{this.unsubscribe()}},ne.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},ne}(Subscription),_bind=Function.prototype.bind;function bind(ee,ne){return _bind.call(ee,ne)}var ConsumerObserver=function(){function ee(ne){this.partialObserver=ne}return ee.prototype.next=function(ne){var oe=this.partialObserver;if(oe.next)try{oe.next(ne)}catch(ae){handleUnhandledError(ae)}},ee.prototype.error=function(ne){var oe=this.partialObserver;if(oe.error)try{oe.error(ne)}catch(ae){handleUnhandledError(ae)}else handleUnhandledError(ne)},ee.prototype.complete=function(){var ne=this.partialObserver;if(ne.complete)try{ne.complete()}catch(oe){handleUnhandledError(oe)}},ee}(),SafeSubscriber=function(ee){__extends$1(ne,ee);function ne(oe,ae,de){var fe=ee.call(this)||this,pe;if(isFunction$2(oe)||!oe)pe={next:oe??void 0,error:ae??void 0,complete:de??void 0};else{var he;fe&&config.useDeprecatedNextContext?(he=Object.create(oe),he.unsubscribe=function(){return fe.unsubscribe()},pe={next:oe.next&&bind(oe.next,he),error:oe.error&&bind(oe.error,he),complete:oe.complete&&bind(oe.complete,he)}):pe=oe}return fe.destination=new ConsumerObserver(pe),fe}return ne}(Subscriber);function handleUnhandledError(ee){reportUnhandledError(ee)}function defaultErrorHandler(ee){throw ee}var EMPTY_OBSERVER={closed:!0,next:noop$2,error:defaultErrorHandler,complete:noop$2},observable$1=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function identity$1(ee){return ee}function pipe(){for(var ee=[],ne=0;ne<arguments.length;ne++)ee[ne]=arguments[ne];return pipeFromArray$1(ee)}function pipeFromArray$1(ee){return ee.length===0?identity$1:ee.length===1?ee[0]:function(oe){return ee.reduce(function(ae,de){return de(ae)},oe)}}var Observable=function(){function ee(ne){ne&&(this._subscribe=ne)}return ee.prototype.lift=function(ne){var oe=new ee;return oe.source=this,oe.operator=ne,oe},ee.prototype.subscribe=function(ne,oe,ae){var de=this,fe=isSubscriber(ne)?ne:new SafeSubscriber(ne,oe,ae);return errorContext(function(){var pe=de,he=pe.operator,be=pe.source;fe.add(he?he.call(fe,be):be?de._subscribe(fe):de._trySubscribe(fe))}),fe},ee.prototype._trySubscribe=function(ne){try{return this._subscribe(ne)}catch(oe){ne.error(oe)}},ee.prototype.forEach=function(ne,oe){var ae=this;return oe=getPromiseCtor(oe),new oe(function(de,fe){var pe=new SafeSubscriber({next:function(he){try{ne(he)}catch(be){fe(be),pe.unsubscribe()}},error:fe,complete:de});ae.subscribe(pe)})},ee.prototype._subscribe=function(ne){var oe;return(oe=this.source)===null||oe===void 0?void 0:oe.subscribe(ne)},ee.prototype[observable$1]=function(){return this},ee.prototype.pipe=function(){for(var ne=[],oe=0;oe<arguments.length;oe++)ne[oe]=arguments[oe];return pipeFromArray$1(ne)(this)},ee.prototype.toPromise=function(ne){var oe=this;return ne=getPromiseCtor(ne),new ne(function(ae,de){var fe;oe.subscribe(function(pe){return fe=pe},function(pe){return de(pe)},function(){return ae(fe)})})},ee.create=function(ne){return new ee(ne)},ee}();function getPromiseCtor(ee){var ne;return(ne=ee??config.Promise)!==null&&ne!==void 0?ne:Promise}function isObserver(ee){return ee&&isFunction$2(ee.next)&&isFunction$2(ee.error)&&isFunction$2(ee.complete)}function isSubscriber(ee){return ee&&ee instanceof Subscriber||isObserver(ee)&&isSubscription(ee)}function hasLift(ee){return isFunction$2(ee?.lift)}function operate(ee){return function(ne){if(hasLift(ne))return ne.lift(function(oe){try{return ee(oe,this)}catch(ae){this.error(ae)}});throw new TypeError("Unable to lift unknown Observable type")}}function createOperatorSubscriber(ee,ne,oe,ae,de){return new OperatorSubscriber(ee,ne,oe,ae,de)}var OperatorSubscriber=function(ee){__extends$1(ne,ee);function ne(oe,ae,de,fe,pe,he){var be=ee.call(this,oe)||this;return be.onFinalize=pe,be.shouldUnsubscribe=he,be._next=ae?function(ge){try{ae(ge)}catch(ve){oe.error(ve)}}:ee.prototype._next,be._error=fe?function(ge){try{fe(ge)}catch(ve){oe.error(ve)}finally{this.unsubscribe()}}:ee.prototype._error,be._complete=de?function(){try{de()}catch(ge){oe.error(ge)}finally{this.unsubscribe()}}:ee.prototype._complete,be}return ne.prototype.unsubscribe=function(){var oe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var ae=this.closed;ee.prototype.unsubscribe.call(this),!ae&&((oe=this.onFinalize)===null||oe===void 0||oe.call(this))}},ne}(Subscriber),ObjectUnsubscribedError=createErrorClass(function(ee){return function(){ee(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Subject=function(ee){__extends$1(ne,ee);function ne(){var oe=ee.call(this)||this;return oe.closed=!1,oe.currentObservers=null,oe.observers=[],oe.isStopped=!1,oe.hasError=!1,oe.thrownError=null,oe}return ne.prototype.lift=function(oe){var ae=new AnonymousSubject(this,this);return ae.operator=oe,ae},ne.prototype._throwIfClosed=function(){if(this.closed)throw new ObjectUnsubscribedError},ne.prototype.next=function(oe){var ae=this;errorContext(function(){var de,fe;if(ae._throwIfClosed(),!ae.isStopped){ae.currentObservers||(ae.currentObservers=Array.from(ae.observers));try{for(var pe=__values(ae.currentObservers),he=pe.next();!he.done;he=pe.next()){var be=he.value;be.next(oe)}}catch(ge){de={error:ge}}finally{try{he&&!he.done&&(fe=pe.return)&&fe.call(pe)}finally{if(de)throw de.error}}}})},ne.prototype.error=function(oe){var ae=this;errorContext(function(){if(ae._throwIfClosed(),!ae.isStopped){ae.hasError=ae.isStopped=!0,ae.thrownError=oe;for(var de=ae.observers;de.length;)de.shift().error(oe)}})},ne.prototype.complete=function(){var oe=this;errorContext(function(){if(oe._throwIfClosed(),!oe.isStopped){oe.isStopped=!0;for(var ae=oe.observers;ae.length;)ae.shift().complete()}})},ne.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(ne.prototype,"observed",{get:function(){var oe;return((oe=this.observers)===null||oe===void 0?void 0:oe.length)>0},enumerable:!1,configurable:!0}),ne.prototype._trySubscribe=function(oe){return this._throwIfClosed(),ee.prototype._trySubscribe.call(this,oe)},ne.prototype._subscribe=function(oe){return this._throwIfClosed(),this._checkFinalizedStatuses(oe),this._innerSubscribe(oe)},ne.prototype._innerSubscribe=function(oe){var ae=this,de=this,fe=de.hasError,pe=de.isStopped,he=de.observers;return fe||pe?EMPTY_SUBSCRIPTION:(this.currentObservers=null,he.push(oe),new Subscription(function(){ae.currentObservers=null,arrRemove(he,oe)}))},ne.prototype._checkFinalizedStatuses=function(oe){var ae=this,de=ae.hasError,fe=ae.thrownError,pe=ae.isStopped;de?oe.error(fe):pe&&oe.complete()},ne.prototype.asObservable=function(){var oe=new Observable;return oe.source=this,oe},ne.create=function(oe,ae){return new AnonymousSubject(oe,ae)},ne}(Observable),AnonymousSubject=function(ee){__extends$1(ne,ee);function ne(oe,ae){var de=ee.call(this)||this;return de.destination=oe,de.source=ae,de}return ne.prototype.next=function(oe){var ae,de;(de=(ae=this.destination)===null||ae===void 0?void 0:ae.next)===null||de===void 0||de.call(ae,oe)},ne.prototype.error=function(oe){var ae,de;(de=(ae=this.destination)===null||ae===void 0?void 0:ae.error)===null||de===void 0||de.call(ae,oe)},ne.prototype.complete=function(){var oe,ae;(ae=(oe=this.destination)===null||oe===void 0?void 0:oe.complete)===null||ae===void 0||ae.call(oe)},ne.prototype._subscribe=function(oe){var ae,de;return(de=(ae=this.source)===null||ae===void 0?void 0:ae.subscribe(oe))!==null&&de!==void 0?de:EMPTY_SUBSCRIPTION},ne}(Subject),dateTimestampProvider={now:function(){return(dateTimestampProvider.delegate||Date).now()},delegate:void 0},ReplaySubject=function(ee){__extends$1(ne,ee);function ne(oe,ae,de){oe===void 0&&(oe=1/0),ae===void 0&&(ae=1/0),de===void 0&&(de=dateTimestampProvider);var fe=ee.call(this)||this;return fe._bufferSize=oe,fe._windowTime=ae,fe._timestampProvider=de,fe._buffer=[],fe._infiniteTimeWindow=!0,fe._infiniteTimeWindow=ae===1/0,fe._bufferSize=Math.max(1,oe),fe._windowTime=Math.max(1,ae),fe}return ne.prototype.next=function(oe){var ae=this,de=ae.isStopped,fe=ae._buffer,pe=ae._infiniteTimeWindow,he=ae._timestampProvider,be=ae._windowTime;de||(fe.push(oe),!pe&&fe.push(he.now()+be)),this._trimBuffer(),ee.prototype.next.call(this,oe)},ne.prototype._subscribe=function(oe){this._throwIfClosed(),this._trimBuffer();for(var ae=this._innerSubscribe(oe),de=this,fe=de._infiniteTimeWindow,pe=de._buffer,he=pe.slice(),be=0;be<he.length&&!oe.closed;be+=fe?1:2)oe.next(he[be]);return this._checkFinalizedStatuses(oe),ae},ne.prototype._trimBuffer=function(){var oe=this,ae=oe._bufferSize,de=oe._timestampProvider,fe=oe._buffer,pe=oe._infiniteTimeWindow,he=(pe?1:2)*ae;if(ae<1/0&&he<fe.length&&fe.splice(0,fe.length-he),!pe){for(var be=de.now(),ge=0,ve=1;ve<fe.length&&fe[ve]<=be;ve+=2)ge=ve;ge&&fe.splice(0,ge+1)}},ne}(Subject),EMPTY=new Observable(function(ee){return ee.complete()});function isScheduler(ee){return ee&&isFunction$2(ee.schedule)}function last(ee){return ee[ee.length-1]}function popResultSelector(ee){return isFunction$2(last(ee))?ee.pop():void 0}function popScheduler(ee){return isScheduler(last(ee))?ee.pop():void 0}var isArrayLike=function(ee){return ee&&typeof ee.length=="number"&&typeof ee!="function"};function isPromise(ee){return isFunction$2(ee?.then)}function isInteropObservable(ee){return isFunction$2(ee[observable$1])}function isAsyncIterable$2(ee){return Symbol.asyncIterator&&isFunction$2(ee?.[Symbol.asyncIterator])}function createInvalidObservableTypeError(ee){return new TypeError("You provided "+(ee!==null&&typeof ee=="object"?"an invalid object":"'"+ee+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function getSymbolIterator(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var iterator=getSymbolIterator();function isIterable$1(ee){return isFunction$2(ee?.[iterator])}function readableStreamLikeToAsyncGenerator(ee){return __asyncGenerator(this,arguments,function(){var oe,ae,de,fe;return __generator(this,function(pe){switch(pe.label){case 0:oe=ee.getReader(),pe.label=1;case 1:pe.trys.push([1,,9,10]),pe.label=2;case 2:return[4,__await(oe.read())];case 3:return ae=pe.sent(),de=ae.value,fe=ae.done,fe?[4,__await(void 0)]:[3,5];case 4:return[2,pe.sent()];case 5:return[4,__await(de)];case 6:return[4,pe.sent()];case 7:return pe.sent(),[3,2];case 8:return[3,10];case 9:return oe.releaseLock(),[7];case 10:return[2]}})})}function isReadableStreamLike(ee){return isFunction$2(ee?.getReader)}function innerFrom(ee){if(ee instanceof Observable)return ee;if(ee!=null){if(isInteropObservable(ee))return fromInteropObservable(ee);if(isArrayLike(ee))return fromArrayLike(ee);if(isPromise(ee))return fromPromise(ee);if(isAsyncIterable$2(ee))return fromAsyncIterable(ee);if(isIterable$1(ee))return fromIterable(ee);if(isReadableStreamLike(ee))return fromReadableStreamLike(ee)}throw createInvalidObservableTypeError(ee)}function fromInteropObservable(ee){return new Observable(function(ne){var oe=ee[observable$1]();if(isFunction$2(oe.subscribe))return oe.subscribe(ne);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function fromArrayLike(ee){return new Observable(function(ne){for(var oe=0;oe<ee.length&&!ne.closed;oe++)ne.next(ee[oe]);ne.complete()})}function fromPromise(ee){return new Observable(function(ne){ee.then(function(oe){ne.closed||(ne.next(oe),ne.complete())},function(oe){return ne.error(oe)}).then(null,reportUnhandledError)})}function fromIterable(ee){return new Observable(function(ne){var oe,ae;try{for(var de=__values(ee),fe=de.next();!fe.done;fe=de.next()){var pe=fe.value;if(ne.next(pe),ne.closed)return}}catch(he){oe={error:he}}finally{try{fe&&!fe.done&&(ae=de.return)&&ae.call(de)}finally{if(oe)throw oe.error}}ne.complete()})}function fromAsyncIterable(ee){return new Observable(function(ne){process$1(ee,ne).catch(function(oe){return ne.error(oe)})})}function fromReadableStreamLike(ee){return fromAsyncIterable(readableStreamLikeToAsyncGenerator(ee))}function process$1(ee,ne){var oe,ae,de,fe;return __awaiter(this,void 0,void 0,function(){var pe,he;return __generator(this,function(be){switch(be.label){case 0:be.trys.push([0,5,6,11]),oe=__asyncValues(ee),be.label=1;case 1:return[4,oe.next()];case 2:if(ae=be.sent(),!!ae.done)return[3,4];if(pe=ae.value,ne.next(pe),ne.closed)return[2];be.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return he=be.sent(),de={error:he},[3,11];case 6:return be.trys.push([6,,9,10]),ae&&!ae.done&&(fe=oe.return)?[4,fe.call(oe)]:[3,8];case 7:be.sent(),be.label=8;case 8:return[3,10];case 9:if(de)throw de.error;return[7];case 10:return[7];case 11:return ne.complete(),[2]}})})}function executeSchedule(ee,ne,oe,ae,de){ae===void 0&&(ae=0),de===void 0&&(de=!1);var fe=ne.schedule(function(){oe(),de?ee.add(this.schedule(null,ae)):this.unsubscribe()},ae);if(ee.add(fe),!de)return fe}function observeOn(ee,ne){return ne===void 0&&(ne=0),operate(function(oe,ae){oe.subscribe(createOperatorSubscriber(ae,function(de){return executeSchedule(ae,ee,function(){return ae.next(de)},ne)},function(){return executeSchedule(ae,ee,function(){return ae.complete()},ne)},function(de){return executeSchedule(ae,ee,function(){return ae.error(de)},ne)}))})}function subscribeOn(ee,ne){return ne===void 0&&(ne=0),operate(function(oe,ae){ae.add(ee.schedule(function(){return oe.subscribe(ae)},ne))})}function scheduleObservable(ee,ne){return innerFrom(ee).pipe(subscribeOn(ne),observeOn(ne))}function schedulePromise(ee,ne){return innerFrom(ee).pipe(subscribeOn(ne),observeOn(ne))}function scheduleArray(ee,ne){return new Observable(function(oe){var ae=0;return ne.schedule(function(){ae===ee.length?oe.complete():(oe.next(ee[ae++]),oe.closed||this.schedule())})})}function scheduleIterable(ee,ne){return new Observable(function(oe){var ae;return executeSchedule(oe,ne,function(){ae=ee[iterator](),executeSchedule(oe,ne,function(){var de,fe,pe;try{de=ae.next(),fe=de.value,pe=de.done}catch(he){oe.error(he);return}pe?oe.complete():oe.next(fe)},0,!0)}),function(){return isFunction$2(ae?.return)&&ae.return()}})}function scheduleAsyncIterable(ee,ne){if(!ee)throw new Error("Iterable cannot be null");return new Observable(function(oe){executeSchedule(oe,ne,function(){var ae=ee[Symbol.asyncIterator]();executeSchedule(oe,ne,function(){ae.next().then(function(de){de.done?oe.complete():oe.next(de.value)})},0,!0)})})}function scheduleReadableStreamLike(ee,ne){return scheduleAsyncIterable(readableStreamLikeToAsyncGenerator(ee),ne)}function scheduled(ee,ne){if(ee!=null){if(isInteropObservable(ee))return scheduleObservable(ee,ne);if(isArrayLike(ee))return scheduleArray(ee,ne);if(isPromise(ee))return schedulePromise(ee,ne);if(isAsyncIterable$2(ee))return scheduleAsyncIterable(ee,ne);if(isIterable$1(ee))return scheduleIterable(ee,ne);if(isReadableStreamLike(ee))return scheduleReadableStreamLike(ee,ne)}throw createInvalidObservableTypeError(ee)}function from(ee,ne){return ne?scheduled(ee,ne):innerFrom(ee)}function of(){for(var ee=[],ne=0;ne<arguments.length;ne++)ee[ne]=arguments[ne];var oe=popScheduler(ee);return from(ee,oe)}var EmptyError=createErrorClass(function(ee){return function(){ee(this),this.name="EmptyError",this.message="no elements in sequence"}});function firstValueFrom(ee,ne){var oe=typeof ne=="object";return new Promise(function(ae,de){var fe=new SafeSubscriber({next:function(pe){ae(pe),fe.unsubscribe()},error:de,complete:function(){oe?ae(ne.defaultValue):de(new EmptyError)}});ee.subscribe(fe)})}function map(ee,ne){return operate(function(oe,ae){var de=0;oe.subscribe(createOperatorSubscriber(ae,function(fe){ae.next(ee.call(ne,fe,de++))}))})}var isArray$3=Array.isArray;function callOrApply(ee,ne){return isArray$3(ne)?ee.apply(void 0,__spreadArray$3([],__read$4(ne))):ee(ne)}function mapOneOrManyArgs(ee){return map(function(ne){return callOrApply(ee,ne)})}var isArray$2=Array.isArray,getPrototypeOf$1=Object.getPrototypeOf,objectProto=Object.prototype,getKeys=Object.keys;function argsArgArrayOrObject(ee){if(ee.length===1){var ne=ee[0];if(isArray$2(ne))return{args:ne,keys:null};if(isPOJO(ne)){var oe=getKeys(ne);return{args:oe.map(function(ae){return ne[ae]}),keys:oe}}}return{args:ee,keys:null}}function isPOJO(ee){return ee&&typeof ee=="object"&&getPrototypeOf$1(ee)===objectProto}function createObject(ee,ne){return ee.reduce(function(oe,ae,de){return oe[ae]=ne[de],oe},{})}function combineLatest(){for(var ee=[],ne=0;ne<arguments.length;ne++)ee[ne]=arguments[ne];var oe=popScheduler(ee),ae=popResultSelector(ee),de=argsArgArrayOrObject(ee),fe=de.args,pe=de.keys;if(fe.length===0)return from([],oe);var he=new Observable(combineLatestInit(fe,oe,pe?function(be){return createObject(pe,be)}:identity$1));return ae?he.pipe(mapOneOrManyArgs(ae)):he}function combineLatestInit(ee,ne,oe){return oe===void 0&&(oe=identity$1),function(ae){maybeSchedule(ne,function(){for(var de=ee.length,fe=new Array(de),pe=de,he=de,be=function(ve){maybeSchedule(ne,function(){var we=from(ee[ve],ne),_e=!1;we.subscribe(createOperatorSubscriber(ae,function(Te){fe[ve]=Te,_e||(_e=!0,he--),he||ae.next(oe(fe.slice()))},function(){--pe||ae.complete()}))},ae)},ge=0;ge<de;ge++)be(ge)},ae)}}function maybeSchedule(ee,ne,oe){ee?executeSchedule(oe,ee,ne):ne()}function mergeInternals(ee,ne,oe,ae,de,fe,pe,he){var be=[],ge=0,ve=0,we=!1,_e=function(){we&&!be.length&&!ge&&ne.complete()},Te=function(Ie){return ge<ae?Ee(Ie):be.push(Ie)},Ee=function(Ie){fe&&ne.next(Ie),ge++;var Pe=!1;innerFrom(oe(Ie,ve++)).subscribe(createOperatorSubscriber(ne,function(xe){de?.(xe),fe?Te(xe):ne.next(xe)},function(){Pe=!0},void 0,function(){if(Pe)try{ge--;for(var xe=function(){var Ae=be.shift();pe?executeSchedule(ne,pe,function(){return Ee(Ae)}):Ee(Ae)};be.length&&ge<ae;)xe();_e()}catch(Ae){ne.error(Ae)}}))};return ee.subscribe(createOperatorSubscriber(ne,Te,function(){we=!0,_e()})),function(){he?.()}}function mergeMap(ee,ne,oe){return oe===void 0&&(oe=1/0),isFunction$2(ne)?mergeMap(function(ae,de){return map(function(fe,pe){return ne(ae,fe,de,pe)})(innerFrom(ee(ae,de)))},oe):(typeof ne=="number"&&(oe=ne),operate(function(ae,de){return mergeInternals(ae,de,ee,oe)}))}function mergeAll(ee){return ee===void 0&&(ee=1/0),mergeMap(identity$1,ee)}function concatAll(){return mergeAll(1)}function concat$1(){for(var ee=[],ne=0;ne<arguments.length;ne++)ee[ne]=arguments[ne];return concatAll()(from(ee,popScheduler(ee)))}function defer(ee){return new Observable(function(ne){innerFrom(ee()).subscribe(ne)})}function filter(ee,ne){return operate(function(oe,ae){var de=0;oe.subscribe(createOperatorSubscriber(ae,function(fe){return ee.call(ne,fe,de++)&&ae.next(fe)}))})}function catchError(ee){return operate(function(ne,oe){var ae=null,de=!1,fe;ae=ne.subscribe(createOperatorSubscriber(oe,void 0,void 0,function(pe){fe=innerFrom(ee(pe,catchError(ee)(ne))),ae?(ae.unsubscribe(),ae=null,fe.subscribe(oe)):de=!0})),de&&(ae.unsubscribe(),ae=null,fe.subscribe(oe))})}function scanInternals(ee,ne,oe,ae,de){return function(fe,pe){var he=oe,be=ne,ge=0;fe.subscribe(createOperatorSubscriber(pe,function(ve){var we=ge++;be=he?ee(be,ve,we):(he=!0,ve),ae&&pe.next(be)},de&&function(){he&&pe.next(be),pe.complete()}))}}function concatMap(ee,ne){return isFunction$2(ne)?mergeMap(ee,ne,1):mergeMap(ee,1)}function take(ee){return ee<=0?function(){return EMPTY}:operate(function(ne,oe){var ae=0;ne.subscribe(createOperatorSubscriber(oe,function(de){++ae<=ee&&(oe.next(de),ee<=ae&&oe.complete())}))})}function scan(ee,ne){return operate(scanInternals(ee,ne,arguments.length>=2,!0))}function share$1(ee){ee===void 0&&(ee={});var ne=ee.connector,oe=ne===void 0?function(){return new Subject}:ne,ae=ee.resetOnError,de=ae===void 0?!0:ae,fe=ee.resetOnComplete,pe=fe===void 0?!0:fe,he=ee.resetOnRefCountZero,be=he===void 0?!0:he;return function(ge){var ve=null,we=null,_e=null,Te=0,Ee=!1,Ie=!1,Pe=function(){we?.unsubscribe(),we=null},xe=function(){Pe(),ve=_e=null,Ee=Ie=!1},Ae=function(){var $e=ve;xe(),$e?.unsubscribe()};return operate(function($e,Se){Te++,!Ie&&!Ee&&Pe();var Re=_e=_e??oe();Se.add(function(){Te--,Te===0&&!Ie&&!Ee&&(we=handleReset(Ae,be))}),Re.subscribe(Se),ve||(ve=new SafeSubscriber({next:function(Be){return Re.next(Be)},error:function(Be){Ie=!0,Pe(),we=handleReset(xe,de,Be),Re.error(Be)},complete:function(){Ee=!0,Pe(),we=handleReset(xe,pe),Re.complete()}}),from($e).subscribe(ve))})(ge)}}function handleReset(ee,ne){for(var oe=[],ae=2;ae<arguments.length;ae++)oe[ae-2]=arguments[ae];return ne===!0?(ee(),null):ne===!1?null:ne.apply(void 0,__spreadArray$3([],__read$4(oe))).pipe(take(1)).subscribe(function(){return ee()})}function shareReplay(ee,ne,oe){var ae,de,fe,pe,he=!1;return ee&&typeof ee=="object"?(ae=ee.bufferSize,pe=ae===void 0?1/0:ae,de=ee.windowTime,ne=de===void 0?1/0:de,fe=ee.refCount,he=fe===void 0?!1:fe,oe=ee.scheduler):pe=ee??1/0,share$1({connector:function(){return new ReplaySubject(pe,ne,oe)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:he})}function tap(ee,ne,oe){var ae=isFunction$2(ee)||ne||oe?{next:ee,error:ne,complete:oe}:ee;return ae?operate(function(de,fe){var pe;(pe=ae.subscribe)===null||pe===void 0||pe.call(ae);var he=!0;de.subscribe(createOperatorSubscriber(fe,function(be){var ge;(ge=ae.next)===null||ge===void 0||ge.call(ae,be),fe.next(be)},function(){var be;he=!1,(be=ae.complete)===null||be===void 0||be.call(ae),fe.complete()},function(be){var ge;he=!1,(ge=ae.error)===null||ge===void 0||ge.call(ae,be),fe.error(be)},function(){var be,ge;he&&((be=ae.unsubscribe)===null||be===void 0||be.call(ae)),(ge=ae.finalize)===null||ge===void 0||ge.call(ae)}))}):identity$1}function $r(ee,ne){let oe={};for(let ae in ee)oe[ae]=ne(ee[ae],ae);return oe}var ue$1=function(){let ee=cr,ne=mr;return ne(ee(32),8)+"-"+ne(ee(16),4)+"-"+ne(16384|ee(12),4)+"-"+ne(32768|ee(14),4)+"-"+ne(ee(48),12)},cr=function(ee){if(ee<0||ee>53)return NaN;let ne=0|Math.random()*1073741824;return ee>30?ne+(0|Math.random()*(1<<ee-30))*1073741824:ne>>>30-ee},mr=function(ee,ne){let oe=ee.toString(16),ae=ne-oe.length,de="0";for(;ae>0;ae>>>=1,de+=de)ae&1&&(oe=de+oe);return oe};function y$4(ee){return{...ee,[Symbol.iterator](){return this}}}function I$3(ee,ne){return y$4({next(){let{done:oe,value:ae}=ee.next();return{done:oe,value:oe?ae:ne(ae)}}})}function yr(ee){if(ee<2)throw new Error("Minimum size is 2");if(ee>64)throw new Error("Maximum size is 64");let ne=2**(ee-1)-1,oe=-ne-1;return ae=>{if(ae=ae<<0,ae>ne||ae<oe)throw console.log("value",ae,ne,oe,ae>ne,ae<oe),new Error(`Int${ee} overflow`);return ae<0?2**ee+ae:ae}}yr(32);/**
* UUID.core.js - UUID.js for Minimalists
*
* @file
* @author  LiosK
* @version v4.2.0
* @license Apache License 2.0: Copyright (c) 2010-2018 LiosK
* @url https://github.com/LiosK/UUID.js/blob/master/src/uuid.core.js
*/var P$4=(ee=>(ee[ee.Boolean=0]="Boolean",ee[ee.Number=1]="Number",ee[ee.OptionalNumber=2]="OptionalNumber",ee[ee.BigInt=3]="BigInt",ee[ee.OptionalBigInt=4]="OptionalBigInt",ee[ee.String=5]="String",ee[ee.OptionalString=6]="OptionalString",ee[ee.NumberArray=7]="NumberArray",ee[ee.OptionalNumberArray=8]="OptionalNumberArray",ee[ee.BigIntArray=9]="BigIntArray",ee[ee.OptionalBigIntArray=10]="OptionalBigIntArray",ee[ee.StringArray=11]="StringArray",ee[ee.OptionalStringArray=12]="OptionalStringArray",ee[ee.Entity=13]="Entity",ee[ee.OptionalEntity=14]="OptionalEntity",ee[ee.EntityArray=15]="EntityArray",ee[ee.OptionalEntityArray=16]="OptionalEntityArray",ee[ee.T=17]="T",ee[ee.OptionalT=18]="OptionalT",ee))(P$4||{}),k$2=(ee=>(ee[ee.Enter=0]="Enter",ee[ee.Exit=1]="Exit",ee[ee.Update=2]="Update",ee[ee.Noop=3]="Noop",ee))(k$2||{}),w$4=[14,16,2,8,4,10,6,12,18];function M$4(ee){let ne=new Map;function oe(he){let be=ne.get(ae(he));return be?new Set([...be].map(v$3)):new Set}function ae(he){return Object.values(he).join("/")}function de(he,be){if(!be)return;let ge=ae(be),ve=ne.get(ge);ve||(ve=new Set,ne.set(ge,ve)),ve.add(he)}function fe(he,be){if(!be)return;let ge=ae(be),ve=ne.get(ge);ve&&ve.delete(he)}for(let he of V$3(ee)){let be=g$3(ee,he);de(p$4(he),be)}let pe=ee.update$.subscribe(({entity:he,value:be})=>{fe(p$4(he),be[1]),de(p$4(he),be[0])});return ee.world.registerDisposer(()=>pe?.unsubscribe()),{...ee,getEntitiesWithValue:oe}}function b$4(ee){return ee.metadata?.componentName??ee.metadata?.tableName??ee.metadata?.tableId??ee.metadata?.contractId??ee.id}function ie(ee,ne,oe){if(Object.keys(ne).length===0)throw new Error("Component schema must have at least one key");let ae=oe?.id??ue$1(),de=$r(ne,()=>new Map),fe=new Subject,pe=oe?.metadata,he={values:de,schema:ne,id:ae,update$:fe,metadata:pe,entities:()=>I$3(Object.values(de)[0].keys(),v$3),world:ee};return oe?.indexed&&(he=M$4(he)),ee.registerComponent(he),he}function E$3(ee,ne,oe,ae={}){let de=p$4(ne),fe=g$3(ee,ne);for(let[pe,he]of Object.entries(oe))ee.values[pe]?ee.values[pe].set(de,he):ee.metadata?.tableId&&/^\d+$/.test(pe)||console.warn("Component definition for",b$4(ee),"is missing key",pe,", ignoring value",he,"for entity",ne,". Existing keys: ",Object.keys(ee.values));ae.skipUpdateStream||ee.update$.next({entity:ne,value:[oe,fe],component:ee})}function ue(ee,ne,oe={}){let ae=p$4(ne),de=g$3(ee,ne);for(let fe of Object.keys(ee.values))ee.values[fe].delete(ae);oe.skipUpdateStream||ee.update$.next({entity:ne,value:[void 0,de],component:ee})}function le(ee,ne){let oe=p$4(ne);return Object.values(ee.values)[0].has(oe)}function g$3(ee,ne){let oe={},ae=p$4(ne),de=Object.keys(ee.schema);for(let fe of de){let pe=ee.values[fe].get(ae);if(pe===void 0&&!w$4.includes(ee.schema[fe]))return;oe[fe]=pe}return oe}function V$3(ee){return ee.entities()}function p$4(ee){return Symbol.for(ee)}function v$3(ee){return Symbol.keyFor(ee)}var N$3=(ee=>(ee[ee.Has=0]="Has",ee[ee.HasValue=1]="HasValue",ee[ee.Not=2]="Not",ee[ee.NotValue=3]="NotValue",ee[ee.ProxyRead=4]="ProxyRead",ee[ee.ProxyExpand=5]="ProxyExpand",ee))(N$3||{});function ft(){let ee=new Set,ne=[],oe=[];function ae({id:ve,idSuffix:we}={}){let _e=ve||ee.size+(we?"-"+we:""),Te=p$4(_e);return ee.add(Te),_e}function de(){return I$3(ee.values(),v$3)}function fe(ve){ne.push(ve)}function pe(ve){for(let[,we]of oe.filter(_e=>!ve||_e[0]===ve))we();oe=oe.filter(we=>ve&&we[0]!==ve)}function he(ve,we=""){oe.push([we,ve])}function be(ve){let we=p$4(ve);return ee.has(we)}function ge(ve){for(let we of ne)le(we,ve)&&ue(we,ve);ee.delete(p$4(ve))}return{registerEntity:ae,components:ne,registerComponent:fe,dispose:pe,registerDisposer:he,hasEntity:be,getEntities:de,entitySymbols:ee,deleteEntity:ge}}var util$5;(function(ee){ee.assertEqual=de=>de;function ne(de){}ee.assertIs=ne;function oe(de){throw new Error}ee.assertNever=oe,ee.arrayToEnum=de=>{const fe={};for(const pe of de)fe[pe]=pe;return fe},ee.getValidEnumValues=de=>{const fe=ee.objectKeys(de).filter(he=>typeof de[de[he]]!="number"),pe={};for(const he of fe)pe[he]=de[he];return ee.objectValues(pe)},ee.objectValues=de=>ee.objectKeys(de).map(function(fe){return de[fe]}),ee.objectKeys=typeof Object.keys=="function"?de=>Object.keys(de):de=>{const fe=[];for(const pe in de)Object.prototype.hasOwnProperty.call(de,pe)&&fe.push(pe);return fe},ee.find=(de,fe)=>{for(const pe of de)if(fe(pe))return pe},ee.isInteger=typeof Number.isInteger=="function"?de=>Number.isInteger(de):de=>typeof de=="number"&&isFinite(de)&&Math.floor(de)===de;function ae(de,fe=" | "){return de.map(pe=>typeof pe=="string"?`'${pe}'`:pe).join(fe)}ee.joinValues=ae,ee.jsonStringifyReplacer=(de,fe)=>typeof fe=="bigint"?fe.toString():fe})(util$5||(util$5={}));var objectUtil;(function(ee){ee.mergeShapes=(ne,oe)=>({...ne,...oe})})(objectUtil||(objectUtil={}));const ZodParsedType=util$5.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),getParsedType=ee=>{switch(typeof ee){case"undefined":return ZodParsedType.undefined;case"string":return ZodParsedType.string;case"number":return isNaN(ee)?ZodParsedType.nan:ZodParsedType.number;case"boolean":return ZodParsedType.boolean;case"function":return ZodParsedType.function;case"bigint":return ZodParsedType.bigint;case"symbol":return ZodParsedType.symbol;case"object":return Array.isArray(ee)?ZodParsedType.array:ee===null?ZodParsedType.null:ee.then&&typeof ee.then=="function"&&ee.catch&&typeof ee.catch=="function"?ZodParsedType.promise:typeof Map<"u"&&ee instanceof Map?ZodParsedType.map:typeof Set<"u"&&ee instanceof Set?ZodParsedType.set:typeof Date<"u"&&ee instanceof Date?ZodParsedType.date:ZodParsedType.object;default:return ZodParsedType.unknown}},ZodIssueCode=util$5.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),quotelessJson=ee=>JSON.stringify(ee,null,2).replace(/"([^"]+)":/g,"$1:");class ZodError extends Error{constructor(ne){super(),this.issues=[],this.addIssue=ae=>{this.issues=[...this.issues,ae]},this.addIssues=(ae=[])=>{this.issues=[...this.issues,...ae]};const oe=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,oe):this.__proto__=oe,this.name="ZodError",this.issues=ne}get errors(){return this.issues}format(ne){const oe=ne||function(fe){return fe.message},ae={_errors:[]},de=fe=>{for(const pe of fe.issues)if(pe.code==="invalid_union")pe.unionErrors.map(de);else if(pe.code==="invalid_return_type")de(pe.returnTypeError);else if(pe.code==="invalid_arguments")de(pe.argumentsError);else if(pe.path.length===0)ae._errors.push(oe(pe));else{let he=ae,be=0;for(;be<pe.path.length;){const ge=pe.path[be];be===pe.path.length-1?(he[ge]=he[ge]||{_errors:[]},he[ge]._errors.push(oe(pe))):he[ge]=he[ge]||{_errors:[]},he=he[ge],be++}}};return de(this),ae}toString(){return this.message}get message(){return JSON.stringify(this.issues,util$5.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(ne=oe=>oe.message){const oe={},ae=[];for(const de of this.issues)de.path.length>0?(oe[de.path[0]]=oe[de.path[0]]||[],oe[de.path[0]].push(ne(de))):ae.push(ne(de));return{formErrors:ae,fieldErrors:oe}}get formErrors(){return this.flatten()}}ZodError.create=ee=>new ZodError(ee);const errorMap=(ee,ne)=>{let oe;switch(ee.code){case ZodIssueCode.invalid_type:ee.received===ZodParsedType.undefined?oe="Required":oe=`Expected ${ee.expected}, received ${ee.received}`;break;case ZodIssueCode.invalid_literal:oe=`Invalid literal value, expected ${JSON.stringify(ee.expected,util$5.jsonStringifyReplacer)}`;break;case ZodIssueCode.unrecognized_keys:oe=`Unrecognized key(s) in object: ${util$5.joinValues(ee.keys,", ")}`;break;case ZodIssueCode.invalid_union:oe="Invalid input";break;case ZodIssueCode.invalid_union_discriminator:oe=`Invalid discriminator value. Expected ${util$5.joinValues(ee.options)}`;break;case ZodIssueCode.invalid_enum_value:oe=`Invalid enum value. Expected ${util$5.joinValues(ee.options)}, received '${ee.received}'`;break;case ZodIssueCode.invalid_arguments:oe="Invalid function arguments";break;case ZodIssueCode.invalid_return_type:oe="Invalid function return type";break;case ZodIssueCode.invalid_date:oe="Invalid date";break;case ZodIssueCode.invalid_string:typeof ee.validation=="object"?"includes"in ee.validation?(oe=`Invalid input: must include "${ee.validation.includes}"`,typeof ee.validation.position=="number"&&(oe=`${oe} at one or more positions greater than or equal to ${ee.validation.position}`)):"startsWith"in ee.validation?oe=`Invalid input: must start with "${ee.validation.startsWith}"`:"endsWith"in ee.validation?oe=`Invalid input: must end with "${ee.validation.endsWith}"`:util$5.assertNever(ee.validation):ee.validation!=="regex"?oe=`Invalid ${ee.validation}`:oe="Invalid";break;case ZodIssueCode.too_small:ee.type==="array"?oe=`Array must contain ${ee.exact?"exactly":ee.inclusive?"at least":"more than"} ${ee.minimum} element(s)`:ee.type==="string"?oe=`String must contain ${ee.exact?"exactly":ee.inclusive?"at least":"over"} ${ee.minimum} character(s)`:ee.type==="number"?oe=`Number must be ${ee.exact?"exactly equal to ":ee.inclusive?"greater than or equal to ":"greater than "}${ee.minimum}`:ee.type==="date"?oe=`Date must be ${ee.exact?"exactly equal to ":ee.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(ee.minimum))}`:oe="Invalid input";break;case ZodIssueCode.too_big:ee.type==="array"?oe=`Array must contain ${ee.exact?"exactly":ee.inclusive?"at most":"less than"} ${ee.maximum} element(s)`:ee.type==="string"?oe=`String must contain ${ee.exact?"exactly":ee.inclusive?"at most":"under"} ${ee.maximum} character(s)`:ee.type==="number"?oe=`Number must be ${ee.exact?"exactly":ee.inclusive?"less than or equal to":"less than"} ${ee.maximum}`:ee.type==="bigint"?oe=`BigInt must be ${ee.exact?"exactly":ee.inclusive?"less than or equal to":"less than"} ${ee.maximum}`:ee.type==="date"?oe=`Date must be ${ee.exact?"exactly":ee.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(ee.maximum))}`:oe="Invalid input";break;case ZodIssueCode.custom:oe="Invalid input";break;case ZodIssueCode.invalid_intersection_types:oe="Intersection results could not be merged";break;case ZodIssueCode.not_multiple_of:oe=`Number must be a multiple of ${ee.multipleOf}`;break;case ZodIssueCode.not_finite:oe="Number must be finite";break;default:oe=ne.defaultError,util$5.assertNever(ee)}return{message:oe}};let overrideErrorMap=errorMap;function setErrorMap(ee){overrideErrorMap=ee}function getErrorMap(){return overrideErrorMap}const makeIssue=ee=>{const{data:ne,path:oe,errorMaps:ae,issueData:de}=ee,fe=[...oe,...de.path||[]],pe={...de,path:fe};let he="";const be=ae.filter(ge=>!!ge).slice().reverse();for(const ge of be)he=ge(pe,{data:ne,defaultError:he}).message;return{...de,path:fe,message:de.message||he}},EMPTY_PATH=[];function addIssueToContext(ee,ne){const oe=makeIssue({issueData:ne,data:ee.data,path:ee.path,errorMaps:[ee.common.contextualErrorMap,ee.schemaErrorMap,getErrorMap(),errorMap].filter(ae=>!!ae)});ee.common.issues.push(oe)}class ParseStatus{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(ne,oe){const ae=[];for(const de of oe){if(de.status==="aborted")return INVALID;de.status==="dirty"&&ne.dirty(),ae.push(de.value)}return{status:ne.value,value:ae}}static async mergeObjectAsync(ne,oe){const ae=[];for(const de of oe)ae.push({key:await de.key,value:await de.value});return ParseStatus.mergeObjectSync(ne,ae)}static mergeObjectSync(ne,oe){const ae={};for(const de of oe){const{key:fe,value:pe}=de;if(fe.status==="aborted"||pe.status==="aborted")return INVALID;fe.status==="dirty"&&ne.dirty(),pe.status==="dirty"&&ne.dirty(),fe.value!=="__proto__"&&(typeof pe.value<"u"||de.alwaysSet)&&(ae[fe.value]=pe.value)}return{status:ne.value,value:ae}}}const INVALID=Object.freeze({status:"aborted"}),DIRTY=ee=>({status:"dirty",value:ee}),OK=ee=>({status:"valid",value:ee}),isAborted=ee=>ee.status==="aborted",isDirty=ee=>ee.status==="dirty",isValid=ee=>ee.status==="valid",isAsync=ee=>typeof Promise<"u"&&ee instanceof Promise;var errorUtil;(function(ee){ee.errToObj=ne=>typeof ne=="string"?{message:ne}:ne||{},ee.toString=ne=>typeof ne=="string"?ne:ne?.message})(errorUtil||(errorUtil={}));class ParseInputLazyPath{constructor(ne,oe,ae,de){this._cachedPath=[],this.parent=ne,this.data=oe,this._path=ae,this._key=de}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const handleResult=(ee,ne)=>{if(isValid(ne))return{success:!0,data:ne.value};if(!ee.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const oe=new ZodError(ee.common.issues);return this._error=oe,this._error}}};function processCreateParams(ee){if(!ee)return{};const{errorMap:ne,invalid_type_error:oe,required_error:ae,description:de}=ee;if(ne&&(oe||ae))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return ne?{errorMap:ne,description:de}:{errorMap:(pe,he)=>pe.code!=="invalid_type"?{message:he.defaultError}:typeof he.data>"u"?{message:ae??he.defaultError}:{message:oe??he.defaultError},description:de}}class ZodType{constructor(ne){this.spa=this.safeParseAsync,this._def=ne,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(ne){return getParsedType(ne.data)}_getOrReturnCtx(ne,oe){return oe||{common:ne.parent.common,data:ne.data,parsedType:getParsedType(ne.data),schemaErrorMap:this._def.errorMap,path:ne.path,parent:ne.parent}}_processInputParams(ne){return{status:new ParseStatus,ctx:{common:ne.parent.common,data:ne.data,parsedType:getParsedType(ne.data),schemaErrorMap:this._def.errorMap,path:ne.path,parent:ne.parent}}}_parseSync(ne){const oe=this._parse(ne);if(isAsync(oe))throw new Error("Synchronous parse encountered promise.");return oe}_parseAsync(ne){const oe=this._parse(ne);return Promise.resolve(oe)}parse(ne,oe){const ae=this.safeParse(ne,oe);if(ae.success)return ae.data;throw ae.error}safeParse(ne,oe){var ae;const de={common:{issues:[],async:(ae=oe?.async)!==null&&ae!==void 0?ae:!1,contextualErrorMap:oe?.errorMap},path:oe?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:ne,parsedType:getParsedType(ne)},fe=this._parseSync({data:ne,path:de.path,parent:de});return handleResult(de,fe)}async parseAsync(ne,oe){const ae=await this.safeParseAsync(ne,oe);if(ae.success)return ae.data;throw ae.error}async safeParseAsync(ne,oe){const ae={common:{issues:[],contextualErrorMap:oe?.errorMap,async:!0},path:oe?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:ne,parsedType:getParsedType(ne)},de=this._parse({data:ne,path:ae.path,parent:ae}),fe=await(isAsync(de)?de:Promise.resolve(de));return handleResult(ae,fe)}refine(ne,oe){const ae=de=>typeof oe=="string"||typeof oe>"u"?{message:oe}:typeof oe=="function"?oe(de):oe;return this._refinement((de,fe)=>{const pe=ne(de),he=()=>fe.addIssue({code:ZodIssueCode.custom,...ae(de)});return typeof Promise<"u"&&pe instanceof Promise?pe.then(be=>be?!0:(he(),!1)):pe?!0:(he(),!1)})}refinement(ne,oe){return this._refinement((ae,de)=>ne(ae)?!0:(de.addIssue(typeof oe=="function"?oe(ae,de):oe),!1))}_refinement(ne){return new ZodEffects({schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"refinement",refinement:ne}})}superRefine(ne){return this._refinement(ne)}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this,this._def)}promise(){return ZodPromise.create(this,this._def)}or(ne){return ZodUnion.create([this,ne],this._def)}and(ne){return ZodIntersection.create(this,ne,this._def)}transform(ne){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"transform",transform:ne}})}default(ne){const oe=typeof ne=="function"?ne:()=>ne;return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:oe,typeName:ZodFirstPartyTypeKind.ZodDefault})}brand(){return new ZodBranded({typeName:ZodFirstPartyTypeKind.ZodBranded,type:this,...processCreateParams(this._def)})}catch(ne){const oe=typeof ne=="function"?ne:()=>ne;return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:oe,typeName:ZodFirstPartyTypeKind.ZodCatch})}describe(ne){const oe=this.constructor;return new oe({...this._def,description:ne})}pipe(ne){return ZodPipeline.create(this,ne)}readonly(){return ZodReadonly.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cuidRegex=/^c[^\s-]{8,}$/i,cuid2Regex=/^[a-z][a-z0-9]*$/,ulidRegex=/^[0-9A-HJKMNP-TV-Z]{26}$/,uuidRegex=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,emailRegex=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_emojiRegex="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let emojiRegex;const ipv4Regex=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,ipv6Regex=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,datetimeRegex=ee=>ee.precision?ee.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${ee.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${ee.precision}}Z$`):ee.precision===0?ee.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):ee.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function isValidIP(ee,ne){return!!((ne==="v4"||!ne)&&ipv4Regex.test(ee)||(ne==="v6"||!ne)&&ipv6Regex.test(ee))}class ZodString extends ZodType{_parse(ne){if(this._def.coerce&&(ne.data=String(ne.data)),this._getType(ne)!==ZodParsedType.string){const fe=this._getOrReturnCtx(ne);return addIssueToContext(fe,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.string,received:fe.parsedType}),INVALID}const ae=new ParseStatus;let de;for(const fe of this._def.checks)if(fe.kind==="min")ne.data.length<fe.value&&(de=this._getOrReturnCtx(ne,de),addIssueToContext(de,{code:ZodIssueCode.too_small,minimum:fe.value,type:"string",inclusive:!0,exact:!1,message:fe.message}),ae.dirty());else if(fe.kind==="max")ne.data.length>fe.value&&(de=this._getOrReturnCtx(ne,de),addIssueToContext(de,{code:ZodIssueCode.too_big,maximum:fe.value,type:"string",inclusive:!0,exact:!1,message:fe.message}),ae.dirty());else if(fe.kind==="length"){const pe=ne.data.length>fe.value,he=ne.data.length<fe.value;(pe||he)&&(de=this._getOrReturnCtx(ne,de),pe?addIssueToContext(de,{code:ZodIssueCode.too_big,maximum:fe.value,type:"string",inclusive:!0,exact:!0,message:fe.message}):he&&addIssueToContext(de,{code:ZodIssueCode.too_small,minimum:fe.value,type:"string",inclusive:!0,exact:!0,message:fe.message}),ae.dirty())}else if(fe.kind==="email")emailRegex.test(ne.data)||(de=this._getOrReturnCtx(ne,de),addIssueToContext(de,{validation:"email",code:ZodIssueCode.invalid_string,message:fe.message}),ae.dirty());else if(fe.kind==="emoji")emojiRegex||(emojiRegex=new RegExp(_emojiRegex,"u")),emojiRegex.test(ne.data)||(de=this._getOrReturnCtx(ne,de),addIssueToContext(de,{validation:"emoji",code:ZodIssueCode.invalid_string,message:fe.message}),ae.dirty());else if(fe.kind==="uuid")uuidRegex.test(ne.data)||(de=this._getOrReturnCtx(ne,de),addIssueToContext(de,{validation:"uuid",code:ZodIssueCode.invalid_string,message:fe.message}),ae.dirty());else if(fe.kind==="cuid")cuidRegex.test(ne.data)||(de=this._getOrReturnCtx(ne,de),addIssueToContext(de,{validation:"cuid",code:ZodIssueCode.invalid_string,message:fe.message}),ae.dirty());else if(fe.kind==="cuid2")cuid2Regex.test(ne.data)||(de=this._getOrReturnCtx(ne,de),addIssueToContext(de,{validation:"cuid2",code:ZodIssueCode.invalid_string,message:fe.message}),ae.dirty());else if(fe.kind==="ulid")ulidRegex.test(ne.data)||(de=this._getOrReturnCtx(ne,de),addIssueToContext(de,{validation:"ulid",code:ZodIssueCode.invalid_string,message:fe.message}),ae.dirty());else if(fe.kind==="url")try{new URL(ne.data)}catch{de=this._getOrReturnCtx(ne,de),addIssueToContext(de,{validation:"url",code:ZodIssueCode.invalid_string,message:fe.message}),ae.dirty()}else fe.kind==="regex"?(fe.regex.lastIndex=0,fe.regex.test(ne.data)||(de=this._getOrReturnCtx(ne,de),addIssueToContext(de,{validation:"regex",code:ZodIssueCode.invalid_string,message:fe.message}),ae.dirty())):fe.kind==="trim"?ne.data=ne.data.trim():fe.kind==="includes"?ne.data.includes(fe.value,fe.position)||(de=this._getOrReturnCtx(ne,de),addIssueToContext(de,{code:ZodIssueCode.invalid_string,validation:{includes:fe.value,position:fe.position},message:fe.message}),ae.dirty()):fe.kind==="toLowerCase"?ne.data=ne.data.toLowerCase():fe.kind==="toUpperCase"?ne.data=ne.data.toUpperCase():fe.kind==="startsWith"?ne.data.startsWith(fe.value)||(de=this._getOrReturnCtx(ne,de),addIssueToContext(de,{code:ZodIssueCode.invalid_string,validation:{startsWith:fe.value},message:fe.message}),ae.dirty()):fe.kind==="endsWith"?ne.data.endsWith(fe.value)||(de=this._getOrReturnCtx(ne,de),addIssueToContext(de,{code:ZodIssueCode.invalid_string,validation:{endsWith:fe.value},message:fe.message}),ae.dirty()):fe.kind==="datetime"?datetimeRegex(fe).test(ne.data)||(de=this._getOrReturnCtx(ne,de),addIssueToContext(de,{code:ZodIssueCode.invalid_string,validation:"datetime",message:fe.message}),ae.dirty()):fe.kind==="ip"?isValidIP(ne.data,fe.version)||(de=this._getOrReturnCtx(ne,de),addIssueToContext(de,{validation:"ip",code:ZodIssueCode.invalid_string,message:fe.message}),ae.dirty()):util$5.assertNever(fe);return{status:ae.value,value:ne.data}}_regex(ne,oe,ae){return this.refinement(de=>ne.test(de),{validation:oe,code:ZodIssueCode.invalid_string,...errorUtil.errToObj(ae)})}_addCheck(ne){return new ZodString({...this._def,checks:[...this._def.checks,ne]})}email(ne){return this._addCheck({kind:"email",...errorUtil.errToObj(ne)})}url(ne){return this._addCheck({kind:"url",...errorUtil.errToObj(ne)})}emoji(ne){return this._addCheck({kind:"emoji",...errorUtil.errToObj(ne)})}uuid(ne){return this._addCheck({kind:"uuid",...errorUtil.errToObj(ne)})}cuid(ne){return this._addCheck({kind:"cuid",...errorUtil.errToObj(ne)})}cuid2(ne){return this._addCheck({kind:"cuid2",...errorUtil.errToObj(ne)})}ulid(ne){return this._addCheck({kind:"ulid",...errorUtil.errToObj(ne)})}ip(ne){return this._addCheck({kind:"ip",...errorUtil.errToObj(ne)})}datetime(ne){var oe;return typeof ne=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:ne}):this._addCheck({kind:"datetime",precision:typeof ne?.precision>"u"?null:ne?.precision,offset:(oe=ne?.offset)!==null&&oe!==void 0?oe:!1,...errorUtil.errToObj(ne?.message)})}regex(ne,oe){return this._addCheck({kind:"regex",regex:ne,...errorUtil.errToObj(oe)})}includes(ne,oe){return this._addCheck({kind:"includes",value:ne,position:oe?.position,...errorUtil.errToObj(oe?.message)})}startsWith(ne,oe){return this._addCheck({kind:"startsWith",value:ne,...errorUtil.errToObj(oe)})}endsWith(ne,oe){return this._addCheck({kind:"endsWith",value:ne,...errorUtil.errToObj(oe)})}min(ne,oe){return this._addCheck({kind:"min",value:ne,...errorUtil.errToObj(oe)})}max(ne,oe){return this._addCheck({kind:"max",value:ne,...errorUtil.errToObj(oe)})}length(ne,oe){return this._addCheck({kind:"length",value:ne,...errorUtil.errToObj(oe)})}nonempty(ne){return this.min(1,errorUtil.errToObj(ne))}trim(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(ne=>ne.kind==="datetime")}get isEmail(){return!!this._def.checks.find(ne=>ne.kind==="email")}get isURL(){return!!this._def.checks.find(ne=>ne.kind==="url")}get isEmoji(){return!!this._def.checks.find(ne=>ne.kind==="emoji")}get isUUID(){return!!this._def.checks.find(ne=>ne.kind==="uuid")}get isCUID(){return!!this._def.checks.find(ne=>ne.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(ne=>ne.kind==="cuid2")}get isULID(){return!!this._def.checks.find(ne=>ne.kind==="ulid")}get isIP(){return!!this._def.checks.find(ne=>ne.kind==="ip")}get minLength(){let ne=null;for(const oe of this._def.checks)oe.kind==="min"&&(ne===null||oe.value>ne)&&(ne=oe.value);return ne}get maxLength(){let ne=null;for(const oe of this._def.checks)oe.kind==="max"&&(ne===null||oe.value<ne)&&(ne=oe.value);return ne}}ZodString.create=ee=>{var ne;return new ZodString({checks:[],typeName:ZodFirstPartyTypeKind.ZodString,coerce:(ne=ee?.coerce)!==null&&ne!==void 0?ne:!1,...processCreateParams(ee)})};function floatSafeRemainder(ee,ne){const oe=(ee.toString().split(".")[1]||"").length,ae=(ne.toString().split(".")[1]||"").length,de=oe>ae?oe:ae,fe=parseInt(ee.toFixed(de).replace(".","")),pe=parseInt(ne.toFixed(de).replace(".",""));return fe%pe/Math.pow(10,de)}class ZodNumber extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(ne){if(this._def.coerce&&(ne.data=Number(ne.data)),this._getType(ne)!==ZodParsedType.number){const fe=this._getOrReturnCtx(ne);return addIssueToContext(fe,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.number,received:fe.parsedType}),INVALID}let ae;const de=new ParseStatus;for(const fe of this._def.checks)fe.kind==="int"?util$5.isInteger(ne.data)||(ae=this._getOrReturnCtx(ne,ae),addIssueToContext(ae,{code:ZodIssueCode.invalid_type,expected:"integer",received:"float",message:fe.message}),de.dirty()):fe.kind==="min"?(fe.inclusive?ne.data<fe.value:ne.data<=fe.value)&&(ae=this._getOrReturnCtx(ne,ae),addIssueToContext(ae,{code:ZodIssueCode.too_small,minimum:fe.value,type:"number",inclusive:fe.inclusive,exact:!1,message:fe.message}),de.dirty()):fe.kind==="max"?(fe.inclusive?ne.data>fe.value:ne.data>=fe.value)&&(ae=this._getOrReturnCtx(ne,ae),addIssueToContext(ae,{code:ZodIssueCode.too_big,maximum:fe.value,type:"number",inclusive:fe.inclusive,exact:!1,message:fe.message}),de.dirty()):fe.kind==="multipleOf"?floatSafeRemainder(ne.data,fe.value)!==0&&(ae=this._getOrReturnCtx(ne,ae),addIssueToContext(ae,{code:ZodIssueCode.not_multiple_of,multipleOf:fe.value,message:fe.message}),de.dirty()):fe.kind==="finite"?Number.isFinite(ne.data)||(ae=this._getOrReturnCtx(ne,ae),addIssueToContext(ae,{code:ZodIssueCode.not_finite,message:fe.message}),de.dirty()):util$5.assertNever(fe);return{status:de.value,value:ne.data}}gte(ne,oe){return this.setLimit("min",ne,!0,errorUtil.toString(oe))}gt(ne,oe){return this.setLimit("min",ne,!1,errorUtil.toString(oe))}lte(ne,oe){return this.setLimit("max",ne,!0,errorUtil.toString(oe))}lt(ne,oe){return this.setLimit("max",ne,!1,errorUtil.toString(oe))}setLimit(ne,oe,ae,de){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind:ne,value:oe,inclusive:ae,message:errorUtil.toString(de)}]})}_addCheck(ne){return new ZodNumber({...this._def,checks:[...this._def.checks,ne]})}int(ne){return this._addCheck({kind:"int",message:errorUtil.toString(ne)})}positive(ne){return this._addCheck({kind:"min",value:0,inclusive:!1,message:errorUtil.toString(ne)})}negative(ne){return this._addCheck({kind:"max",value:0,inclusive:!1,message:errorUtil.toString(ne)})}nonpositive(ne){return this._addCheck({kind:"max",value:0,inclusive:!0,message:errorUtil.toString(ne)})}nonnegative(ne){return this._addCheck({kind:"min",value:0,inclusive:!0,message:errorUtil.toString(ne)})}multipleOf(ne,oe){return this._addCheck({kind:"multipleOf",value:ne,message:errorUtil.toString(oe)})}finite(ne){return this._addCheck({kind:"finite",message:errorUtil.toString(ne)})}safe(ne){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:errorUtil.toString(ne)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:errorUtil.toString(ne)})}get minValue(){let ne=null;for(const oe of this._def.checks)oe.kind==="min"&&(ne===null||oe.value>ne)&&(ne=oe.value);return ne}get maxValue(){let ne=null;for(const oe of this._def.checks)oe.kind==="max"&&(ne===null||oe.value<ne)&&(ne=oe.value);return ne}get isInt(){return!!this._def.checks.find(ne=>ne.kind==="int"||ne.kind==="multipleOf"&&util$5.isInteger(ne.value))}get isFinite(){let ne=null,oe=null;for(const ae of this._def.checks){if(ae.kind==="finite"||ae.kind==="int"||ae.kind==="multipleOf")return!0;ae.kind==="min"?(oe===null||ae.value>oe)&&(oe=ae.value):ae.kind==="max"&&(ne===null||ae.value<ne)&&(ne=ae.value)}return Number.isFinite(oe)&&Number.isFinite(ne)}}ZodNumber.create=ee=>new ZodNumber({checks:[],typeName:ZodFirstPartyTypeKind.ZodNumber,coerce:ee?.coerce||!1,...processCreateParams(ee)});class ZodBigInt extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(ne){if(this._def.coerce&&(ne.data=BigInt(ne.data)),this._getType(ne)!==ZodParsedType.bigint){const fe=this._getOrReturnCtx(ne);return addIssueToContext(fe,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.bigint,received:fe.parsedType}),INVALID}let ae;const de=new ParseStatus;for(const fe of this._def.checks)fe.kind==="min"?(fe.inclusive?ne.data<fe.value:ne.data<=fe.value)&&(ae=this._getOrReturnCtx(ne,ae),addIssueToContext(ae,{code:ZodIssueCode.too_small,type:"bigint",minimum:fe.value,inclusive:fe.inclusive,message:fe.message}),de.dirty()):fe.kind==="max"?(fe.inclusive?ne.data>fe.value:ne.data>=fe.value)&&(ae=this._getOrReturnCtx(ne,ae),addIssueToContext(ae,{code:ZodIssueCode.too_big,type:"bigint",maximum:fe.value,inclusive:fe.inclusive,message:fe.message}),de.dirty()):fe.kind==="multipleOf"?ne.data%fe.value!==BigInt(0)&&(ae=this._getOrReturnCtx(ne,ae),addIssueToContext(ae,{code:ZodIssueCode.not_multiple_of,multipleOf:fe.value,message:fe.message}),de.dirty()):util$5.assertNever(fe);return{status:de.value,value:ne.data}}gte(ne,oe){return this.setLimit("min",ne,!0,errorUtil.toString(oe))}gt(ne,oe){return this.setLimit("min",ne,!1,errorUtil.toString(oe))}lte(ne,oe){return this.setLimit("max",ne,!0,errorUtil.toString(oe))}lt(ne,oe){return this.setLimit("max",ne,!1,errorUtil.toString(oe))}setLimit(ne,oe,ae,de){return new ZodBigInt({...this._def,checks:[...this._def.checks,{kind:ne,value:oe,inclusive:ae,message:errorUtil.toString(de)}]})}_addCheck(ne){return new ZodBigInt({...this._def,checks:[...this._def.checks,ne]})}positive(ne){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:errorUtil.toString(ne)})}negative(ne){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:errorUtil.toString(ne)})}nonpositive(ne){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:errorUtil.toString(ne)})}nonnegative(ne){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:errorUtil.toString(ne)})}multipleOf(ne,oe){return this._addCheck({kind:"multipleOf",value:ne,message:errorUtil.toString(oe)})}get minValue(){let ne=null;for(const oe of this._def.checks)oe.kind==="min"&&(ne===null||oe.value>ne)&&(ne=oe.value);return ne}get maxValue(){let ne=null;for(const oe of this._def.checks)oe.kind==="max"&&(ne===null||oe.value<ne)&&(ne=oe.value);return ne}}ZodBigInt.create=ee=>{var ne;return new ZodBigInt({checks:[],typeName:ZodFirstPartyTypeKind.ZodBigInt,coerce:(ne=ee?.coerce)!==null&&ne!==void 0?ne:!1,...processCreateParams(ee)})};class ZodBoolean extends ZodType{_parse(ne){if(this._def.coerce&&(ne.data=!!ne.data),this._getType(ne)!==ZodParsedType.boolean){const ae=this._getOrReturnCtx(ne);return addIssueToContext(ae,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.boolean,received:ae.parsedType}),INVALID}return OK(ne.data)}}ZodBoolean.create=ee=>new ZodBoolean({typeName:ZodFirstPartyTypeKind.ZodBoolean,coerce:ee?.coerce||!1,...processCreateParams(ee)});class ZodDate extends ZodType{_parse(ne){if(this._def.coerce&&(ne.data=new Date(ne.data)),this._getType(ne)!==ZodParsedType.date){const fe=this._getOrReturnCtx(ne);return addIssueToContext(fe,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.date,received:fe.parsedType}),INVALID}if(isNaN(ne.data.getTime())){const fe=this._getOrReturnCtx(ne);return addIssueToContext(fe,{code:ZodIssueCode.invalid_date}),INVALID}const ae=new ParseStatus;let de;for(const fe of this._def.checks)fe.kind==="min"?ne.data.getTime()<fe.value&&(de=this._getOrReturnCtx(ne,de),addIssueToContext(de,{code:ZodIssueCode.too_small,message:fe.message,inclusive:!0,exact:!1,minimum:fe.value,type:"date"}),ae.dirty()):fe.kind==="max"?ne.data.getTime()>fe.value&&(de=this._getOrReturnCtx(ne,de),addIssueToContext(de,{code:ZodIssueCode.too_big,message:fe.message,inclusive:!0,exact:!1,maximum:fe.value,type:"date"}),ae.dirty()):util$5.assertNever(fe);return{status:ae.value,value:new Date(ne.data.getTime())}}_addCheck(ne){return new ZodDate({...this._def,checks:[...this._def.checks,ne]})}min(ne,oe){return this._addCheck({kind:"min",value:ne.getTime(),message:errorUtil.toString(oe)})}max(ne,oe){return this._addCheck({kind:"max",value:ne.getTime(),message:errorUtil.toString(oe)})}get minDate(){let ne=null;for(const oe of this._def.checks)oe.kind==="min"&&(ne===null||oe.value>ne)&&(ne=oe.value);return ne!=null?new Date(ne):null}get maxDate(){let ne=null;for(const oe of this._def.checks)oe.kind==="max"&&(ne===null||oe.value<ne)&&(ne=oe.value);return ne!=null?new Date(ne):null}}ZodDate.create=ee=>new ZodDate({checks:[],coerce:ee?.coerce||!1,typeName:ZodFirstPartyTypeKind.ZodDate,...processCreateParams(ee)});class ZodSymbol extends ZodType{_parse(ne){if(this._getType(ne)!==ZodParsedType.symbol){const ae=this._getOrReturnCtx(ne);return addIssueToContext(ae,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.symbol,received:ae.parsedType}),INVALID}return OK(ne.data)}}ZodSymbol.create=ee=>new ZodSymbol({typeName:ZodFirstPartyTypeKind.ZodSymbol,...processCreateParams(ee)});class ZodUndefined extends ZodType{_parse(ne){if(this._getType(ne)!==ZodParsedType.undefined){const ae=this._getOrReturnCtx(ne);return addIssueToContext(ae,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.undefined,received:ae.parsedType}),INVALID}return OK(ne.data)}}ZodUndefined.create=ee=>new ZodUndefined({typeName:ZodFirstPartyTypeKind.ZodUndefined,...processCreateParams(ee)});class ZodNull extends ZodType{_parse(ne){if(this._getType(ne)!==ZodParsedType.null){const ae=this._getOrReturnCtx(ne);return addIssueToContext(ae,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.null,received:ae.parsedType}),INVALID}return OK(ne.data)}}ZodNull.create=ee=>new ZodNull({typeName:ZodFirstPartyTypeKind.ZodNull,...processCreateParams(ee)});class ZodAny extends ZodType{constructor(){super(...arguments),this._any=!0}_parse(ne){return OK(ne.data)}}ZodAny.create=ee=>new ZodAny({typeName:ZodFirstPartyTypeKind.ZodAny,...processCreateParams(ee)});class ZodUnknown extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse(ne){return OK(ne.data)}}ZodUnknown.create=ee=>new ZodUnknown({typeName:ZodFirstPartyTypeKind.ZodUnknown,...processCreateParams(ee)});class ZodNever extends ZodType{_parse(ne){const oe=this._getOrReturnCtx(ne);return addIssueToContext(oe,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.never,received:oe.parsedType}),INVALID}}ZodNever.create=ee=>new ZodNever({typeName:ZodFirstPartyTypeKind.ZodNever,...processCreateParams(ee)});class ZodVoid extends ZodType{_parse(ne){if(this._getType(ne)!==ZodParsedType.undefined){const ae=this._getOrReturnCtx(ne);return addIssueToContext(ae,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.void,received:ae.parsedType}),INVALID}return OK(ne.data)}}ZodVoid.create=ee=>new ZodVoid({typeName:ZodFirstPartyTypeKind.ZodVoid,...processCreateParams(ee)});class ZodArray extends ZodType{_parse(ne){const{ctx:oe,status:ae}=this._processInputParams(ne),de=this._def;if(oe.parsedType!==ZodParsedType.array)return addIssueToContext(oe,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:oe.parsedType}),INVALID;if(de.exactLength!==null){const pe=oe.data.length>de.exactLength.value,he=oe.data.length<de.exactLength.value;(pe||he)&&(addIssueToContext(oe,{code:pe?ZodIssueCode.too_big:ZodIssueCode.too_small,minimum:he?de.exactLength.value:void 0,maximum:pe?de.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:de.exactLength.message}),ae.dirty())}if(de.minLength!==null&&oe.data.length<de.minLength.value&&(addIssueToContext(oe,{code:ZodIssueCode.too_small,minimum:de.minLength.value,type:"array",inclusive:!0,exact:!1,message:de.minLength.message}),ae.dirty()),de.maxLength!==null&&oe.data.length>de.maxLength.value&&(addIssueToContext(oe,{code:ZodIssueCode.too_big,maximum:de.maxLength.value,type:"array",inclusive:!0,exact:!1,message:de.maxLength.message}),ae.dirty()),oe.common.async)return Promise.all([...oe.data].map((pe,he)=>de.type._parseAsync(new ParseInputLazyPath(oe,pe,oe.path,he)))).then(pe=>ParseStatus.mergeArray(ae,pe));const fe=[...oe.data].map((pe,he)=>de.type._parseSync(new ParseInputLazyPath(oe,pe,oe.path,he)));return ParseStatus.mergeArray(ae,fe)}get element(){return this._def.type}min(ne,oe){return new ZodArray({...this._def,minLength:{value:ne,message:errorUtil.toString(oe)}})}max(ne,oe){return new ZodArray({...this._def,maxLength:{value:ne,message:errorUtil.toString(oe)}})}length(ne,oe){return new ZodArray({...this._def,exactLength:{value:ne,message:errorUtil.toString(oe)}})}nonempty(ne){return this.min(1,ne)}}ZodArray.create=(ee,ne)=>new ZodArray({type:ee,minLength:null,maxLength:null,exactLength:null,typeName:ZodFirstPartyTypeKind.ZodArray,...processCreateParams(ne)});function deepPartialify(ee){if(ee instanceof ZodObject){const ne={};for(const oe in ee.shape){const ae=ee.shape[oe];ne[oe]=ZodOptional.create(deepPartialify(ae))}return new ZodObject({...ee._def,shape:()=>ne})}else return ee instanceof ZodArray?new ZodArray({...ee._def,type:deepPartialify(ee.element)}):ee instanceof ZodOptional?ZodOptional.create(deepPartialify(ee.unwrap())):ee instanceof ZodNullable?ZodNullable.create(deepPartialify(ee.unwrap())):ee instanceof ZodTuple?ZodTuple.create(ee.items.map(ne=>deepPartialify(ne))):ee}class ZodObject extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const ne=this._def.shape(),oe=util$5.objectKeys(ne);return this._cached={shape:ne,keys:oe}}_parse(ne){if(this._getType(ne)!==ZodParsedType.object){const ge=this._getOrReturnCtx(ne);return addIssueToContext(ge,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:ge.parsedType}),INVALID}const{status:ae,ctx:de}=this._processInputParams(ne),{shape:fe,keys:pe}=this._getCached(),he=[];if(!(this._def.catchall instanceof ZodNever&&this._def.unknownKeys==="strip"))for(const ge in de.data)pe.includes(ge)||he.push(ge);const be=[];for(const ge of pe){const ve=fe[ge],we=de.data[ge];be.push({key:{status:"valid",value:ge},value:ve._parse(new ParseInputLazyPath(de,we,de.path,ge)),alwaysSet:ge in de.data})}if(this._def.catchall instanceof ZodNever){const ge=this._def.unknownKeys;if(ge==="passthrough")for(const ve of he)be.push({key:{status:"valid",value:ve},value:{status:"valid",value:de.data[ve]}});else if(ge==="strict")he.length>0&&(addIssueToContext(de,{code:ZodIssueCode.unrecognized_keys,keys:he}),ae.dirty());else if(ge!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const ge=this._def.catchall;for(const ve of he){const we=de.data[ve];be.push({key:{status:"valid",value:ve},value:ge._parse(new ParseInputLazyPath(de,we,de.path,ve)),alwaysSet:ve in de.data})}}return de.common.async?Promise.resolve().then(async()=>{const ge=[];for(const ve of be){const we=await ve.key;ge.push({key:we,value:await ve.value,alwaysSet:ve.alwaysSet})}return ge}).then(ge=>ParseStatus.mergeObjectSync(ae,ge)):ParseStatus.mergeObjectSync(ae,be)}get shape(){return this._def.shape()}strict(ne){return errorUtil.errToObj,new ZodObject({...this._def,unknownKeys:"strict",...ne!==void 0?{errorMap:(oe,ae)=>{var de,fe,pe,he;const be=(pe=(fe=(de=this._def).errorMap)===null||fe===void 0?void 0:fe.call(de,oe,ae).message)!==null&&pe!==void 0?pe:ae.defaultError;return oe.code==="unrecognized_keys"?{message:(he=errorUtil.errToObj(ne).message)!==null&&he!==void 0?he:be}:{message:be}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}extend(ne){return new ZodObject({...this._def,shape:()=>({...this._def.shape(),...ne})})}merge(ne){return new ZodObject({unknownKeys:ne._def.unknownKeys,catchall:ne._def.catchall,shape:()=>({...this._def.shape(),...ne._def.shape()}),typeName:ZodFirstPartyTypeKind.ZodObject})}setKey(ne,oe){return this.augment({[ne]:oe})}catchall(ne){return new ZodObject({...this._def,catchall:ne})}pick(ne){const oe={};return util$5.objectKeys(ne).forEach(ae=>{ne[ae]&&this.shape[ae]&&(oe[ae]=this.shape[ae])}),new ZodObject({...this._def,shape:()=>oe})}omit(ne){const oe={};return util$5.objectKeys(this.shape).forEach(ae=>{ne[ae]||(oe[ae]=this.shape[ae])}),new ZodObject({...this._def,shape:()=>oe})}deepPartial(){return deepPartialify(this)}partial(ne){const oe={};return util$5.objectKeys(this.shape).forEach(ae=>{const de=this.shape[ae];ne&&!ne[ae]?oe[ae]=de:oe[ae]=de.optional()}),new ZodObject({...this._def,shape:()=>oe})}required(ne){const oe={};return util$5.objectKeys(this.shape).forEach(ae=>{if(ne&&!ne[ae])oe[ae]=this.shape[ae];else{let fe=this.shape[ae];for(;fe instanceof ZodOptional;)fe=fe._def.innerType;oe[ae]=fe}}),new ZodObject({...this._def,shape:()=>oe})}keyof(){return createZodEnum(util$5.objectKeys(this.shape))}}ZodObject.create=(ee,ne)=>new ZodObject({shape:()=>ee,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(ne)});ZodObject.strictCreate=(ee,ne)=>new ZodObject({shape:()=>ee,unknownKeys:"strict",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(ne)});ZodObject.lazycreate=(ee,ne)=>new ZodObject({shape:ee,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(ne)});class ZodUnion extends ZodType{_parse(ne){const{ctx:oe}=this._processInputParams(ne),ae=this._def.options;function de(fe){for(const he of fe)if(he.result.status==="valid")return he.result;for(const he of fe)if(he.result.status==="dirty")return oe.common.issues.push(...he.ctx.common.issues),he.result;const pe=fe.map(he=>new ZodError(he.ctx.common.issues));return addIssueToContext(oe,{code:ZodIssueCode.invalid_union,unionErrors:pe}),INVALID}if(oe.common.async)return Promise.all(ae.map(async fe=>{const pe={...oe,common:{...oe.common,issues:[]},parent:null};return{result:await fe._parseAsync({data:oe.data,path:oe.path,parent:pe}),ctx:pe}})).then(de);{let fe;const pe=[];for(const be of ae){const ge={...oe,common:{...oe.common,issues:[]},parent:null},ve=be._parseSync({data:oe.data,path:oe.path,parent:ge});if(ve.status==="valid")return ve;ve.status==="dirty"&&!fe&&(fe={result:ve,ctx:ge}),ge.common.issues.length&&pe.push(ge.common.issues)}if(fe)return oe.common.issues.push(...fe.ctx.common.issues),fe.result;const he=pe.map(be=>new ZodError(be));return addIssueToContext(oe,{code:ZodIssueCode.invalid_union,unionErrors:he}),INVALID}}get options(){return this._def.options}}ZodUnion.create=(ee,ne)=>new ZodUnion({options:ee,typeName:ZodFirstPartyTypeKind.ZodUnion,...processCreateParams(ne)});const getDiscriminator=ee=>ee instanceof ZodLazy?getDiscriminator(ee.schema):ee instanceof ZodEffects?getDiscriminator(ee.innerType()):ee instanceof ZodLiteral?[ee.value]:ee instanceof ZodEnum?ee.options:ee instanceof ZodNativeEnum?Object.keys(ee.enum):ee instanceof ZodDefault?getDiscriminator(ee._def.innerType):ee instanceof ZodUndefined?[void 0]:ee instanceof ZodNull?[null]:null;class ZodDiscriminatedUnion extends ZodType{_parse(ne){const{ctx:oe}=this._processInputParams(ne);if(oe.parsedType!==ZodParsedType.object)return addIssueToContext(oe,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:oe.parsedType}),INVALID;const ae=this.discriminator,de=oe.data[ae],fe=this.optionsMap.get(de);return fe?oe.common.async?fe._parseAsync({data:oe.data,path:oe.path,parent:oe}):fe._parseSync({data:oe.data,path:oe.path,parent:oe}):(addIssueToContext(oe,{code:ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[ae]}),INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(ne,oe,ae){const de=new Map;for(const fe of oe){const pe=getDiscriminator(fe.shape[ne]);if(!pe)throw new Error(`A discriminator value for key \`${ne}\` could not be extracted from all schema options`);for(const he of pe){if(de.has(he))throw new Error(`Discriminator property ${String(ne)} has duplicate value ${String(he)}`);de.set(he,fe)}}return new ZodDiscriminatedUnion({typeName:ZodFirstPartyTypeKind.ZodDiscriminatedUnion,discriminator:ne,options:oe,optionsMap:de,...processCreateParams(ae)})}}function mergeValues(ee,ne){const oe=getParsedType(ee),ae=getParsedType(ne);if(ee===ne)return{valid:!0,data:ee};if(oe===ZodParsedType.object&&ae===ZodParsedType.object){const de=util$5.objectKeys(ne),fe=util$5.objectKeys(ee).filter(he=>de.indexOf(he)!==-1),pe={...ee,...ne};for(const he of fe){const be=mergeValues(ee[he],ne[he]);if(!be.valid)return{valid:!1};pe[he]=be.data}return{valid:!0,data:pe}}else if(oe===ZodParsedType.array&&ae===ZodParsedType.array){if(ee.length!==ne.length)return{valid:!1};const de=[];for(let fe=0;fe<ee.length;fe++){const pe=ee[fe],he=ne[fe],be=mergeValues(pe,he);if(!be.valid)return{valid:!1};de.push(be.data)}return{valid:!0,data:de}}else return oe===ZodParsedType.date&&ae===ZodParsedType.date&&+ee==+ne?{valid:!0,data:ee}:{valid:!1}}class ZodIntersection extends ZodType{_parse(ne){const{status:oe,ctx:ae}=this._processInputParams(ne),de=(fe,pe)=>{if(isAborted(fe)||isAborted(pe))return INVALID;const he=mergeValues(fe.value,pe.value);return he.valid?((isDirty(fe)||isDirty(pe))&&oe.dirty(),{status:oe.value,value:he.data}):(addIssueToContext(ae,{code:ZodIssueCode.invalid_intersection_types}),INVALID)};return ae.common.async?Promise.all([this._def.left._parseAsync({data:ae.data,path:ae.path,parent:ae}),this._def.right._parseAsync({data:ae.data,path:ae.path,parent:ae})]).then(([fe,pe])=>de(fe,pe)):de(this._def.left._parseSync({data:ae.data,path:ae.path,parent:ae}),this._def.right._parseSync({data:ae.data,path:ae.path,parent:ae}))}}ZodIntersection.create=(ee,ne,oe)=>new ZodIntersection({left:ee,right:ne,typeName:ZodFirstPartyTypeKind.ZodIntersection,...processCreateParams(oe)});class ZodTuple extends ZodType{_parse(ne){const{status:oe,ctx:ae}=this._processInputParams(ne);if(ae.parsedType!==ZodParsedType.array)return addIssueToContext(ae,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:ae.parsedType}),INVALID;if(ae.data.length<this._def.items.length)return addIssueToContext(ae,{code:ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),INVALID;!this._def.rest&&ae.data.length>this._def.items.length&&(addIssueToContext(ae,{code:ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),oe.dirty());const fe=[...ae.data].map((pe,he)=>{const be=this._def.items[he]||this._def.rest;return be?be._parse(new ParseInputLazyPath(ae,pe,ae.path,he)):null}).filter(pe=>!!pe);return ae.common.async?Promise.all(fe).then(pe=>ParseStatus.mergeArray(oe,pe)):ParseStatus.mergeArray(oe,fe)}get items(){return this._def.items}rest(ne){return new ZodTuple({...this._def,rest:ne})}}ZodTuple.create=(ee,ne)=>{if(!Array.isArray(ee))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:ee,typeName:ZodFirstPartyTypeKind.ZodTuple,rest:null,...processCreateParams(ne)})};class ZodRecord extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(ne){const{status:oe,ctx:ae}=this._processInputParams(ne);if(ae.parsedType!==ZodParsedType.object)return addIssueToContext(ae,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:ae.parsedType}),INVALID;const de=[],fe=this._def.keyType,pe=this._def.valueType;for(const he in ae.data)de.push({key:fe._parse(new ParseInputLazyPath(ae,he,ae.path,he)),value:pe._parse(new ParseInputLazyPath(ae,ae.data[he],ae.path,he))});return ae.common.async?ParseStatus.mergeObjectAsync(oe,de):ParseStatus.mergeObjectSync(oe,de)}get element(){return this._def.valueType}static create(ne,oe,ae){return oe instanceof ZodType?new ZodRecord({keyType:ne,valueType:oe,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(ae)}):new ZodRecord({keyType:ZodString.create(),valueType:ne,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(oe)})}}class ZodMap extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(ne){const{status:oe,ctx:ae}=this._processInputParams(ne);if(ae.parsedType!==ZodParsedType.map)return addIssueToContext(ae,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.map,received:ae.parsedType}),INVALID;const de=this._def.keyType,fe=this._def.valueType,pe=[...ae.data.entries()].map(([he,be],ge)=>({key:de._parse(new ParseInputLazyPath(ae,he,ae.path,[ge,"key"])),value:fe._parse(new ParseInputLazyPath(ae,be,ae.path,[ge,"value"]))}));if(ae.common.async){const he=new Map;return Promise.resolve().then(async()=>{for(const be of pe){const ge=await be.key,ve=await be.value;if(ge.status==="aborted"||ve.status==="aborted")return INVALID;(ge.status==="dirty"||ve.status==="dirty")&&oe.dirty(),he.set(ge.value,ve.value)}return{status:oe.value,value:he}})}else{const he=new Map;for(const be of pe){const ge=be.key,ve=be.value;if(ge.status==="aborted"||ve.status==="aborted")return INVALID;(ge.status==="dirty"||ve.status==="dirty")&&oe.dirty(),he.set(ge.value,ve.value)}return{status:oe.value,value:he}}}}ZodMap.create=(ee,ne,oe)=>new ZodMap({valueType:ne,keyType:ee,typeName:ZodFirstPartyTypeKind.ZodMap,...processCreateParams(oe)});class ZodSet extends ZodType{_parse(ne){const{status:oe,ctx:ae}=this._processInputParams(ne);if(ae.parsedType!==ZodParsedType.set)return addIssueToContext(ae,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.set,received:ae.parsedType}),INVALID;const de=this._def;de.minSize!==null&&ae.data.size<de.minSize.value&&(addIssueToContext(ae,{code:ZodIssueCode.too_small,minimum:de.minSize.value,type:"set",inclusive:!0,exact:!1,message:de.minSize.message}),oe.dirty()),de.maxSize!==null&&ae.data.size>de.maxSize.value&&(addIssueToContext(ae,{code:ZodIssueCode.too_big,maximum:de.maxSize.value,type:"set",inclusive:!0,exact:!1,message:de.maxSize.message}),oe.dirty());const fe=this._def.valueType;function pe(be){const ge=new Set;for(const ve of be){if(ve.status==="aborted")return INVALID;ve.status==="dirty"&&oe.dirty(),ge.add(ve.value)}return{status:oe.value,value:ge}}const he=[...ae.data.values()].map((be,ge)=>fe._parse(new ParseInputLazyPath(ae,be,ae.path,ge)));return ae.common.async?Promise.all(he).then(be=>pe(be)):pe(he)}min(ne,oe){return new ZodSet({...this._def,minSize:{value:ne,message:errorUtil.toString(oe)}})}max(ne,oe){return new ZodSet({...this._def,maxSize:{value:ne,message:errorUtil.toString(oe)}})}size(ne,oe){return this.min(ne,oe).max(ne,oe)}nonempty(ne){return this.min(1,ne)}}ZodSet.create=(ee,ne)=>new ZodSet({valueType:ee,minSize:null,maxSize:null,typeName:ZodFirstPartyTypeKind.ZodSet,...processCreateParams(ne)});class ZodFunction extends ZodType{constructor(){super(...arguments),this.validate=this.implement}_parse(ne){const{ctx:oe}=this._processInputParams(ne);if(oe.parsedType!==ZodParsedType.function)return addIssueToContext(oe,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.function,received:oe.parsedType}),INVALID;function ae(he,be){return makeIssue({data:he,path:oe.path,errorMaps:[oe.common.contextualErrorMap,oe.schemaErrorMap,getErrorMap(),errorMap].filter(ge=>!!ge),issueData:{code:ZodIssueCode.invalid_arguments,argumentsError:be}})}function de(he,be){return makeIssue({data:he,path:oe.path,errorMaps:[oe.common.contextualErrorMap,oe.schemaErrorMap,getErrorMap(),errorMap].filter(ge=>!!ge),issueData:{code:ZodIssueCode.invalid_return_type,returnTypeError:be}})}const fe={errorMap:oe.common.contextualErrorMap},pe=oe.data;if(this._def.returns instanceof ZodPromise){const he=this;return OK(async function(...be){const ge=new ZodError([]),ve=await he._def.args.parseAsync(be,fe).catch(Te=>{throw ge.addIssue(ae(be,Te)),ge}),we=await Reflect.apply(pe,this,ve);return await he._def.returns._def.type.parseAsync(we,fe).catch(Te=>{throw ge.addIssue(de(we,Te)),ge})})}else{const he=this;return OK(function(...be){const ge=he._def.args.safeParse(be,fe);if(!ge.success)throw new ZodError([ae(be,ge.error)]);const ve=Reflect.apply(pe,this,ge.data),we=he._def.returns.safeParse(ve,fe);if(!we.success)throw new ZodError([de(ve,we.error)]);return we.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...ne){return new ZodFunction({...this._def,args:ZodTuple.create(ne).rest(ZodUnknown.create())})}returns(ne){return new ZodFunction({...this._def,returns:ne})}implement(ne){return this.parse(ne)}strictImplement(ne){return this.parse(ne)}static create(ne,oe,ae){return new ZodFunction({args:ne||ZodTuple.create([]).rest(ZodUnknown.create()),returns:oe||ZodUnknown.create(),typeName:ZodFirstPartyTypeKind.ZodFunction,...processCreateParams(ae)})}}class ZodLazy extends ZodType{get schema(){return this._def.getter()}_parse(ne){const{ctx:oe}=this._processInputParams(ne);return this._def.getter()._parse({data:oe.data,path:oe.path,parent:oe})}}ZodLazy.create=(ee,ne)=>new ZodLazy({getter:ee,typeName:ZodFirstPartyTypeKind.ZodLazy,...processCreateParams(ne)});class ZodLiteral extends ZodType{_parse(ne){if(ne.data!==this._def.value){const oe=this._getOrReturnCtx(ne);return addIssueToContext(oe,{received:oe.data,code:ZodIssueCode.invalid_literal,expected:this._def.value}),INVALID}return{status:"valid",value:ne.data}}get value(){return this._def.value}}ZodLiteral.create=(ee,ne)=>new ZodLiteral({value:ee,typeName:ZodFirstPartyTypeKind.ZodLiteral,...processCreateParams(ne)});function createZodEnum(ee,ne){return new ZodEnum({values:ee,typeName:ZodFirstPartyTypeKind.ZodEnum,...processCreateParams(ne)})}class ZodEnum extends ZodType{_parse(ne){if(typeof ne.data!="string"){const oe=this._getOrReturnCtx(ne),ae=this._def.values;return addIssueToContext(oe,{expected:util$5.joinValues(ae),received:oe.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(this._def.values.indexOf(ne.data)===-1){const oe=this._getOrReturnCtx(ne),ae=this._def.values;return addIssueToContext(oe,{received:oe.data,code:ZodIssueCode.invalid_enum_value,options:ae}),INVALID}return OK(ne.data)}get options(){return this._def.values}get enum(){const ne={};for(const oe of this._def.values)ne[oe]=oe;return ne}get Values(){const ne={};for(const oe of this._def.values)ne[oe]=oe;return ne}get Enum(){const ne={};for(const oe of this._def.values)ne[oe]=oe;return ne}extract(ne){return ZodEnum.create(ne)}exclude(ne){return ZodEnum.create(this.options.filter(oe=>!ne.includes(oe)))}}ZodEnum.create=createZodEnum;class ZodNativeEnum extends ZodType{_parse(ne){const oe=util$5.getValidEnumValues(this._def.values),ae=this._getOrReturnCtx(ne);if(ae.parsedType!==ZodParsedType.string&&ae.parsedType!==ZodParsedType.number){const de=util$5.objectValues(oe);return addIssueToContext(ae,{expected:util$5.joinValues(de),received:ae.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(oe.indexOf(ne.data)===-1){const de=util$5.objectValues(oe);return addIssueToContext(ae,{received:ae.data,code:ZodIssueCode.invalid_enum_value,options:de}),INVALID}return OK(ne.data)}get enum(){return this._def.values}}ZodNativeEnum.create=(ee,ne)=>new ZodNativeEnum({values:ee,typeName:ZodFirstPartyTypeKind.ZodNativeEnum,...processCreateParams(ne)});class ZodPromise extends ZodType{unwrap(){return this._def.type}_parse(ne){const{ctx:oe}=this._processInputParams(ne);if(oe.parsedType!==ZodParsedType.promise&&oe.common.async===!1)return addIssueToContext(oe,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.promise,received:oe.parsedType}),INVALID;const ae=oe.parsedType===ZodParsedType.promise?oe.data:Promise.resolve(oe.data);return OK(ae.then(de=>this._def.type.parseAsync(de,{path:oe.path,errorMap:oe.common.contextualErrorMap})))}}ZodPromise.create=(ee,ne)=>new ZodPromise({type:ee,typeName:ZodFirstPartyTypeKind.ZodPromise,...processCreateParams(ne)});class ZodEffects extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ZodFirstPartyTypeKind.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(ne){const{status:oe,ctx:ae}=this._processInputParams(ne),de=this._def.effect||null,fe={addIssue:pe=>{addIssueToContext(ae,pe),pe.fatal?oe.abort():oe.dirty()},get path(){return ae.path}};if(fe.addIssue=fe.addIssue.bind(fe),de.type==="preprocess"){const pe=de.transform(ae.data,fe);return ae.common.issues.length?{status:"dirty",value:ae.data}:ae.common.async?Promise.resolve(pe).then(he=>this._def.schema._parseAsync({data:he,path:ae.path,parent:ae})):this._def.schema._parseSync({data:pe,path:ae.path,parent:ae})}if(de.type==="refinement"){const pe=he=>{const be=de.refinement(he,fe);if(ae.common.async)return Promise.resolve(be);if(be instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return he};if(ae.common.async===!1){const he=this._def.schema._parseSync({data:ae.data,path:ae.path,parent:ae});return he.status==="aborted"?INVALID:(he.status==="dirty"&&oe.dirty(),pe(he.value),{status:oe.value,value:he.value})}else return this._def.schema._parseAsync({data:ae.data,path:ae.path,parent:ae}).then(he=>he.status==="aborted"?INVALID:(he.status==="dirty"&&oe.dirty(),pe(he.value).then(()=>({status:oe.value,value:he.value}))))}if(de.type==="transform")if(ae.common.async===!1){const pe=this._def.schema._parseSync({data:ae.data,path:ae.path,parent:ae});if(!isValid(pe))return pe;const he=de.transform(pe.value,fe);if(he instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:oe.value,value:he}}else return this._def.schema._parseAsync({data:ae.data,path:ae.path,parent:ae}).then(pe=>isValid(pe)?Promise.resolve(de.transform(pe.value,fe)).then(he=>({status:oe.value,value:he})):pe);util$5.assertNever(de)}}ZodEffects.create=(ee,ne,oe)=>new ZodEffects({schema:ee,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:ne,...processCreateParams(oe)});ZodEffects.createWithPreprocess=(ee,ne,oe)=>new ZodEffects({schema:ne,effect:{type:"preprocess",transform:ee},typeName:ZodFirstPartyTypeKind.ZodEffects,...processCreateParams(oe)});class ZodOptional extends ZodType{_parse(ne){return this._getType(ne)===ZodParsedType.undefined?OK(void 0):this._def.innerType._parse(ne)}unwrap(){return this._def.innerType}}ZodOptional.create=(ee,ne)=>new ZodOptional({innerType:ee,typeName:ZodFirstPartyTypeKind.ZodOptional,...processCreateParams(ne)});class ZodNullable extends ZodType{_parse(ne){return this._getType(ne)===ZodParsedType.null?OK(null):this._def.innerType._parse(ne)}unwrap(){return this._def.innerType}}ZodNullable.create=(ee,ne)=>new ZodNullable({innerType:ee,typeName:ZodFirstPartyTypeKind.ZodNullable,...processCreateParams(ne)});class ZodDefault extends ZodType{_parse(ne){const{ctx:oe}=this._processInputParams(ne);let ae=oe.data;return oe.parsedType===ZodParsedType.undefined&&(ae=this._def.defaultValue()),this._def.innerType._parse({data:ae,path:oe.path,parent:oe})}removeDefault(){return this._def.innerType}}ZodDefault.create=(ee,ne)=>new ZodDefault({innerType:ee,typeName:ZodFirstPartyTypeKind.ZodDefault,defaultValue:typeof ne.default=="function"?ne.default:()=>ne.default,...processCreateParams(ne)});class ZodCatch extends ZodType{_parse(ne){const{ctx:oe}=this._processInputParams(ne),ae={...oe,common:{...oe.common,issues:[]}},de=this._def.innerType._parse({data:ae.data,path:ae.path,parent:{...ae}});return isAsync(de)?de.then(fe=>({status:"valid",value:fe.status==="valid"?fe.value:this._def.catchValue({get error(){return new ZodError(ae.common.issues)},input:ae.data})})):{status:"valid",value:de.status==="valid"?de.value:this._def.catchValue({get error(){return new ZodError(ae.common.issues)},input:ae.data})}}removeCatch(){return this._def.innerType}}ZodCatch.create=(ee,ne)=>new ZodCatch({innerType:ee,typeName:ZodFirstPartyTypeKind.ZodCatch,catchValue:typeof ne.catch=="function"?ne.catch:()=>ne.catch,...processCreateParams(ne)});class ZodNaN extends ZodType{_parse(ne){if(this._getType(ne)!==ZodParsedType.nan){const ae=this._getOrReturnCtx(ne);return addIssueToContext(ae,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.nan,received:ae.parsedType}),INVALID}return{status:"valid",value:ne.data}}}ZodNaN.create=ee=>new ZodNaN({typeName:ZodFirstPartyTypeKind.ZodNaN,...processCreateParams(ee)});const BRAND=Symbol("zod_brand");class ZodBranded extends ZodType{_parse(ne){const{ctx:oe}=this._processInputParams(ne),ae=oe.data;return this._def.type._parse({data:ae,path:oe.path,parent:oe})}unwrap(){return this._def.type}}class ZodPipeline extends ZodType{_parse(ne){const{status:oe,ctx:ae}=this._processInputParams(ne);if(ae.common.async)return(async()=>{const fe=await this._def.in._parseAsync({data:ae.data,path:ae.path,parent:ae});return fe.status==="aborted"?INVALID:fe.status==="dirty"?(oe.dirty(),DIRTY(fe.value)):this._def.out._parseAsync({data:fe.value,path:ae.path,parent:ae})})();{const de=this._def.in._parseSync({data:ae.data,path:ae.path,parent:ae});return de.status==="aborted"?INVALID:de.status==="dirty"?(oe.dirty(),{status:"dirty",value:de.value}):this._def.out._parseSync({data:de.value,path:ae.path,parent:ae})}}static create(ne,oe){return new ZodPipeline({in:ne,out:oe,typeName:ZodFirstPartyTypeKind.ZodPipeline})}}class ZodReadonly extends ZodType{_parse(ne){const oe=this._def.innerType._parse(ne);return isValid(oe)&&(oe.value=Object.freeze(oe.value)),oe}}ZodReadonly.create=(ee,ne)=>new ZodReadonly({innerType:ee,typeName:ZodFirstPartyTypeKind.ZodReadonly,...processCreateParams(ne)});const custom=(ee,ne={},oe)=>ee?ZodAny.create().superRefine((ae,de)=>{var fe,pe;if(!ee(ae)){const he=typeof ne=="function"?ne(ae):typeof ne=="string"?{message:ne}:ne,be=(pe=(fe=he.fatal)!==null&&fe!==void 0?fe:oe)!==null&&pe!==void 0?pe:!0,ge=typeof he=="string"?{message:he}:he;de.addIssue({code:"custom",...ge,fatal:be})}}):ZodAny.create(),late={object:ZodObject.lazycreate};var ZodFirstPartyTypeKind;(function(ee){ee.ZodString="ZodString",ee.ZodNumber="ZodNumber",ee.ZodNaN="ZodNaN",ee.ZodBigInt="ZodBigInt",ee.ZodBoolean="ZodBoolean",ee.ZodDate="ZodDate",ee.ZodSymbol="ZodSymbol",ee.ZodUndefined="ZodUndefined",ee.ZodNull="ZodNull",ee.ZodAny="ZodAny",ee.ZodUnknown="ZodUnknown",ee.ZodNever="ZodNever",ee.ZodVoid="ZodVoid",ee.ZodArray="ZodArray",ee.ZodObject="ZodObject",ee.ZodUnion="ZodUnion",ee.ZodDiscriminatedUnion="ZodDiscriminatedUnion",ee.ZodIntersection="ZodIntersection",ee.ZodTuple="ZodTuple",ee.ZodRecord="ZodRecord",ee.ZodMap="ZodMap",ee.ZodSet="ZodSet",ee.ZodFunction="ZodFunction",ee.ZodLazy="ZodLazy",ee.ZodLiteral="ZodLiteral",ee.ZodEnum="ZodEnum",ee.ZodEffects="ZodEffects",ee.ZodNativeEnum="ZodNativeEnum",ee.ZodOptional="ZodOptional",ee.ZodNullable="ZodNullable",ee.ZodDefault="ZodDefault",ee.ZodCatch="ZodCatch",ee.ZodPromise="ZodPromise",ee.ZodBranded="ZodBranded",ee.ZodPipeline="ZodPipeline",ee.ZodReadonly="ZodReadonly"})(ZodFirstPartyTypeKind||(ZodFirstPartyTypeKind={}));const instanceOfType=(ee,ne={message:`Input not instance of ${ee.name}`})=>custom(oe=>oe instanceof ee,ne),stringType=ZodString.create,numberType=ZodNumber.create,nanType=ZodNaN.create,bigIntType=ZodBigInt.create,booleanType=ZodBoolean.create,dateType=ZodDate.create,symbolType=ZodSymbol.create,undefinedType=ZodUndefined.create,nullType=ZodNull.create,anyType=ZodAny.create,unknownType=ZodUnknown.create,neverType=ZodNever.create,voidType=ZodVoid.create,arrayType=ZodArray.create,objectType=ZodObject.create,strictObjectType=ZodObject.strictCreate,unionType=ZodUnion.create,discriminatedUnionType=ZodDiscriminatedUnion.create,intersectionType=ZodIntersection.create,tupleType=ZodTuple.create,recordType=ZodRecord.create,mapType=ZodMap.create,setType=ZodSet.create,functionType=ZodFunction.create,lazyType=ZodLazy.create,literalType=ZodLiteral.create,enumType=ZodEnum.create,nativeEnumType=ZodNativeEnum.create,promiseType=ZodPromise.create,effectsType=ZodEffects.create,optionalType=ZodOptional.create,nullableType=ZodNullable.create,preprocessType=ZodEffects.createWithPreprocess,pipelineType=ZodPipeline.create,ostring=()=>stringType().optional(),onumber=()=>numberType().optional(),oboolean=()=>booleanType().optional(),coerce={string:ee=>ZodString.create({...ee,coerce:!0}),number:ee=>ZodNumber.create({...ee,coerce:!0}),boolean:ee=>ZodBoolean.create({...ee,coerce:!0}),bigint:ee=>ZodBigInt.create({...ee,coerce:!0}),date:ee=>ZodDate.create({...ee,coerce:!0})},NEVER=INVALID;var z$2=Object.freeze({__proto__:null,defaultErrorMap:errorMap,setErrorMap,getErrorMap,makeIssue,EMPTY_PATH,addIssueToContext,ParseStatus,INVALID,DIRTY,OK,isAborted,isDirty,isValid,isAsync,get util(){return util$5},get objectUtil(){return objectUtil},ZodParsedType,getParsedType,ZodType,ZodString,ZodNumber,ZodBigInt,ZodBoolean,ZodDate,ZodSymbol,ZodUndefined,ZodNull,ZodAny,ZodUnknown,ZodNever,ZodVoid,ZodArray,ZodObject,ZodUnion,ZodDiscriminatedUnion,ZodIntersection,ZodTuple,ZodRecord,ZodMap,ZodSet,ZodFunction,ZodLazy,ZodLiteral,ZodEnum,ZodNativeEnum,ZodPromise,ZodEffects,ZodTransformer:ZodEffects,ZodOptional,ZodNullable,ZodDefault,ZodCatch,ZodNaN,BRAND,ZodBranded,ZodPipeline,ZodReadonly,custom,Schema:ZodType,ZodSchema:ZodType,late,get ZodFirstPartyTypeKind(){return ZodFirstPartyTypeKind},coerce,any:anyType,array:arrayType,bigint:bigIntType,boolean:booleanType,date:dateType,discriminatedUnion:discriminatedUnionType,effect:effectsType,enum:enumType,function:functionType,instanceof:instanceOfType,intersection:intersectionType,lazy:lazyType,literal:literalType,map:mapType,nan:nanType,nativeEnum:nativeEnumType,never:neverType,null:nullType,nullable:nullableType,number:numberType,object:objectType,oboolean,onumber,optional:optionalType,ostring,pipeline:pipelineType,preprocess:preprocessType,promise:promiseType,record:recordType,set:setType,strictObject:strictObjectType,string:stringType,symbol:symbolType,transformer:effectsType,tuple:tupleType,undefined:undefinedType,union:unionType,unknown:unknownType,void:voidType,NEVER,ZodIssueCode,quotelessJson,ZodError});const version$1="0.9.8";let BaseError$1=class yt extends Error{constructor(ne,oe={}){const ae=oe.cause instanceof yt?oe.cause.details:oe.cause?.message?oe.cause.message:oe.details,de=oe.cause instanceof yt&&oe.cause.docsPath||oe.docsPath,fe=[ne||"An error occurred.","",...oe.metaMessages?[...oe.metaMessages,""]:[],...de?[`Docs: https://abitype.dev${de}`]:[],...ae?[`Details: ${ae}`]:[],`Version: abitype@${version$1}`].join(`
`);super(fe),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),oe.cause&&(this.cause=oe.cause),this.details=ae,this.docsPath=de,this.metaMessages=oe.metaMessages,this.shortMessage=ne}};function execTyped(ee,ne){return ee.exec(ne)?.groups}const bytesRegex$1=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,integerRegex$1=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,isTupleRegex=/^\(.+?\).*?$/,errorSignatureRegex=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function isErrorSignature(ee){return errorSignatureRegex.test(ee)}function execErrorSignature(ee){return execTyped(errorSignatureRegex,ee)}const eventSignatureRegex=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function isEventSignature(ee){return eventSignatureRegex.test(ee)}function execEventSignature(ee){return execTyped(eventSignatureRegex,ee)}const functionSignatureRegex=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function isFunctionSignature(ee){return functionSignatureRegex.test(ee)}function execFunctionSignature(ee){return execTyped(functionSignatureRegex,ee)}const structSignatureRegex=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function isStructSignature(ee){return structSignatureRegex.test(ee)}function execStructSignature(ee){return execTyped(structSignatureRegex,ee)}const constructorSignatureRegex=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function isConstructorSignature(ee){return constructorSignatureRegex.test(ee)}function execConstructorSignature(ee){return execTyped(constructorSignatureRegex,ee)}const fallbackSignatureRegex=/^fallback\(\)$/;function isFallbackSignature(ee){return fallbackSignatureRegex.test(ee)}const receiveSignatureRegex=/^receive\(\) external payable$/;function isReceiveSignature(ee){return receiveSignatureRegex.test(ee)}const modifiers=new Set(["memory","indexed","storage","calldata"]),eventModifiers=new Set(["indexed"]),functionModifiers=new Set(["calldata","memory","storage"]);class UnknownTypeError extends BaseError$1{constructor({type:ne}){super("Unknown type.",{metaMessages:[`Type "${ne}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class UnknownSolidityTypeError extends BaseError$1{constructor({type:ne}){super("Unknown type.",{metaMessages:[`Type "${ne}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class InvalidAbiParametersError extends BaseError$1{constructor({params:ne}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(ne,null,2)})`,docsPath:"/api/human.html#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class InvalidParameterError extends BaseError$1{constructor({param:ne}){super("Invalid ABI parameter.",{details:ne}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class SolidityProtectedKeywordError extends BaseError$1{constructor({param:ne,name:oe}){super("Invalid ABI parameter.",{details:ne,metaMessages:[`"${oe}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class InvalidModifierError extends BaseError$1{constructor({param:ne,type:oe,modifier:ae}){super("Invalid ABI parameter.",{details:ne,metaMessages:[`Modifier "${ae}" not allowed${oe?` in "${oe}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class InvalidFunctionModifierError extends BaseError$1{constructor({param:ne,type:oe,modifier:ae}){super("Invalid ABI parameter.",{details:ne,metaMessages:[`Modifier "${ae}" not allowed${oe?` in "${oe}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${ae}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class InvalidAbiTypeParameterError extends BaseError$1{constructor({abiParameter:ne}){super("Invalid ABI parameter.",{details:JSON.stringify(ne,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class InvalidSignatureError extends BaseError$1{constructor({signature:ne,type:oe}){super(`Invalid ${oe} signature.`,{details:ne}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class UnknownSignatureError extends BaseError$1{constructor({signature:ne}){super("Unknown signature.",{details:ne}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class InvalidStructSignatureError extends BaseError$1{constructor({signature:ne}){super("Invalid struct signature.",{details:ne,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class CircularReferenceError extends BaseError$1{constructor({type:ne}){super("Circular reference detected.",{metaMessages:[`Struct "${ne}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class InvalidParenthesisError extends BaseError$1{constructor({current:ne,depth:oe}){super("Unbalanced parentheses.",{metaMessages:[`"${ne.trim()}" has too many ${oe>0?"opening":"closing"} parentheses.`],details:`Depth "${oe}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function getParameterCacheKey(ee,ne){return ne?`${ne}:${ee}`:ee}const parameterCache=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function parseSignature(ee,ne={}){if(isFunctionSignature(ee)){const oe=execFunctionSignature(ee);if(!oe)throw new InvalidSignatureError({signature:ee,type:"function"});const ae=splitParameters(oe.parameters),de=[],fe=ae.length;for(let he=0;he<fe;he++)de.push(parseAbiParameter(ae[he],{modifiers:functionModifiers,structs:ne,type:"function"}));const pe=[];if(oe.returns){const he=splitParameters(oe.returns),be=he.length;for(let ge=0;ge<be;ge++)pe.push(parseAbiParameter(he[ge],{modifiers:functionModifiers,structs:ne,type:"function"}))}return{name:oe.name,type:"function",stateMutability:oe.stateMutability??"nonpayable",inputs:de,outputs:pe}}if(isEventSignature(ee)){const oe=execEventSignature(ee);if(!oe)throw new InvalidSignatureError({signature:ee,type:"event"});const ae=splitParameters(oe.parameters),de=[],fe=ae.length;for(let pe=0;pe<fe;pe++)de.push(parseAbiParameter(ae[pe],{modifiers:eventModifiers,structs:ne,type:"event"}));return{name:oe.name,type:"event",inputs:de}}if(isErrorSignature(ee)){const oe=execErrorSignature(ee);if(!oe)throw new InvalidSignatureError({signature:ee,type:"error"});const ae=splitParameters(oe.parameters),de=[],fe=ae.length;for(let pe=0;pe<fe;pe++)de.push(parseAbiParameter(ae[pe],{structs:ne,type:"error"}));return{name:oe.name,type:"error",inputs:de}}if(isConstructorSignature(ee)){const oe=execConstructorSignature(ee);if(!oe)throw new InvalidSignatureError({signature:ee,type:"constructor"});const ae=splitParameters(oe.parameters),de=[],fe=ae.length;for(let pe=0;pe<fe;pe++)de.push(parseAbiParameter(ae[pe],{structs:ne,type:"constructor"}));return{type:"constructor",stateMutability:oe.stateMutability??"nonpayable",inputs:de}}if(isFallbackSignature(ee))return{type:"fallback"};if(isReceiveSignature(ee))return{type:"receive",stateMutability:"payable"};throw new UnknownSignatureError({signature:ee})}const abiParameterWithoutTupleRegex=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,abiParameterWithTupleRegex=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,dynamicIntegerRegex=/^u?int$/;function parseAbiParameter(ee,ne){const oe=getParameterCacheKey(ee,ne?.type);if(parameterCache.has(oe))return parameterCache.get(oe);const ae=isTupleRegex.test(ee),de=execTyped(ae?abiParameterWithTupleRegex:abiParameterWithoutTupleRegex,ee);if(!de)throw new InvalidParameterError({param:ee});if(de.name&&isSolidityKeyword(de.name))throw new SolidityProtectedKeywordError({param:ee,name:de.name});const fe=de.name?{name:de.name}:{},pe=de.modifier==="indexed"?{indexed:!0}:{},he=ne?.structs??{};let be,ge={};if(ae){be="tuple";const we=splitParameters(de.type),_e=[],Te=we.length;for(let Ee=0;Ee<Te;Ee++)_e.push(parseAbiParameter(we[Ee],{structs:he}));ge={components:_e}}else if(de.type in he)be="tuple",ge={components:he[de.type]};else if(dynamicIntegerRegex.test(de.type))be=`${de.type}256`;else if(be=de.type,ne?.type!=="struct"&&!isSolidityType(be))throw new UnknownSolidityTypeError({type:be});if(de.modifier){if(!ne?.modifiers?.has?.(de.modifier))throw new InvalidModifierError({param:ee,type:ne?.type,modifier:de.modifier});if(functionModifiers.has(de.modifier)&&!isValidDataLocation(be,!!de.array))throw new InvalidFunctionModifierError({param:ee,type:ne?.type,modifier:de.modifier})}const ve={type:`${be}${de.array??""}`,...fe,...pe,...ge};return parameterCache.set(oe,ve),ve}function splitParameters(ee,ne=[],oe="",ae=0){if(ee===""){if(oe==="")return ne;if(ae!==0)throw new InvalidParenthesisError({current:oe,depth:ae});return ne.push(oe.trim()),ne}const de=ee.length;for(let fe=0;fe<de;fe++){const pe=ee[fe],he=ee.slice(fe+1);switch(pe){case",":return ae===0?splitParameters(he,[...ne,oe.trim()]):splitParameters(he,ne,`${oe}${pe}`,ae);case"(":return splitParameters(he,ne,`${oe}${pe}`,ae+1);case")":return splitParameters(he,ne,`${oe}${pe}`,ae-1);default:return splitParameters(he,ne,`${oe}${pe}`,ae)}}return[]}function isSolidityType(ee){return ee==="address"||ee==="bool"||ee==="function"||ee==="string"||bytesRegex$1.test(ee)||integerRegex$1.test(ee)}const protectedKeywordsRegex=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function isSolidityKeyword(ee){return ee==="address"||ee==="bool"||ee==="function"||ee==="string"||ee==="tuple"||bytesRegex$1.test(ee)||integerRegex$1.test(ee)||protectedKeywordsRegex.test(ee)}function isValidDataLocation(ee,ne){return ne||ee==="bytes"||ee==="string"||ee==="tuple"}function parseStructs(ee){const ne={},oe=ee.length;for(let pe=0;pe<oe;pe++){const he=ee[pe];if(!isStructSignature(he))continue;const be=execStructSignature(he);if(!be)throw new InvalidSignatureError({signature:he,type:"struct"});const ge=be.properties.split(";"),ve=[],we=ge.length;for(let _e=0;_e<we;_e++){const Ee=ge[_e].trim();if(!Ee)continue;const Ie=parseAbiParameter(Ee,{type:"struct"});ve.push(Ie)}if(!ve.length)throw new InvalidStructSignatureError({signature:he});ne[be.name]=ve}const ae={},de=Object.entries(ne),fe=de.length;for(let pe=0;pe<fe;pe++){const[he,be]=de[pe];ae[he]=resolveStructs(be,ne)}return ae}const typeWithoutTupleRegex=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function resolveStructs(ee,ne,oe=new Set){const ae=[],de=ee.length;for(let fe=0;fe<de;fe++){const pe=ee[fe];if(isTupleRegex.test(pe.type))ae.push(pe);else{const be=execTyped(typeWithoutTupleRegex,pe.type);if(!be?.type)throw new InvalidAbiTypeParameterError({abiParameter:pe});const{array:ge,type:ve}=be;if(ve in ne){if(oe.has(ve))throw new CircularReferenceError({type:ve});ae.push({...pe,type:`tuple${ge??""}`,components:resolveStructs(ne[ve]??[],ne,new Set([...oe,ve]))})}else if(isSolidityType(ve))ae.push(pe);else throw new UnknownTypeError({type:ve})}}return ae}function parseAbi(ee){const ne=parseStructs(ee),oe=[],ae=ee.length;for(let de=0;de<ae;de++){const fe=ee[de];isStructSignature(fe)||oe.push(parseSignature(fe,ne))}return oe}function parseAbiParameters(ee){const ne=[];if(typeof ee=="string"){const oe=splitParameters(ee),ae=oe.length;for(let de=0;de<ae;de++)ne.push(parseAbiParameter(oe[de],{modifiers}))}else{const oe=parseStructs(ee),ae=ee.length;for(let de=0;de<ae;de++){const fe=ee[de];if(isStructSignature(fe))continue;const pe=splitParameters(fe),he=pe.length;for(let be=0;be<he;be++)ne.push(parseAbiParameter(pe[be],{modifiers,structs:oe}))}}if(ne.length===0)throw new InvalidAbiParametersError({params:ee});return ne}function formatAbiItem(ee,{includeName:ne=!1}={}){if(ee.type!=="function"&&ee.type!=="event"&&ee.type!=="error")throw new InvalidDefinitionTypeError(ee.type);return`${ee.name}(${formatAbiParams(ee.inputs,{includeName:ne})})`}function formatAbiParams(ee,{includeName:ne=!1}={}){return ee?ee.map(oe=>formatAbiParam(oe,{includeName:ne})).join(ne?", ":","):""}function formatAbiParam(ee,{includeName:ne}){return ee.type.startsWith("tuple")?`(${formatAbiParams(ee.components,{includeName:ne})})${ee.type.slice(5)}`:ee.type+(ne&&ee.name?` ${ee.name}`:"")}function isHex(ee,{strict:ne=!0}={}){return!ee||typeof ee!="string"?!1:ne?/^0x[0-9a-fA-F]*$/.test(ee):ee.startsWith("0x")}function size$1(ee){return isHex(ee,{strict:!1})?Math.ceil((ee.length-2)/2):ee.length}const version="1.13.2",getContractAddress=ee=>ee,getUrl$1=ee=>ee,getVersion=()=>`viem@${version}`;class BaseError extends Error{constructor(ne,oe={}){super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:getVersion()});const ae=oe.cause instanceof BaseError?oe.cause.details:oe.cause?.message?oe.cause.message:oe.details,de=oe.cause instanceof BaseError&&oe.cause.docsPath||oe.docsPath;this.message=[ne||"An error occurred.","",...oe.metaMessages?[...oe.metaMessages,""]:[],...de?[`Docs: https://viem.sh${de}.html${oe.docsSlug?`#${oe.docsSlug}`:""}`]:[],...ae?[`Details: ${ae}`]:[],`Version: ${this.version}`].join(`
`),oe.cause&&(this.cause=oe.cause),this.details=ae,this.docsPath=de,this.metaMessages=oe.metaMessages,this.shortMessage=ne}walk(ne){return walk(this,ne)}}function walk(ee,ne){return ne?.(ee)?ee:ee&&typeof ee=="object"&&"cause"in ee?walk(ee.cause,ne):ne?null:ee}class AbiConstructorNotFoundError extends BaseError{constructor({docsPath:ne}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:ne}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}}class AbiConstructorParamsNotFoundError extends BaseError{constructor({docsPath:ne}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:ne}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}}class AbiDecodingDataSizeTooSmallError extends BaseError{constructor({data:ne,params:oe,size:ae}){super([`Data size of ${ae} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${formatAbiParams(oe,{includeName:!0})})`,`Data:   ${ne} (${ae} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=ne,this.params=oe,this.size=ae}}class AbiDecodingZeroDataError extends BaseError{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}}class AbiEncodingArrayLengthMismatchError extends BaseError{constructor({expectedLength:ne,givenLength:oe,type:ae}){super([`ABI encoding array length mismatch for type ${ae}.`,`Expected length: ${ne}`,`Given length: ${oe}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class AbiEncodingBytesSizeMismatchError extends BaseError{constructor({expectedSize:ne,value:oe}){super(`Size of bytes "${oe}" (bytes${size$1(oe)}) does not match expected size (bytes${ne}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class AbiEncodingLengthMismatchError extends BaseError{constructor({expectedLength:ne,givenLength:oe}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${ne}`,`Given length (values): ${oe}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}class AbiErrorSignatureNotFoundError extends BaseError{constructor(ne,{docsPath:oe}){super([`Encoded error signature "${ne}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${ne}.`].join(`
`),{docsPath:oe}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=ne}}class AbiEventSignatureEmptyTopicsError extends BaseError{constructor({docsPath:ne}){super("Cannot extract event signature from empty topics.",{docsPath:ne}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureEmptyTopicsError"})}}class AbiEventSignatureNotFoundError extends BaseError{constructor(ne,{docsPath:oe}){super([`Encoded event signature "${ne}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${ne}.`].join(`
`),{docsPath:oe}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureNotFoundError"})}}class AbiEventNotFoundError extends BaseError{constructor(ne,{docsPath:oe}={}){super([`Event ${ne?`"${ne}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:oe}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventNotFoundError"})}}class AbiFunctionNotFoundError extends BaseError{constructor(ne,{docsPath:oe}={}){super([`Function ${ne?`"${ne}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:oe}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}}class AbiFunctionOutputsNotFoundError extends BaseError{constructor(ne,{docsPath:oe}){super([`Function "${ne}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:oe}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}}class BytesSizeMismatchError extends BaseError{constructor({expectedSize:ne,givenSize:oe}){super(`Expected bytes${ne}, got bytes${oe}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}}class DecodeLogDataMismatch extends BaseError{constructor({abiItem:ne,data:oe,params:ae,size:de}){super([`Data size of ${de} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${formatAbiParams(ae,{includeName:!0})})`,`Data:   ${oe} (${de} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=ne,this.data=oe,this.params=ae,this.size=de}}class DecodeLogTopicsMismatch extends BaseError{constructor({abiItem:ne,param:oe}){super([`Expected a topic for indexed event parameter${oe.name?` "${oe.name}"`:""} on event "${formatAbiItem(ne,{includeName:!0})}".`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=ne}}class InvalidAbiEncodingTypeError extends BaseError{constructor(ne,{docsPath:oe}){super([`Type "${ne}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:oe}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class InvalidAbiDecodingTypeError extends BaseError{constructor(ne,{docsPath:oe}){super([`Type "${ne}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:oe}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}}class InvalidArrayError extends BaseError{constructor(ne){super([`Value "${ne}" is not a valid array.`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}class InvalidDefinitionTypeError extends BaseError{constructor(ne){super([`"${ne}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}}class UnsupportedPackedAbiType extends BaseError{constructor(ne){super(`Type "${ne}" is not supported for packed encoding.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedPackedAbiType"})}}class FilterTypeNotSupportedError extends BaseError{constructor(ne){super(`Filter type "${ne}" is not supported.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"})}}class SliceOffsetOutOfBoundsError extends BaseError{constructor({offset:ne,position:oe,size:ae}){super(`Slice ${oe==="start"?"starting":"ending"} at offset "${ne}" is out-of-bounds (size: ${ae}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SliceOffsetOutOfBoundsError"})}}class SizeExceedsPaddingSizeError extends BaseError{constructor({size:ne,targetSize:oe,type:ae}){super(`${ae.charAt(0).toUpperCase()}${ae.slice(1).toLowerCase()} size (${ne}) exceeds padding size (${oe}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}function pad(ee,{dir:ne,size:oe=32}={}){return typeof ee=="string"?padHex(ee,{dir:ne,size:oe}):padBytes(ee,{dir:ne,size:oe})}function padHex(ee,{dir:ne,size:oe=32}={}){if(oe===null)return ee;const ae=ee.replace("0x","");if(ae.length>oe*2)throw new SizeExceedsPaddingSizeError({size:Math.ceil(ae.length/2),targetSize:oe,type:"hex"});return`0x${ae[ne==="right"?"padEnd":"padStart"](oe*2,"0")}`}function padBytes(ee,{dir:ne,size:oe=32}={}){if(oe===null)return ee;if(ee.length>oe)throw new SizeExceedsPaddingSizeError({size:ee.length,targetSize:oe,type:"bytes"});const ae=new Uint8Array(oe);for(let de=0;de<oe;de++){const fe=ne==="right";ae[fe?de:oe-de-1]=ee[fe?de:ee.length-de-1]}return ae}class IntegerOutOfRangeError extends BaseError{constructor({max:ne,min:oe,signed:ae,size:de,value:fe}){super(`Number "${fe}" is not in safe ${de?`${de*8}-bit ${ae?"signed":"unsigned"} `:""}integer range ${ne?`(${oe} to ${ne})`:`(above ${oe})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}class InvalidHexBooleanError extends BaseError{constructor(ne){super(`Hex value "${ne}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidHexBooleanError"})}}class SizeOverflowError extends BaseError{constructor({givenSize:ne,maxSize:oe}){super(`Size cannot exceed ${oe} bytes. Given size: ${ne} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}function trim(ee,{dir:ne="left"}={}){let oe=typeof ee=="string"?ee.replace("0x",""):ee,ae=0;for(let de=0;de<oe.length-1&&oe[ne==="left"?de:oe.length-de-1].toString()==="0";de++)ae++;return oe=ne==="left"?oe.slice(ae):oe.slice(0,oe.length-ae),typeof ee=="string"?(oe.length===1&&ne==="right"&&(oe=`${oe}0`),`0x${oe.length%2===1?`0${oe}`:oe}`):oe}function assertSize(ee,{size:ne}){if(size$1(ee)>ne)throw new SizeOverflowError({givenSize:size$1(ee),maxSize:ne})}function hexToBigInt(ee,ne={}){const{signed:oe}=ne;ne.size&&assertSize(ee,{size:ne.size});const ae=BigInt(ee);if(!oe)return ae;const de=(ee.length-2)/2,fe=(1n<<BigInt(de)*8n-1n)-1n;return ae<=fe?ae:ae-BigInt(`0x${"f".padStart(de*2,"f")}`)-1n}function hexToBool(ee,ne={}){let oe=ee;if(ne.size&&(assertSize(oe,{size:ne.size}),oe=trim(oe)),trim(oe)==="0x00")return!1;if(trim(oe)==="0x01")return!0;throw new InvalidHexBooleanError(oe)}function hexToNumber$1(ee,ne={}){return Number(hexToBigInt(ee,ne))}function hexToString(ee,ne={}){let oe=hexToBytes$1(ee);return ne.size&&(assertSize(oe,{size:ne.size}),oe=trim(oe,{dir:"right"})),new TextDecoder().decode(oe)}const hexes$1=Array.from({length:256},(ee,ne)=>ne.toString(16).padStart(2,"0"));function toHex(ee,ne={}){return typeof ee=="number"||typeof ee=="bigint"?numberToHex(ee,ne):typeof ee=="string"?stringToHex(ee,ne):typeof ee=="boolean"?boolToHex(ee,ne):bytesToHex$1(ee,ne)}function boolToHex(ee,ne={}){const oe=`0x${Number(ee)}`;return typeof ne.size=="number"?(assertSize(oe,{size:ne.size}),pad(oe,{size:ne.size})):oe}function bytesToHex$1(ee,ne={}){let oe="";for(let de=0;de<ee.length;de++)oe+=hexes$1[ee[de]];const ae=`0x${oe}`;return typeof ne.size=="number"?(assertSize(ae,{size:ne.size}),pad(ae,{dir:"right",size:ne.size})):ae}function numberToHex(ee,ne={}){const{signed:oe,size:ae}=ne,de=BigInt(ee);let fe;ae?oe?fe=(1n<<BigInt(ae)*8n-1n)-1n:fe=2n**(BigInt(ae)*8n)-1n:typeof ee=="number"&&(fe=BigInt(Number.MAX_SAFE_INTEGER));const pe=typeof fe=="bigint"&&oe?-fe-1n:0;if(fe&&de>fe||de<pe){const be=typeof ee=="bigint"?"n":"";throw new IntegerOutOfRangeError({max:fe?`${fe}${be}`:void 0,min:`${pe}${be}`,signed:oe,size:ae,value:`${ee}${be}`})}const he=`0x${(oe&&de<0?(1n<<BigInt(ae*8))+BigInt(de):de).toString(16)}`;return ae?pad(he,{size:ae}):he}const encoder$1=new TextEncoder;function stringToHex(ee,ne={}){const oe=encoder$1.encode(ee);return bytesToHex$1(oe,ne)}const encoder=new TextEncoder;function toBytes$1(ee,ne={}){return typeof ee=="number"||typeof ee=="bigint"?numberToBytes(ee,ne):typeof ee=="boolean"?boolToBytes(ee,ne):isHex(ee)?hexToBytes$1(ee,ne):stringToBytes(ee,ne)}function boolToBytes(ee,ne={}){const oe=new Uint8Array(1);return oe[0]=Number(ee),typeof ne.size=="number"?(assertSize(oe,{size:ne.size}),pad(oe,{size:ne.size})):oe}const charCodeMap={zero:48,nine:57,A:65,F:70,a:97,f:102};function charCodeToBase16(ee){if(ee>=charCodeMap.zero&&ee<=charCodeMap.nine)return ee-charCodeMap.zero;if(ee>=charCodeMap.A&&ee<=charCodeMap.F)return ee-(charCodeMap.A-10);if(ee>=charCodeMap.a&&ee<=charCodeMap.f)return ee-(charCodeMap.a-10)}function hexToBytes$1(ee,ne={}){let oe=ee;ne.size&&(assertSize(oe,{size:ne.size}),oe=pad(oe,{dir:"right",size:ne.size}));let ae=oe.slice(2);ae.length%2&&(ae=`0${ae}`);const de=ae.length/2,fe=new Uint8Array(de);for(let pe=0,he=0;pe<de;pe++){const be=charCodeToBase16(ae.charCodeAt(he++)),ge=charCodeToBase16(ae.charCodeAt(he++));if(be===void 0||ge===void 0)throw new BaseError(`Invalid byte sequence ("${ae[he-2]}${ae[he-1]}" in "${ae}").`);fe[pe]=be*16+ge}return fe}function numberToBytes(ee,ne){const oe=numberToHex(ee,ne);return hexToBytes$1(oe)}function stringToBytes(ee,ne={}){const oe=encoder.encode(ee);return typeof ne.size=="number"?(assertSize(oe,{size:ne.size}),pad(oe,{dir:"right",size:ne.size})):oe}const paramsRegex=/((function|event)\s)?(.*)(\((.*)\))/;function extractFunctionParts(ee){const ne=ee.match(paramsRegex),oe=ne?.[2]||void 0,ae=ne?.[3],de=ne?.[5]||void 0;return{type:oe,name:ae,params:de}}function extractFunctionName(ee){return extractFunctionParts(ee).name}function extractFunctionParams(ee){return extractFunctionParts(ee).params?.split(",").map(ae=>ae.trim().split(" "))?.map(ae=>({type:ae[0],name:ae[1]==="indexed"?ae[2]:ae[1],...ae[1]==="indexed"?{indexed:!0}:{}}))}const getFunctionSignature=ee=>{if(typeof ee=="string"){const ne=extractFunctionName(ee),oe=extractFunctionParams(ee)||[];return`${ne}(${oe.map(({type:ae})=>ae).join(",")})`}return formatAbiItem(ee)},getEventSignature=ee=>getFunctionSignature(ee);function number(ee){if(!Number.isSafeInteger(ee)||ee<0)throw new Error(`Wrong positive integer: ${ee}`)}function bytes(ee,...ne){if(!(ee instanceof Uint8Array))throw new Error("Expected Uint8Array");if(ne.length>0&&!ne.includes(ee.length))throw new Error(`Expected Uint8Array of length ${ne}, not of length=${ee.length}`)}function hash$2(ee){if(typeof ee!="function"||typeof ee.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number(ee.outputLen),number(ee.blockLen)}function exists(ee,ne=!0){if(ee.destroyed)throw new Error("Hash instance has been destroyed");if(ne&&ee.finished)throw new Error("Hash#digest() has already been called")}function output(ee,ne){bytes(ee);const oe=ne.outputLen;if(ee.length<oe)throw new Error(`digestInto() expects output buffer of length at least ${oe}`)}const U32_MASK64=BigInt(2**32-1),_32n=BigInt(32);function fromBig(ee,ne=!1){return ne?{h:Number(ee&U32_MASK64),l:Number(ee>>_32n&U32_MASK64)}:{h:Number(ee>>_32n&U32_MASK64)|0,l:Number(ee&U32_MASK64)|0}}function split(ee,ne=!1){let oe=new Uint32Array(ee.length),ae=new Uint32Array(ee.length);for(let de=0;de<ee.length;de++){const{h:fe,l:pe}=fromBig(ee[de],ne);[oe[de],ae[de]]=[fe,pe]}return[oe,ae]}const rotlSH=(ee,ne,oe)=>ee<<oe|ne>>>32-oe,rotlSL=(ee,ne,oe)=>ne<<oe|ee>>>32-oe,rotlBH=(ee,ne,oe)=>ne<<oe-32|ee>>>64-oe,rotlBL=(ee,ne,oe)=>ee<<oe-32|ne>>>64-oe,crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const u8a$1=ee=>ee instanceof Uint8Array,u32=ee=>new Uint32Array(ee.buffer,ee.byteOffset,Math.floor(ee.byteLength/4)),createView=ee=>new DataView(ee.buffer,ee.byteOffset,ee.byteLength),rotr=(ee,ne)=>ee<<32-ne|ee>>>ne,isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!isLE)throw new Error("Non little-endian hardware is not supported");function utf8ToBytes$1(ee){if(typeof ee!="string")throw new Error(`utf8ToBytes expected string, got ${typeof ee}`);return new Uint8Array(new TextEncoder().encode(ee))}function toBytes(ee){if(typeof ee=="string"&&(ee=utf8ToBytes$1(ee)),!u8a$1(ee))throw new Error(`expected Uint8Array, got ${typeof ee}`);return ee}function concatBytes$2(...ee){const ne=new Uint8Array(ee.reduce((ae,de)=>ae+de.length,0));let oe=0;return ee.forEach(ae=>{if(!u8a$1(ae))throw new Error("Uint8Array expected");ne.set(ae,oe),oe+=ae.length}),ne}class Hash{clone(){return this._cloneInto()}}function wrapConstructor(ee){const ne=ae=>ee().update(toBytes(ae)).digest(),oe=ee();return ne.outputLen=oe.outputLen,ne.blockLen=oe.blockLen,ne.create=()=>ee(),ne}function randomBytes(ee=32){if(crypto&&typeof crypto.getRandomValues=="function")return crypto.getRandomValues(new Uint8Array(ee));throw new Error("crypto.getRandomValues must be defined")}const[SHA3_PI,SHA3_ROTL,_SHA3_IOTA]=[[],[],[]],_0n$4=BigInt(0),_1n$5=BigInt(1),_2n$3=BigInt(2),_7n=BigInt(7),_256n=BigInt(256),_0x71n=BigInt(113);for(let ee=0,ne=_1n$5,oe=1,ae=0;ee<24;ee++){[oe,ae]=[ae,(2*oe+3*ae)%5],SHA3_PI.push(2*(5*ae+oe)),SHA3_ROTL.push((ee+1)*(ee+2)/2%64);let de=_0n$4;for(let fe=0;fe<7;fe++)ne=(ne<<_1n$5^(ne>>_7n)*_0x71n)%_256n,ne&_2n$3&&(de^=_1n$5<<(_1n$5<<BigInt(fe))-_1n$5);_SHA3_IOTA.push(de)}const[SHA3_IOTA_H,SHA3_IOTA_L]=split(_SHA3_IOTA,!0),rotlH=(ee,ne,oe)=>oe>32?rotlBH(ee,ne,oe):rotlSH(ee,ne,oe),rotlL=(ee,ne,oe)=>oe>32?rotlBL(ee,ne,oe):rotlSL(ee,ne,oe);function keccakP(ee,ne=24){const oe=new Uint32Array(10);for(let ae=24-ne;ae<24;ae++){for(let pe=0;pe<10;pe++)oe[pe]=ee[pe]^ee[pe+10]^ee[pe+20]^ee[pe+30]^ee[pe+40];for(let pe=0;pe<10;pe+=2){const he=(pe+8)%10,be=(pe+2)%10,ge=oe[be],ve=oe[be+1],we=rotlH(ge,ve,1)^oe[he],_e=rotlL(ge,ve,1)^oe[he+1];for(let Te=0;Te<50;Te+=10)ee[pe+Te]^=we,ee[pe+Te+1]^=_e}let de=ee[2],fe=ee[3];for(let pe=0;pe<24;pe++){const he=SHA3_ROTL[pe],be=rotlH(de,fe,he),ge=rotlL(de,fe,he),ve=SHA3_PI[pe];de=ee[ve],fe=ee[ve+1],ee[ve]=be,ee[ve+1]=ge}for(let pe=0;pe<50;pe+=10){for(let he=0;he<10;he++)oe[he]=ee[pe+he];for(let he=0;he<10;he++)ee[pe+he]^=~oe[(he+2)%10]&oe[(he+4)%10]}ee[0]^=SHA3_IOTA_H[ae],ee[1]^=SHA3_IOTA_L[ae]}oe.fill(0)}class Keccak extends Hash{constructor(ne,oe,ae,de=!1,fe=24){if(super(),this.blockLen=ne,this.suffix=oe,this.outputLen=ae,this.enableXOF=de,this.rounds=fe,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,number(ae),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=u32(this.state)}keccak(){keccakP(this.state32,this.rounds),this.posOut=0,this.pos=0}update(ne){exists(this);const{blockLen:oe,state:ae}=this;ne=toBytes(ne);const de=ne.length;for(let fe=0;fe<de;){const pe=Math.min(oe-this.pos,de-fe);for(let he=0;he<pe;he++)ae[this.pos++]^=ne[fe++];this.pos===oe&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:ne,suffix:oe,pos:ae,blockLen:de}=this;ne[ae]^=oe,oe&128&&ae===de-1&&this.keccak(),ne[de-1]^=128,this.keccak()}writeInto(ne){exists(this,!1),bytes(ne),this.finish();const oe=this.state,{blockLen:ae}=this;for(let de=0,fe=ne.length;de<fe;){this.posOut>=ae&&this.keccak();const pe=Math.min(ae-this.posOut,fe-de);ne.set(oe.subarray(this.posOut,this.posOut+pe),de),this.posOut+=pe,de+=pe}return ne}xofInto(ne){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(ne)}xof(ne){return number(ne),this.xofInto(new Uint8Array(ne))}digestInto(ne){if(output(ne,this),this.finished)throw new Error("digest() was already called");return this.writeInto(ne),this.destroy(),ne}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(ne){const{blockLen:oe,suffix:ae,outputLen:de,rounds:fe,enableXOF:pe}=this;return ne||(ne=new Keccak(oe,ae,de,pe,fe)),ne.state32.set(this.state32),ne.pos=this.pos,ne.posOut=this.posOut,ne.finished=this.finished,ne.rounds=fe,ne.suffix=ae,ne.outputLen=de,ne.enableXOF=pe,ne.destroyed=this.destroyed,ne}}const gen=(ee,ne,oe)=>wrapConstructor(()=>new Keccak(ne,ee,oe)),keccak_256=gen(1,136,256/8);function keccak256(ee,ne){const oe=ne||"hex",ae=keccak_256(isHex(ee,{strict:!1})?toBytes$1(ee):ee);return oe==="bytes"?ae:toHex(ae)}const hash$1=ee=>keccak256(toBytes$1(ee)),getEventSelector=ee=>hash$1(getEventSignature(ee));class InvalidAddressError extends BaseError{constructor({address:ne}){super(`Address "${ne}" is invalid.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}const addressRegex=/^0x[a-fA-F0-9]{40}$/;function isAddress(ee){return addressRegex.test(ee)}function concat(ee){return typeof ee[0]=="string"?concatHex(ee):concatBytes$1(ee)}function concatBytes$1(ee){let ne=0;for(const de of ee)ne+=de.length;const oe=new Uint8Array(ne);let ae=0;for(const de of ee)oe.set(de,ae),ae+=de.length;return oe}function concatHex(ee){return`0x${ee.reduce((ne,oe)=>ne+oe.replace("0x",""),"")}`}function slice(ee,ne,oe,{strict:ae}={}){return isHex(ee,{strict:!1})?sliceHex(ee,ne,oe,{strict:ae}):sliceBytes(ee,ne,oe,{strict:ae})}function assertStartOffset(ee,ne){if(typeof ne=="number"&&ne>0&&ne>size$1(ee)-1)throw new SliceOffsetOutOfBoundsError({offset:ne,position:"start",size:size$1(ee)})}function assertEndOffset(ee,ne,oe){if(typeof ne=="number"&&typeof oe=="number"&&size$1(ee)!==oe-ne)throw new SliceOffsetOutOfBoundsError({offset:oe,position:"end",size:size$1(ee)})}function sliceBytes(ee,ne,oe,{strict:ae}={}){assertStartOffset(ee,ne);const de=ee.slice(ne,oe);return ae&&assertEndOffset(de,ne,oe),de}function sliceHex(ee,ne,oe,{strict:ae}={}){assertStartOffset(ee,ne);const de=`0x${ee.replace("0x","").slice((ne??0)*2,(oe??ee.length)*2)}`;return ae&&assertEndOffset(de,ne,oe),de}function encodeAbiParameters(ee,ne){if(ee.length!==ne.length)throw new AbiEncodingLengthMismatchError({expectedLength:ee.length,givenLength:ne.length});const oe=prepareParams({params:ee,values:ne}),ae=encodeParams(oe);return ae.length===0?"0x":ae}function prepareParams({params:ee,values:ne}){const oe=[];for(let ae=0;ae<ee.length;ae++)oe.push(prepareParam({param:ee[ae],value:ne[ae]}));return oe}function prepareParam({param:ee,value:ne}){const oe=getArrayComponents(ee.type);if(oe){const[ae,de]=oe;return encodeArray(ne,{length:ae,param:{...ee,type:de}})}if(ee.type==="tuple")return encodeTuple(ne,{param:ee});if(ee.type==="address")return encodeAddress(ne);if(ee.type==="bool")return encodeBool(ne);if(ee.type.startsWith("uint")||ee.type.startsWith("int")){const ae=ee.type.startsWith("int");return encodeNumber(ne,{signed:ae})}if(ee.type.startsWith("bytes"))return encodeBytes(ne,{param:ee});if(ee.type==="string")return encodeString(ne);throw new InvalidAbiEncodingTypeError(ee.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function encodeParams(ee){let ne=0;for(let fe=0;fe<ee.length;fe++){const{dynamic:pe,encoded:he}=ee[fe];pe?ne+=32:ne+=size$1(he)}const oe=[],ae=[];let de=0;for(let fe=0;fe<ee.length;fe++){const{dynamic:pe,encoded:he}=ee[fe];pe?(oe.push(numberToHex(ne+de,{size:32})),ae.push(he),de+=size$1(he)):oe.push(he)}return concat([...oe,...ae])}function encodeAddress(ee){if(!isAddress(ee))throw new InvalidAddressError({address:ee});return{dynamic:!1,encoded:padHex(ee.toLowerCase())}}function encodeArray(ee,{length:ne,param:oe}){const ae=ne===null;if(!Array.isArray(ee))throw new InvalidArrayError(ee);if(!ae&&ee.length!==ne)throw new AbiEncodingArrayLengthMismatchError({expectedLength:ne,givenLength:ee.length,type:`${oe.type}[${ne}]`});let de=!1;const fe=[];for(let pe=0;pe<ee.length;pe++){const he=prepareParam({param:oe,value:ee[pe]});he.dynamic&&(de=!0),fe.push(he)}if(ae||de){const pe=encodeParams(fe);if(ae){const he=numberToHex(fe.length,{size:32});return{dynamic:!0,encoded:fe.length>0?concat([he,pe]):he}}if(de)return{dynamic:!0,encoded:pe}}return{dynamic:!1,encoded:concat(fe.map(({encoded:pe})=>pe))}}function encodeBytes(ee,{param:ne}){const[,oe]=ne.type.split("bytes"),ae=size$1(ee);if(!oe){let de=ee;return ae%32!==0&&(de=padHex(de,{dir:"right",size:Math.ceil((ee.length-2)/2/32)*32})),{dynamic:!0,encoded:concat([padHex(numberToHex(ae,{size:32})),de])}}if(ae!==parseInt(oe))throw new AbiEncodingBytesSizeMismatchError({expectedSize:parseInt(oe),value:ee});return{dynamic:!1,encoded:padHex(ee,{dir:"right"})}}function encodeBool(ee){return{dynamic:!1,encoded:padHex(boolToHex(ee))}}function encodeNumber(ee,{signed:ne}){return{dynamic:!1,encoded:numberToHex(ee,{size:32,signed:ne})}}function encodeString(ee){const ne=stringToHex(ee),oe=Math.ceil(size$1(ne)/32),ae=[];for(let de=0;de<oe;de++)ae.push(padHex(slice(ne,de*32,(de+1)*32),{dir:"right"}));return{dynamic:!0,encoded:concat([padHex(numberToHex(size$1(ne),{size:32})),...ae])}}function encodeTuple(ee,{param:ne}){let oe=!1;const ae=[];for(let de=0;de<ne.components.length;de++){const fe=ne.components[de],pe=Array.isArray(ee)?de:fe.name,he=prepareParam({param:fe,value:ee[pe]});ae.push(he),he.dynamic&&(oe=!0)}return{dynamic:oe,encoded:oe?encodeParams(ae):concat(ae.map(({encoded:de})=>de))}}function getArrayComponents(ee){const ne=ee.match(/^(.*)\[(\d+)?\]$/);return ne?[ne[2]?Number(ne[2]):null,ne[1]]:void 0}const hash=ee=>keccak256(toBytes$1(ee)),getFunctionSelector=ee=>slice(hash(getFunctionSignature(ee)),0,4);function getAbiItem({abi:ee,args:ne=[],name:oe}){const ae=isHex(oe,{strict:!1}),de=ee.filter(fe=>ae?fe.type==="function"?getFunctionSelector(fe)===oe:fe.type==="event"?getEventSelector(fe)===oe:!1:"name"in fe&&fe.name===oe);if(de.length!==0){if(de.length===1)return de[0];for(const fe of de){if(!("inputs"in fe))continue;if(!ne||ne.length===0){if(!fe.inputs||fe.inputs.length===0)return fe;continue}if(!fe.inputs||fe.inputs.length===0||fe.inputs.length!==ne.length)continue;if(ne.every((he,be)=>{const ge="inputs"in fe&&fe.inputs[be];return ge?isArgOfType(he,ge):!1}))return fe}return de[0]}}function isArgOfType(ee,ne){const oe=typeof ee,ae=ne.type;switch(ae){case"address":return isAddress(ee);case"bool":return oe==="boolean";case"function":return oe==="string";case"string":return oe==="string";default:return ae==="tuple"&&"components"in ne?Object.values(ne.components).every((de,fe)=>isArgOfType(Object.values(ee)[fe],de)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(ae)?oe==="number"||oe==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(ae)?oe==="string"||ee instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(ae)?Array.isArray(ee)&&ee.every(de=>isArgOfType(de,{...ne,type:ae.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function encodeEventTopics({abi:ee,eventName:ne,args:oe}){let ae=ee[0];if(ne&&(ae=getAbiItem({abi:ee,args:oe,name:ne}),!ae))throw new AbiEventNotFoundError(ne,{docsPath:"/docs/contract/encodeEventTopics"});if(ae.type!=="event")throw new AbiEventNotFoundError(void 0,{docsPath:"/docs/contract/encodeEventTopics"});const de=formatAbiItem(ae),fe=getEventSelector(de);let pe=[];if(oe&&"inputs"in ae){const he=ae.inputs?.filter(ge=>"indexed"in ge&&ge.indexed),be=Array.isArray(oe)?oe:Object.values(oe).length>0?he?.map(ge=>oe[ge.name])??[]:[];be.length>0&&(pe=he?.map((ge,ve)=>Array.isArray(be[ve])?be[ve].map((we,_e)=>encodeArg({param:ge,value:be[ve][_e]})):be[ve]?encodeArg({param:ge,value:be[ve]}):null)??[])}return[fe,...pe]}function encodeArg({param:ee,value:ne}){if(ee.type==="string"||ee.type==="bytes")return keccak256(toBytes$1(ne));if(ee.type==="tuple"||ee.type.match(/^(.*)\[(\d+)?\]$/))throw new FilterTypeNotSupportedError(ee.type);return encodeAbiParameters([ee],[ne])}function createFilterRequestScope(ee,{method:ne}){const oe={};return ee.transport.type==="fallback"&&ee.transport.onResponse?.(({method:ae,response:de,status:fe,transport:pe})=>{fe==="success"&&ne===ae&&(oe[de]=pe.request)}),ae=>oe[ae]||ee.request}async function createContractEventFilter(ee,{address:ne,abi:oe,args:ae,eventName:de,fromBlock:fe,strict:pe,toBlock:he}){const be=createFilterRequestScope(ee,{method:"eth_newFilter"}),ge=de?encodeEventTopics({abi:oe,args:ae,eventName:de}):void 0,ve=await ee.request({method:"eth_newFilter",params:[{address:ne,fromBlock:typeof fe=="bigint"?numberToHex(fe):fe,toBlock:typeof he=="bigint"?numberToHex(he):he,topics:ge}]});return{abi:oe,args:ae,eventName:de,id:ve,request:be(ve),strict:pe,type:"event"}}function parseAccount(ee){return typeof ee=="string"?{address:ee,type:"json-rpc"}:ee}function encodeFunctionData({abi:ee,args:ne,functionName:oe}){let ae=ee[0];if(oe&&(ae=getAbiItem({abi:ee,args:ne,name:oe}),!ae))throw new AbiFunctionNotFoundError(oe,{docsPath:"/docs/contract/encodeFunctionData"});if(ae.type!=="function")throw new AbiFunctionNotFoundError(void 0,{docsPath:"/docs/contract/encodeFunctionData"});const de=formatAbiItem(ae),fe=getFunctionSelector(de),pe="inputs"in ae&&ae.inputs?encodeAbiParameters(ae.inputs,ne??[]):void 0;return concatHex([fe,pe??"0x"])}const panicReasons={1:"An `assert` condition failed.",17:"Arithmic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},solidityError={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},solidityPanic={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function checksumAddress(ee,ne){const oe=ne?`${ne}${ee.toLowerCase()}`:ee.substring(2).toLowerCase(),ae=keccak256(stringToBytes(oe),"bytes"),de=(ne?oe.substring(`${ne}0x`.length):oe).split("");for(let fe=0;fe<40;fe+=2)ae[fe>>1]>>4>=8&&de[fe]&&(de[fe]=de[fe].toUpperCase()),(ae[fe>>1]&15)>=8&&de[fe+1]&&(de[fe+1]=de[fe+1].toUpperCase());return`0x${de.join("")}`}function getAddress(ee,ne){if(!isAddress(ee))throw new InvalidAddressError({address:ee});return checksumAddress(ee,ne)}function decodeAbiParameters(ee,ne){if(ne==="0x"&&ee.length>0)throw new AbiDecodingZeroDataError;if(size$1(ne)&&size$1(ne)<32)throw new AbiDecodingDataSizeTooSmallError({data:ne,params:ee,size:size$1(ne)});return decodeParams({data:ne,params:ee})}function decodeParams({data:ee,params:ne}){const oe=[];let ae=0;for(let de=0;de<ne.length;de++){if(ae>=size$1(ee))throw new AbiDecodingDataSizeTooSmallError({data:ee,params:ne,size:size$1(ee)});const fe=ne[de],{consumed:pe,value:he}=decodeParam({data:ee,param:fe,position:ae});oe.push(he),ae+=pe}return oe}function decodeParam({data:ee,param:ne,position:oe}){const ae=getArrayComponents(ne.type);if(ae){const[fe,pe]=ae;return decodeArray(ee,{length:fe,param:{...ne,type:pe},position:oe})}if(ne.type==="tuple")return decodeTuple(ee,{param:ne,position:oe});if(ne.type==="string")return decodeString(ee,{position:oe});if(ne.type.startsWith("bytes"))return decodeBytes(ee,{param:ne,position:oe});const de=slice(ee,oe,oe+32,{strict:!0});if(ne.type.startsWith("uint")||ne.type.startsWith("int"))return decodeNumber(de,{param:ne});if(ne.type==="address")return decodeAddress(de);if(ne.type==="bool")return decodeBool(de);throw new InvalidAbiDecodingTypeError(ne.type,{docsPath:"/docs/contract/decodeAbiParameters"})}function decodeAddress(ee){return{consumed:32,value:checksumAddress(slice(ee,-20))}}function decodeArray(ee,{param:ne,length:oe,position:ae}){if(!oe){const pe=hexToNumber$1(slice(ee,ae,ae+32,{strict:!0})),he=hexToNumber$1(slice(ee,pe,pe+32,{strict:!0}));let be=0;const ge=[];for(let ve=0;ve<he;++ve){const we=decodeParam({data:slice(ee,pe+32),param:ne,position:be});be+=we.consumed,ge.push(we.value)}return{value:ge,consumed:32}}if(hasDynamicChild(ne)){const he=!getArrayComponents(ne.type)?.[0];let be=0;const ge=[];for(let ve=0;ve<oe;++ve){const we=hexToNumber$1(slice(ee,ae,ae+32,{strict:!0})),_e=decodeParam({data:slice(ee,we),param:ne,position:he?be:ve*32});be+=_e.consumed,ge.push(_e.value)}return{value:ge,consumed:32}}let de=0;const fe=[];for(let pe=0;pe<oe;++pe){const he=decodeParam({data:ee,param:ne,position:ae+de});de+=he.consumed,fe.push(he.value)}return{value:fe,consumed:de}}function decodeBool(ee){return{consumed:32,value:hexToBool(ee)}}function decodeBytes(ee,{param:ne,position:oe}){const[ae,de]=ne.type.split("bytes");if(!de){const pe=hexToNumber$1(slice(ee,oe,oe+32,{strict:!0})),he=hexToNumber$1(slice(ee,pe,pe+32,{strict:!0}));return he===0?{consumed:32,value:"0x"}:{consumed:32,value:slice(ee,pe+32,pe+32+he,{strict:!0})}}return{consumed:32,value:slice(ee,oe,oe+parseInt(de),{strict:!0})}}function decodeNumber(ee,{param:ne}){const oe=ne.type.startsWith("int");return{consumed:32,value:parseInt(ne.type.split("int")[1]||"256")>48?hexToBigInt(ee,{signed:oe}):hexToNumber$1(ee,{signed:oe})}}function decodeString(ee,{position:ne}){const oe=hexToNumber$1(slice(ee,ne,ne+32,{strict:!0})),ae=hexToNumber$1(slice(ee,oe,oe+32,{strict:!0}));return ae===0?{consumed:32,value:""}:{consumed:32,value:hexToString(trim(slice(ee,oe+32,oe+32+ae,{strict:!0})))}}function decodeTuple(ee,{param:ne,position:oe}){const ae=ne.components.length===0||ne.components.some(({name:pe})=>!pe),de=ae?[]:{};let fe=0;if(hasDynamicChild(ne)){const pe=hexToNumber$1(slice(ee,oe,oe+32,{strict:!0}));for(let he=0;he<ne.components.length;++he){const be=ne.components[he],ge=decodeParam({data:slice(ee,pe),param:be,position:fe});fe+=ge.consumed,de[ae?he:be?.name]=ge.value}return{consumed:32,value:de}}for(let pe=0;pe<ne.components.length;++pe){const he=ne.components[pe],be=decodeParam({data:ee,param:he,position:oe+fe});fe+=be.consumed,de[ae?pe:he?.name]=be.value}return{consumed:fe,value:de}}function hasDynamicChild(ee){const{type:ne}=ee;if(ne==="string"||ne==="bytes"||ne.endsWith("[]"))return!0;if(ne==="tuple")return ee.components?.some(hasDynamicChild);const oe=getArrayComponents(ee.type);return!!(oe&&hasDynamicChild({...ee,type:oe[1]}))}function decodeErrorResult({abi:ee,data:ne}){const oe=slice(ne,0,4);if(oe==="0x")throw new AbiDecodingZeroDataError;const de=[...ee||[],solidityError,solidityPanic].find(fe=>fe.type==="error"&&oe===getFunctionSelector(formatAbiItem(fe)));if(!de)throw new AbiErrorSignatureNotFoundError(oe,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:de,args:"inputs"in de&&de.inputs&&de.inputs.length>0?decodeAbiParameters(de.inputs,slice(ne,4)):void 0,errorName:de.name}}const stringify=(ee,ne,oe)=>JSON.stringify(ee,(ae,de)=>{const fe=typeof de=="bigint"?de.toString():de;return typeof ne=="function"?ne(ae,fe):fe},oe);function formatAbiItemWithArgs({abiItem:ee,args:ne,includeFunctionName:oe=!0,includeName:ae=!1}){if("name"in ee&&"inputs"in ee&&ee.inputs)return`${oe?ee.name:""}(${ee.inputs.map((de,fe)=>`${ae&&de.name?`${de.name}: `:""}${typeof ne[fe]=="object"?stringify(ne[fe]):ne[fe]}`).join(", ")})`}const etherUnits={gwei:9,wei:18},gweiUnits={ether:-9,wei:9};function formatUnits(ee,ne){let oe=ee.toString();const ae=oe.startsWith("-");ae&&(oe=oe.slice(1)),oe=oe.padStart(ne,"0");let[de,fe]=[oe.slice(0,oe.length-ne),oe.slice(oe.length-ne)];return fe=fe.replace(/(0+)$/,""),`${ae?"-":""}${de||"0"}${fe?`.${fe}`:""}`}function formatEther(ee,ne="wei"){return formatUnits(ee,etherUnits[ne])}function formatGwei(ee,ne="wei"){return formatUnits(ee,gweiUnits[ne])}function prettyPrint(ee){const ne=Object.entries(ee).map(([ae,de])=>de===void 0||de===!1?null:[ae,de]).filter(Boolean),oe=ne.reduce((ae,[de])=>Math.max(ae,de.length),0);return ne.map(([ae,de])=>`  ${`${ae}:`.padEnd(oe+1)}  ${de}`).join(`
`)}class FeeConflictError extends BaseError{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"})}}class InvalidLegacyVError extends BaseError{constructor({v:ne}){super(`Invalid \`v\` value "${ne}". Expected 27 or 28.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidLegacyVError"})}}class InvalidSerializableTransactionError extends BaseError{constructor({transaction:ne}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",prettyPrint(ne),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- a Legacy Transaction with `gasPrice`"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSerializableTransactionError"})}}class InvalidStorageKeySizeError extends BaseError{constructor({storageKey:ne}){super(`Size for storage key "${ne}" is invalid. Expected 32 bytes. Got ${Math.floor((ne.length-2)/2)} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStorageKeySizeError"})}}class TransactionExecutionError extends BaseError{constructor(ne,{account:oe,docsPath:ae,chain:de,data:fe,gas:pe,gasPrice:he,maxFeePerGas:be,maxPriorityFeePerGas:ge,nonce:ve,to:we,value:_e}){const Te=prettyPrint({chain:de&&`${de?.name} (id: ${de?.id})`,from:oe?.address,to:we,value:typeof _e<"u"&&`${formatEther(_e)} ${de?.nativeCurrency.symbol||"ETH"}`,data:fe,gas:pe,gasPrice:typeof he<"u"&&`${formatGwei(he)} gwei`,maxFeePerGas:typeof be<"u"&&`${formatGwei(be)} gwei`,maxPriorityFeePerGas:typeof ge<"u"&&`${formatGwei(ge)} gwei`,nonce:ve});super(ne.shortMessage,{cause:ne,docsPath:ae,metaMessages:[...ne.metaMessages?[...ne.metaMessages," "]:[],"Request Arguments:",Te].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionExecutionError"}),this.cause=ne}}class TransactionNotFoundError extends BaseError{constructor({blockHash:ne,blockNumber:oe,blockTag:ae,hash:de,index:fe}){let pe="Transaction";ae&&fe!==void 0&&(pe=`Transaction at block time "${ae}" at index "${fe}"`),ne&&fe!==void 0&&(pe=`Transaction at block hash "${ne}" at index "${fe}"`),oe&&fe!==void 0&&(pe=`Transaction at block number "${oe}" at index "${fe}"`),de&&(pe=`Transaction with hash "${de}"`),super(`${pe} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionNotFoundError"})}}class TransactionReceiptNotFoundError extends BaseError{constructor({hash:ne}){super(`Transaction receipt with hash "${ne}" could not be found. The Transaction may not be processed on a block yet.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionReceiptNotFoundError"})}}class WaitForTransactionReceiptTimeoutError extends BaseError{constructor({hash:ne}){super(`Timed out while waiting for transaction with hash "${ne}" to be confirmed.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WaitForTransactionReceiptTimeoutError"})}}class CallExecutionError extends BaseError{constructor(ne,{account:oe,docsPath:ae,chain:de,data:fe,gas:pe,gasPrice:he,maxFeePerGas:be,maxPriorityFeePerGas:ge,nonce:ve,to:we,value:_e}){const Te=oe?parseAccount(oe):void 0,Ee=prettyPrint({from:Te?.address,to:we,value:typeof _e<"u"&&`${formatEther(_e)} ${de?.nativeCurrency.symbol||"ETH"}`,data:fe,gas:pe,gasPrice:typeof he<"u"&&`${formatGwei(he)} gwei`,maxFeePerGas:typeof be<"u"&&`${formatGwei(be)} gwei`,maxPriorityFeePerGas:typeof ge<"u"&&`${formatGwei(ge)} gwei`,nonce:ve});super(ne.shortMessage,{cause:ne,docsPath:ae,metaMessages:[...ne.metaMessages?[...ne.metaMessages," "]:[],"Raw Call Arguments:",Ee].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=ne}}class ContractFunctionExecutionError extends BaseError{constructor(ne,{abi:oe,args:ae,contractAddress:de,docsPath:fe,functionName:pe,sender:he}){const be=getAbiItem({abi:oe,args:ae,name:pe}),ge=be?formatAbiItemWithArgs({abiItem:be,args:ae,includeFunctionName:!1,includeName:!1}):void 0,ve=be?formatAbiItem(be,{includeName:!0}):void 0,we=prettyPrint({address:de&&getContractAddress(de),function:ve,args:ge&&ge!=="()"&&`${[...Array(pe?.length??0).keys()].map(()=>" ").join("")}${ge}`,sender:he});super(ne.shortMessage||`An unknown error occurred while executing the contract function "${pe}".`,{cause:ne,docsPath:fe,metaMessages:[...ne.metaMessages?[...ne.metaMessages," "]:[],"Contract Call:",we].filter(Boolean)}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionExecutionError"}),this.abi=oe,this.args=ae,this.cause=ne,this.contractAddress=de,this.functionName=pe,this.sender=he}}class ContractFunctionRevertedError extends BaseError{constructor({abi:ne,data:oe,functionName:ae,message:de}){let fe,pe,he,be;if(oe&&oe!=="0x")try{pe=decodeErrorResult({abi:ne,data:oe});const{abiItem:ve,errorName:we,args:_e}=pe;if(we==="Error")be=_e[0];else if(we==="Panic"){const[Te]=_e;be=panicReasons[Te]}else{const Te=ve?formatAbiItem(ve,{includeName:!0}):void 0,Ee=ve&&_e?formatAbiItemWithArgs({abiItem:ve,args:_e,includeFunctionName:!1,includeName:!1}):void 0;he=[Te?`Error: ${Te}`:"",Ee&&Ee!=="()"?`       ${[...Array(we?.length??0).keys()].map(()=>" ").join("")}${Ee}`:""]}}catch(ve){fe=ve}else de&&(be=de);let ge;fe instanceof AbiErrorSignatureNotFoundError&&(ge=fe.signature,he=[`Unable to decode signature "${ge}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${ge}.`]),super(be&&be!=="execution reverted"||ge?[`The contract function "${ae}" reverted with the following ${ge?"signature":"reason"}:`,be||ge].join(`
`):`The contract function "${ae}" reverted.`,{cause:fe,metaMessages:he}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=pe,this.reason=be,this.signature=ge}}class ContractFunctionZeroDataError extends BaseError{constructor({functionName:ne}){super(`The contract function "${ne}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${ne}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionZeroDataError"})}}class RawContractError extends BaseError{constructor({data:ne,message:oe}){super(oe||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=ne}}class HttpRequestError extends BaseError{constructor({body:ne,details:oe,headers:ae,status:de,url:fe}){super("HTTP request failed.",{details:oe,metaMessages:[de&&`Status: ${de}`,`URL: ${getUrl$1(fe)}`,ne&&`Request body: ${stringify(ne)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=ne,this.headers=ae,this.status=de,this.url=fe}}class WebSocketRequestError extends BaseError{constructor({body:ne,details:oe,url:ae}){super("WebSocket request failed.",{details:oe,metaMessages:[`URL: ${getUrl$1(ae)}`,`Request body: ${stringify(ne)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WebSocketRequestError"})}}class RpcRequestError extends BaseError{constructor({body:ne,error:oe,url:ae}){super("RPC Request failed.",{cause:oe,details:oe.message,metaMessages:[`URL: ${getUrl$1(ae)}`,`Request body: ${stringify(ne)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=oe.code}}let TimeoutError$1=class extends BaseError{constructor({body:ne,url:oe}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${getUrl$1(oe)}`,`Request body: ${stringify(ne)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TimeoutError"})}};const unknownErrorCode=-1;class RpcError extends BaseError{constructor(ne,{code:oe,docsPath:ae,metaMessages:de,shortMessage:fe}){super(fe,{cause:ne,docsPath:ae,metaMessages:de||ne?.metaMessages}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=ne.name,this.code=ne instanceof RpcRequestError?ne.code:oe??unknownErrorCode}}class ProviderRpcError extends RpcError{constructor(ne,oe){super(ne,oe),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=oe.data}}class ParseRpcError extends RpcError{constructor(ne){super(ne,{code:ParseRpcError.code,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}Object.defineProperty(ParseRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class InvalidRequestRpcError extends RpcError{constructor(ne){super(ne,{code:InvalidRequestRpcError.code,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}Object.defineProperty(InvalidRequestRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class MethodNotFoundRpcError extends RpcError{constructor(ne){super(ne,{code:MethodNotFoundRpcError.code,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}Object.defineProperty(MethodNotFoundRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class InvalidParamsRpcError extends RpcError{constructor(ne){super(ne,{code:InvalidParamsRpcError.code,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}Object.defineProperty(InvalidParamsRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class InternalRpcError extends RpcError{constructor(ne){super(ne,{code:InternalRpcError.code,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}Object.defineProperty(InternalRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class InvalidInputRpcError extends RpcError{constructor(ne){super(ne,{code:InvalidInputRpcError.code,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}Object.defineProperty(InvalidInputRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class ResourceNotFoundRpcError extends RpcError{constructor(ne){super(ne,{code:ResourceNotFoundRpcError.code,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(ResourceNotFoundRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class ResourceUnavailableRpcError extends RpcError{constructor(ne){super(ne,{code:ResourceUnavailableRpcError.code,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}Object.defineProperty(ResourceUnavailableRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class TransactionRejectedRpcError extends RpcError{constructor(ne){super(ne,{code:TransactionRejectedRpcError.code,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}Object.defineProperty(TransactionRejectedRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class MethodNotSupportedRpcError extends RpcError{constructor(ne){super(ne,{code:MethodNotSupportedRpcError.code,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}Object.defineProperty(MethodNotSupportedRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class LimitExceededRpcError extends RpcError{constructor(ne){super(ne,{code:LimitExceededRpcError.code,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}Object.defineProperty(LimitExceededRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class JsonRpcVersionUnsupportedError extends RpcError{constructor(ne){super(ne,{code:JsonRpcVersionUnsupportedError.code,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}Object.defineProperty(JsonRpcVersionUnsupportedError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class UserRejectedRequestError extends ProviderRpcError{constructor(ne){super(ne,{code:UserRejectedRequestError.code,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}Object.defineProperty(UserRejectedRequestError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class UnauthorizedProviderError extends ProviderRpcError{constructor(ne){super(ne,{code:UnauthorizedProviderError.code,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}Object.defineProperty(UnauthorizedProviderError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class UnsupportedProviderMethodError extends ProviderRpcError{constructor(ne){super(ne,{code:UnsupportedProviderMethodError.code,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}Object.defineProperty(UnsupportedProviderMethodError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class ProviderDisconnectedError extends ProviderRpcError{constructor(ne){super(ne,{code:ProviderDisconnectedError.code,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}Object.defineProperty(ProviderDisconnectedError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class ChainDisconnectedError extends ProviderRpcError{constructor(ne){super(ne,{code:ChainDisconnectedError.code,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}Object.defineProperty(ChainDisconnectedError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class SwitchChainError extends ProviderRpcError{constructor(ne){super(ne,{code:SwitchChainError.code,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}Object.defineProperty(SwitchChainError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class UnknownRpcError extends RpcError{constructor(ne){super(ne,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}const EXECUTION_REVERTED_ERROR_CODE=3;function getContractError(ee,{abi:ne,address:oe,args:ae,docsPath:de,functionName:fe,sender:pe}){const{code:he,data:be,message:ge,shortMessage:ve}=ee instanceof RawContractError?ee:ee instanceof BaseError?ee.walk(_e=>"data"in _e)||ee.walk():{},we=(()=>ee instanceof AbiDecodingZeroDataError?new ContractFunctionZeroDataError({functionName:fe}):[EXECUTION_REVERTED_ERROR_CODE,InternalRpcError.code].includes(he)&&(be||ge||ve)?new ContractFunctionRevertedError({abi:ne,data:typeof be=="object"?be.data:be,functionName:fe,message:ve??ge}):ee)();return new ContractFunctionExecutionError(we,{abi:ne,args:ae,contractAddress:oe,docsPath:de,functionName:fe,sender:pe})}class AccountNotFoundError extends BaseError{constructor({docsPath:ne}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the WalletClient."].join(`
`),{docsPath:ne,docsSlug:"account"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountNotFoundError"})}}class EstimateGasExecutionError extends BaseError{constructor(ne,{account:oe,docsPath:ae,chain:de,data:fe,gas:pe,gasPrice:he,maxFeePerGas:be,maxPriorityFeePerGas:ge,nonce:ve,to:we,value:_e}){const Te=prettyPrint({from:oe?.address,to:we,value:typeof _e<"u"&&`${formatEther(_e)} ${de?.nativeCurrency.symbol||"ETH"}`,data:fe,gas:pe,gasPrice:typeof he<"u"&&`${formatGwei(he)} gwei`,maxFeePerGas:typeof be<"u"&&`${formatGwei(be)} gwei`,maxPriorityFeePerGas:typeof ge<"u"&&`${formatGwei(ge)} gwei`,nonce:ve});super(ne.shortMessage,{cause:ne,docsPath:ae,metaMessages:[...ne.metaMessages?[...ne.metaMessages," "]:[],"Estimate Gas Arguments:",Te].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=ne}}class ExecutionRevertedError extends BaseError{constructor({cause:ne,message:oe}={}){const ae=oe?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${ae?`with reason: ${ae}`:"for an unknown reason"}.`,{cause:ne}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}}Object.defineProperty(ExecutionRevertedError,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(ExecutionRevertedError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class FeeCapTooHighError extends BaseError{constructor({cause:ne,maxFeePerGas:oe}={}){super(`The fee cap (\`maxFeePerGas\`${oe?` = ${formatGwei(oe)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:ne}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}}Object.defineProperty(FeeCapTooHighError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class FeeCapTooLowError extends BaseError{constructor({cause:ne,maxFeePerGas:oe}={}){super(`The fee cap (\`maxFeePerGas\`${oe?` = ${formatGwei(oe)}`:""} gwei) cannot be lower than the block base fee.`,{cause:ne}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}}Object.defineProperty(FeeCapTooLowError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class NonceTooHighError extends BaseError{constructor({cause:ne,nonce:oe}={}){super(`Nonce provided for the transaction ${oe?`(${oe}) `:""}is higher than the next one expected.`,{cause:ne}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}}Object.defineProperty(NonceTooHighError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class NonceTooLowError extends BaseError{constructor({cause:ne,nonce:oe}={}){super([`Nonce provided for the transaction ${oe?`(${oe}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:ne}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}}Object.defineProperty(NonceTooLowError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class NonceMaxValueError extends BaseError{constructor({cause:ne,nonce:oe}={}){super(`Nonce provided for the transaction ${oe?`(${oe}) `:""}exceeds the maximum allowed nonce.`,{cause:ne}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}}Object.defineProperty(NonceMaxValueError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class InsufficientFundsError extends BaseError{constructor({cause:ne}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:ne,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}}Object.defineProperty(InsufficientFundsError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});class IntrinsicGasTooHighError extends BaseError{constructor({cause:ne,gas:oe}={}){super(`The amount of gas ${oe?`(${oe}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:ne}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}}Object.defineProperty(IntrinsicGasTooHighError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class IntrinsicGasTooLowError extends BaseError{constructor({cause:ne,gas:oe}={}){super(`The amount of gas ${oe?`(${oe}) `:""}provided for the transaction is too low.`,{cause:ne}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}}Object.defineProperty(IntrinsicGasTooLowError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class TransactionTypeNotSupportedError extends BaseError{constructor({cause:ne}){super("The transaction type is not supported for this chain.",{cause:ne}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}}Object.defineProperty(TransactionTypeNotSupportedError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class TipAboveFeeCapError extends BaseError{constructor({cause:ne,maxPriorityFeePerGas:oe,maxFeePerGas:ae}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${oe?` = ${formatGwei(oe)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${ae?` = ${formatGwei(ae)} gwei`:""}).`].join(`
`),{cause:ne}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}}Object.defineProperty(TipAboveFeeCapError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class UnknownNodeError extends BaseError{constructor({cause:ne}){super(`An error occurred while executing: ${ne?.shortMessage}`,{cause:ne}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"})}}function getNodeError(ee,ne){const oe=(ee.details||"").toLowerCase(),ae=ee.walk(de=>de.code===ExecutionRevertedError.code);return ae instanceof BaseError?new ExecutionRevertedError({cause:ee,message:ae.details}):ExecutionRevertedError.nodeMessage.test(oe)?new ExecutionRevertedError({cause:ee,message:ee.details}):FeeCapTooHighError.nodeMessage.test(oe)?new FeeCapTooHighError({cause:ee,maxFeePerGas:ne?.maxFeePerGas}):FeeCapTooLowError.nodeMessage.test(oe)?new FeeCapTooLowError({cause:ee,maxFeePerGas:ne?.maxFeePerGas}):NonceTooHighError.nodeMessage.test(oe)?new NonceTooHighError({cause:ee,nonce:ne?.nonce}):NonceTooLowError.nodeMessage.test(oe)?new NonceTooLowError({cause:ee,nonce:ne?.nonce}):NonceMaxValueError.nodeMessage.test(oe)?new NonceMaxValueError({cause:ee,nonce:ne?.nonce}):InsufficientFundsError.nodeMessage.test(oe)?new InsufficientFundsError({cause:ee}):IntrinsicGasTooHighError.nodeMessage.test(oe)?new IntrinsicGasTooHighError({cause:ee,gas:ne?.gas}):IntrinsicGasTooLowError.nodeMessage.test(oe)?new IntrinsicGasTooLowError({cause:ee,gas:ne?.gas}):TransactionTypeNotSupportedError.nodeMessage.test(oe)?new TransactionTypeNotSupportedError({cause:ee}):TipAboveFeeCapError.nodeMessage.test(oe)?new TipAboveFeeCapError({cause:ee,maxFeePerGas:ne?.maxFeePerGas,maxPriorityFeePerGas:ne?.maxPriorityFeePerGas}):new UnknownNodeError({cause:ee})}function getEstimateGasError(ee,{docsPath:ne,...oe}){const ae=(()=>{const de=getNodeError(ee,oe);return de instanceof UnknownNodeError?ee:de})();return new EstimateGasExecutionError(ae,{docsPath:ne,...oe})}function extract(ee,{format:ne}){return ne?Object.keys(ne({})).reduce((ae,de)=>(ee?.hasOwnProperty(de)&&(ae[de]=ee[de]),ae),{}):{}}const rpcTransactionType={legacy:"0x0",eip2930:"0x1",eip1559:"0x2"};function formatTransactionRequest(ee){return{...ee,gas:typeof ee.gas<"u"?numberToHex(ee.gas):void 0,gasPrice:typeof ee.gasPrice<"u"?numberToHex(ee.gasPrice):void 0,maxFeePerGas:typeof ee.maxFeePerGas<"u"?numberToHex(ee.maxFeePerGas):void 0,maxPriorityFeePerGas:typeof ee.maxPriorityFeePerGas<"u"?numberToHex(ee.maxPriorityFeePerGas):void 0,nonce:typeof ee.nonce<"u"?numberToHex(ee.nonce):void 0,type:typeof ee.type<"u"?rpcTransactionType[ee.type]:void 0,value:typeof ee.value<"u"?numberToHex(ee.value):void 0}}function assertRequest(ee){const{account:ne,gasPrice:oe,maxFeePerGas:ae,maxPriorityFeePerGas:de,to:fe}=ee,pe=ne?parseAccount(ne):void 0;if(pe&&!isAddress(pe.address))throw new InvalidAddressError({address:pe.address});if(fe&&!isAddress(fe))throw new InvalidAddressError({address:fe});if(typeof oe<"u"&&(typeof ae<"u"||typeof de<"u"))throw new FeeConflictError;if(ae&&ae>2n**256n-1n)throw new FeeCapTooHighError({maxFeePerGas:ae});if(de&&ae&&de>ae)throw new TipAboveFeeCapError({maxFeePerGas:ae,maxPriorityFeePerGas:de})}class BaseFeeScalarError extends BaseError{constructor(){super("`baseFeeMultiplier` must be greater than 1."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseFeeScalarError"})}}class Eip1559FeesNotSupportedError extends BaseError{constructor(){super("Chain does not support EIP-1559 fees."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Eip1559FeesNotSupportedError"})}}class MaxFeePerGasTooLowError extends BaseError{constructor({maxPriorityFeePerGas:ne}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${formatGwei(ne)} gwei).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MaxFeePerGasTooLowError"})}}class BlockNotFoundError extends BaseError{constructor({blockHash:ne,blockNumber:oe}){let ae="Block";ne&&(ae=`Block at hash "${ne}"`),oe&&(ae=`Block at number "${oe}"`),super(`${ae} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}}const transactionType={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559"};function formatTransaction(ee){const ne={...ee,blockHash:ee.blockHash?ee.blockHash:null,blockNumber:ee.blockNumber?BigInt(ee.blockNumber):null,chainId:ee.chainId?hexToNumber$1(ee.chainId):void 0,gas:ee.gas?BigInt(ee.gas):void 0,gasPrice:ee.gasPrice?BigInt(ee.gasPrice):void 0,maxFeePerGas:ee.maxFeePerGas?BigInt(ee.maxFeePerGas):void 0,maxPriorityFeePerGas:ee.maxPriorityFeePerGas?BigInt(ee.maxPriorityFeePerGas):void 0,nonce:ee.nonce?hexToNumber$1(ee.nonce):void 0,to:ee.to?ee.to:null,transactionIndex:ee.transactionIndex?Number(ee.transactionIndex):null,type:ee.type?transactionType[ee.type]:void 0,typeHex:ee.type?ee.type:void 0,value:ee.value?BigInt(ee.value):void 0,v:ee.v?BigInt(ee.v):void 0};return ne.type==="legacy"&&(delete ne.accessList,delete ne.maxFeePerGas,delete ne.maxPriorityFeePerGas),ne.type==="eip2930"&&(delete ne.maxFeePerGas,delete ne.maxPriorityFeePerGas),ne}function formatBlock(ee){const ne=ee.transactions?.map(oe=>typeof oe=="string"?oe:formatTransaction(oe));return{...ee,baseFeePerGas:ee.baseFeePerGas?BigInt(ee.baseFeePerGas):null,difficulty:ee.difficulty?BigInt(ee.difficulty):void 0,gasLimit:ee.gasLimit?BigInt(ee.gasLimit):void 0,gasUsed:ee.gasUsed?BigInt(ee.gasUsed):void 0,hash:ee.hash?ee.hash:null,logsBloom:ee.logsBloom?ee.logsBloom:null,nonce:ee.nonce?ee.nonce:null,number:ee.number?BigInt(ee.number):null,size:ee.size?BigInt(ee.size):void 0,timestamp:ee.timestamp?BigInt(ee.timestamp):void 0,transactions:ne,totalDifficulty:ee.totalDifficulty?BigInt(ee.totalDifficulty):null}}async function getBlock(ee,{blockHash:ne,blockNumber:oe,blockTag:ae,includeTransactions:de}={}){const fe=ae??"latest",pe=de??!1,he=oe!==void 0?numberToHex(oe):void 0;let be=null;if(ne?be=await ee.request({method:"eth_getBlockByHash",params:[ne,pe]}):be=await ee.request({method:"eth_getBlockByNumber",params:[he||fe,pe]}),!be)throw new BlockNotFoundError({blockHash:ne,blockNumber:oe});return(ee.chain?.formatters?.block?.format||formatBlock)(be)}async function getGasPrice(ee){const ne=await ee.request({method:"eth_gasPrice"});return BigInt(ne)}async function estimateMaxPriorityFeePerGas(ee,ne){return internal_estimateMaxPriorityFeePerGas(ee,ne)}async function internal_estimateMaxPriorityFeePerGas(ee,ne){const{block:oe,chain:ae=ee.chain,request:de}=ne||{};if(typeof ae?.fees?.defaultPriorityFee=="function"){const fe=oe||await getBlock(ee);return ae.fees.defaultPriorityFee({block:fe,client:ee,request:de})}else if(ae?.fees?.defaultPriorityFee)return ae?.fees?.defaultPriorityFee;try{const fe=await ee.request({method:"eth_maxPriorityFeePerGas"});return hexToBigInt(fe)}catch{const[fe,pe]=await Promise.all([oe?Promise.resolve(oe):getBlock(ee),getGasPrice(ee)]);if(typeof fe.baseFeePerGas!="bigint")throw new Eip1559FeesNotSupportedError;const he=pe-fe.baseFeePerGas;return he<0n?0n:he}}async function estimateFeesPerGas(ee,ne){return internal_estimateFeesPerGas(ee,ne)}async function internal_estimateFeesPerGas(ee,ne){const{block:oe,chain:ae=ee.chain,request:de,type:fe="eip1559"}=ne||{},pe=await(async()=>typeof ae?.fees?.baseFeeMultiplier=="function"?ae.fees.baseFeeMultiplier({block:oe,client:ee,request:de}):ae?.fees?.baseFeeMultiplier??1.2)();if(pe<1)throw new BaseFeeScalarError;const be=10**(pe.toString().split(".")[1]?.length??0),ge=_e=>_e*BigInt(Math.ceil(pe*be))/BigInt(be),ve=oe||await getBlock(ee);if(typeof ae?.fees?.estimateFeesPerGas=="function")return ae.fees.estimateFeesPerGas({block:oe,client:ee,multiply:ge,request:de,type:fe});if(fe==="eip1559"){if(typeof ve.baseFeePerGas!="bigint")throw new Eip1559FeesNotSupportedError;const _e=de?.maxPriorityFeePerGas?de.maxPriorityFeePerGas:await internal_estimateMaxPriorityFeePerGas(ee,{block:ve,chain:ae,request:de}),Te=ge(ve.baseFeePerGas);return{maxFeePerGas:de?.maxFeePerGas??Te+_e,maxPriorityFeePerGas:_e}}return{gasPrice:de?.gasPrice??ge(await getGasPrice(ee))}}async function getTransactionCount(ee,{address:ne,blockTag:oe="latest",blockNumber:ae}){const de=await ee.request({method:"eth_getTransactionCount",params:[ne,ae?numberToHex(ae):oe]});return hexToNumber$1(de)}function getTransactionType(ee){if(ee.type)return ee.type;if(typeof ee.maxFeePerGas<"u"||typeof ee.maxPriorityFeePerGas<"u")return"eip1559";if(typeof ee.gasPrice<"u")return typeof ee.accessList<"u"?"eip2930":"legacy";throw new InvalidSerializableTransactionError({transaction:ee})}async function prepareTransactionRequest(ee,ne){const{account:oe=ee.account,chain:ae,gas:de,nonce:fe,type:pe}=ne;if(!oe)throw new AccountNotFoundError;const he=parseAccount(oe),be=await getBlock(ee,{blockTag:"latest"}),ge={...ne,from:he.address};if(typeof fe>"u"&&(ge.nonce=await getTransactionCount(ee,{address:he.address,blockTag:"pending"})),typeof pe>"u")try{ge.type=getTransactionType(ge)}catch{ge.type=typeof be.baseFeePerGas=="bigint"?"eip1559":"legacy"}if(ge.type==="eip1559"){const{maxFeePerGas:ve,maxPriorityFeePerGas:we}=await internal_estimateFeesPerGas(ee,{block:be,chain:ae,request:ge});if(typeof ne.maxPriorityFeePerGas>"u"&&ne.maxFeePerGas&&ne.maxFeePerGas<we)throw new MaxFeePerGasTooLowError({maxPriorityFeePerGas:we});ge.maxPriorityFeePerGas=we,ge.maxFeePerGas=ve}else{if(typeof ne.maxFeePerGas<"u"||typeof ne.maxPriorityFeePerGas<"u")throw new Eip1559FeesNotSupportedError;const{gasPrice:ve}=await internal_estimateFeesPerGas(ee,{block:be,chain:ae,request:ge,type:"legacy"});ge.gasPrice=ve}return typeof de>"u"&&(ge.gas=await estimateGas(ee,{...ge,account:{address:he.address,type:"json-rpc"}})),assertRequest(ge),ge}async function estimateGas(ee,ne){const oe=ne.account??ee.account;if(!oe)throw new AccountNotFoundError({docsPath:"/docs/actions/public/estimateGas"});const ae=parseAccount(oe);try{const{accessList:de,blockNumber:fe,blockTag:pe,data:he,gas:be,gasPrice:ge,maxFeePerGas:ve,maxPriorityFeePerGas:we,nonce:_e,to:Te,value:Ee,...Ie}=ae.type==="local"?await prepareTransactionRequest(ee,ne):ne,xe=(fe?numberToHex(fe):void 0)||pe;assertRequest(ne);const Ae=ee.chain?.formatters?.transactionRequest?.format||formatTransactionRequest,$e=Ae({...extract(Ie,{format:Ae}),from:ae.address,accessList:de,data:he,gas:be,gasPrice:ge,maxFeePerGas:ve,maxPriorityFeePerGas:we,nonce:_e,to:Te,value:Ee}),Se=await ee.request({method:"eth_estimateGas",params:xe?[$e,xe]:[$e]});return BigInt(Se)}catch(de){throw getEstimateGasError(de,{...ne,account:ae,chain:ee.chain})}}async function estimateContractGas(ee,{abi:ne,address:oe,args:ae,functionName:de,...fe}){const pe=encodeFunctionData({abi:ne,args:ae,functionName:de});try{return await estimateGas(ee,{data:pe,to:oe,...fe})}catch(he){const be=fe.account?parseAccount(fe.account):void 0;throw getContractError(he,{abi:ne,address:oe,args:ae,docsPath:"/docs/contract/estimateContractGas",functionName:de,sender:be?.address})}}const docsPath$2="/docs/contract/decodeEventLog";function decodeEventLog({abi:ee,data:ne,strict:oe,topics:ae}){const de=oe??!0,[fe,...pe]=ae;if(!fe)throw new AbiEventSignatureEmptyTopicsError({docsPath:docsPath$2});const he=ee.find(Ee=>Ee.type==="event"&&fe===getEventSelector(formatAbiItem(Ee)));if(!(he&&"name"in he)||he.type!=="event")throw new AbiEventSignatureNotFoundError(fe,{docsPath:docsPath$2});const{name:be,inputs:ge}=he,ve=ge?.some(Ee=>!("name"in Ee&&Ee.name));let we=ve?[]:{};const _e=ge.filter(Ee=>"indexed"in Ee&&Ee.indexed);if(pe.length>0)for(let Ee=0;Ee<_e.length;Ee++){const Ie=_e[Ee],Pe=pe[Ee];if(!Pe)throw new DecodeLogTopicsMismatch({abiItem:he,param:Ie});we[Ie.name||Ee]=decodeTopic({param:Ie,value:Pe})}const Te=ge.filter(Ee=>!("indexed"in Ee&&Ee.indexed));if(Te.length>0){if(ne&&ne!=="0x")try{const Ee=decodeAbiParameters(Te,ne);if(Ee)if(ve)we=[...we,...Ee];else for(let Ie=0;Ie<Te.length;Ie++)we[Te[Ie].name]=Ee[Ie]}catch(Ee){if(de)throw Ee instanceof AbiDecodingDataSizeTooSmallError?new DecodeLogDataMismatch({abiItem:he,data:Ee.data,params:Ee.params,size:Ee.size}):Ee}else if(de)throw new DecodeLogDataMismatch({abiItem:he,data:"0x",params:Te,size:0})}return{eventName:be,args:Object.values(we).length>0?we:void 0}}function decodeTopic({param:ee,value:ne}){return ee.type==="string"||ee.type==="bytes"||ee.type==="tuple"||ee.type.match(/^(.*)\[(\d+)?\]$/)?ne:(decodeAbiParameters([ee],ne)||[])[0]}function formatLog(ee,{args:ne,eventName:oe}={}){return{...ee,blockHash:ee.blockHash?ee.blockHash:null,blockNumber:ee.blockNumber?BigInt(ee.blockNumber):null,logIndex:ee.logIndex?Number(ee.logIndex):null,transactionHash:ee.transactionHash?ee.transactionHash:null,transactionIndex:ee.transactionIndex?Number(ee.transactionIndex):null,...oe?{args:ne,eventName:oe}:{}}}async function getLogs(ee,{address:ne,blockHash:oe,fromBlock:ae,toBlock:de,event:fe,events:pe,args:he,strict:be}={}){const ge=be??!1,ve=pe??(fe?[fe]:void 0);let we=[];ve&&(we=[ve.flatMap(Te=>encodeEventTopics({abi:[Te],eventName:Te.name,args:he}))],fe&&(we=we[0]));let _e;return oe?_e=await ee.request({method:"eth_getLogs",params:[{address:ne,topics:we,blockHash:oe}]}):_e=await ee.request({method:"eth_getLogs",params:[{address:ne,topics:we,fromBlock:typeof ae=="bigint"?numberToHex(ae):ae,toBlock:typeof de=="bigint"?numberToHex(de):de}]}),_e.map(Te=>{try{const{eventName:Ee,args:Ie}=ve?decodeEventLog({abi:ve,data:Te.data,topics:Te.topics,strict:ge}):{eventName:void 0,args:void 0};return formatLog(Te,{args:Ie,eventName:Ee})}catch(Ee){let Ie,Pe;if(Ee instanceof DecodeLogDataMismatch||Ee instanceof DecodeLogTopicsMismatch){if(ge)return;Ie=Ee.abiItem.name,Pe=Ee.abiItem.inputs?.some(xe=>!("name"in xe&&xe.name))}return formatLog(Te,{args:Pe?[]:{},eventName:Ie})}}).filter(Boolean)}async function getContractEvents(ee,{abi:ne,address:oe,args:ae,blockHash:de,eventName:fe,fromBlock:pe,toBlock:he,strict:be}){const ge=fe?getAbiItem({abi:ne,name:fe}):void 0,ve=ge?void 0:ne.filter(we=>we.type==="event");return getLogs(ee,{address:oe,args:ae,blockHash:de,event:ge,events:ve,fromBlock:pe,toBlock:he,strict:be})}const docsPath$1="/docs/contract/decodeFunctionResult";function decodeFunctionResult({abi:ee,args:ne,functionName:oe,data:ae}){let de=ee[0];if(oe&&(de=getAbiItem({abi:ee,args:ne,name:oe}),!de))throw new AbiFunctionNotFoundError(oe,{docsPath:docsPath$1});if(de.type!=="function")throw new AbiFunctionNotFoundError(void 0,{docsPath:docsPath$1});if(!de.outputs)throw new AbiFunctionOutputsNotFoundError(de.name,{docsPath:docsPath$1});const fe=decodeAbiParameters(de.outputs,ae);if(fe&&fe.length>1)return fe;if(fe&&fe.length===1)return fe[0]}const scriptRel="modulepreload",assetsURL=function(ee){return"/"+ee},seen={},__vitePreload=function(ne,oe,ae){if(!oe||oe.length===0)return ne();const de=document.getElementsByTagName("link");return Promise.all(oe.map(fe=>{if(fe=assetsURL(fe),fe in seen)return;seen[fe]=!0;const pe=fe.endsWith(".css"),he=pe?'[rel="stylesheet"]':"";if(!!ae)for(let ve=de.length-1;ve>=0;ve--){const we=de[ve];if(we.href===fe&&(!pe||we.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${fe}"]${he}`))return;const ge=document.createElement("link");if(ge.rel=pe?"stylesheet":scriptRel,pe||(ge.as="script",ge.crossOrigin=""),ge.href=fe,document.head.appendChild(ge),pe)return new Promise((ve,we)=>{ge.addEventListener("load",ve),ge.addEventListener("error",()=>we(new Error(`Unable to preload CSS for ${fe}`)))})})).then(()=>ne())},multicall3Abi=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],universalResolverErrors=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"}],universalResolverResolveAbi=[...universalResolverErrors,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],universalResolverReverseAbi=[...universalResolverErrors,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],textResolverAbi=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],addressResolverAbi=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],universalSignatureValidatorAbi=[{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"}],aggregate3Signature="0x82ad56cb";class ChainDoesNotSupportContract extends BaseError{constructor({blockNumber:ne,chain:oe,contract:ae}){super(`Chain "${oe.name}" does not support contract "${ae.name}".`,{metaMessages:["This could be due to any of the following:",...ne&&ae.blockCreated&&ae.blockCreated>ne?[`- The contract "${ae.name}" was not deployed until block ${ae.blockCreated} (current block ${ne}).`]:[`- The chain does not have the contract "${ae.name}" configured.`]]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDoesNotSupportContract"})}}class ChainMismatchError extends BaseError{constructor({chain:ne,currentChainId:oe}){super(`The current chain of the wallet (id: ${oe}) does not match the target chain for the transaction (id: ${ne.id} – ${ne.name}).`,{metaMessages:[`Current Chain ID:  ${oe}`,`Expected Chain ID: ${ne.id} – ${ne.name}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainMismatchError"})}}class ChainNotFoundError extends BaseError{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotFoundError"})}}class ClientChainNotConfiguredError extends BaseError{constructor(){super("No chain was provided to the Client."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientChainNotConfiguredError"})}}class InvalidChainIdError extends BaseError{constructor({chainId:ne}){super(`Chain ID "${ne}" is invalid.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidChainIdError"})}}function assertCurrentChain({chain:ee,currentChainId:ne}){if(!ee)throw new ChainNotFoundError;if(ne!==ee.id)throw new ChainMismatchError({chain:ee,currentChainId:ne})}function defineChain(ee,ne={}){const{fees:oe=ee.fees,formatters:ae=ee.formatters,serializers:de=ee.serializers}=ne;return{...ee,fees:oe,formatters:ae,serializers:de}}function getChainContractAddress({blockNumber:ee,chain:ne,contract:oe}){const ae=ne?.contracts?.[oe];if(!ae)throw new ChainDoesNotSupportContract({chain:ne,contract:{name:oe}});if(ee&&ae.blockCreated&&ae.blockCreated>ee)throw new ChainDoesNotSupportContract({blockNumber:ee,chain:ne,contract:{name:oe,blockCreated:ae.blockCreated}});return ae.address}function getCallError(ee,{docsPath:ne,...oe}){const ae=(()=>{const de=getNodeError(ee,oe);return de instanceof UnknownNodeError?ee:de})();return new CallExecutionError(ae,{docsPath:ne,...oe})}const schedulerCache=new Map;function createBatchScheduler({fn:ee,id:ne,shouldSplitBatch:oe,wait:ae=0}){const de=async()=>{const ge=he();fe();const ve=ge.map(({args:we})=>we);ve.length!==0&&ee(ve).then(we=>{ge.forEach(({pendingPromise:_e},Te)=>_e.resolve?.([we[Te],we]))}).catch(we=>{ge.forEach(({pendingPromise:_e})=>_e.reject?.(we))})},fe=()=>schedulerCache.delete(ne),pe=()=>he().map(({args:ge})=>ge),he=()=>schedulerCache.get(ne)||[],be=ge=>schedulerCache.set(ne,[...he(),ge]);return{flush:fe,async schedule(ge){const ve={},we=new Promise((Ee,Ie)=>{ve.resolve=Ee,ve.reject=Ie});return oe?.([...pe(),ge])&&de(),he().length>0?(be({args:ge,pendingPromise:ve}),we):(be({args:ge,pendingPromise:ve}),setTimeout(de,ae),we)}}}async function call(ee,ne){const{account:oe=ee.account,batch:ae=!!ee.batch?.multicall,blockNumber:de,blockTag:fe="latest",accessList:pe,data:he,gas:be,gasPrice:ge,maxFeePerGas:ve,maxPriorityFeePerGas:we,nonce:_e,to:Te,value:Ee,...Ie}=ne,Pe=oe?parseAccount(oe):void 0;try{assertRequest(ne);const Ae=(de?numberToHex(de):void 0)||fe,$e=ee.chain?.formatters?.transactionRequest?.format||formatTransactionRequest,Se=$e({...extract(Ie,{format:$e}),from:Pe?.address,accessList:pe,data:he,gas:be,gasPrice:ge,maxFeePerGas:ve,maxPriorityFeePerGas:we,nonce:_e,to:Te,value:Ee});if(ae&&shouldPerformMulticall({request:Se}))try{return await scheduleMulticall(ee,{...Se,blockNumber:de,blockTag:fe})}catch(Be){if(!(Be instanceof ClientChainNotConfiguredError)&&!(Be instanceof ChainDoesNotSupportContract))throw Be}const Re=await ee.request({method:"eth_call",params:Ae?[Se,Ae]:[Se]});return Re==="0x"?{data:void 0}:{data:Re}}catch(xe){const Ae=getRevertErrorData(xe),{offchainLookup:$e,offchainLookupSignature:Se}=await __vitePreload(()=>import("./ccip-8405ffea.js"),[]);if(Ae?.slice(0,10)===Se&&Te)return{data:await $e(ee,{data:Ae,to:Te})};throw getCallError(xe,{...ne,account:Pe,chain:ee.chain})}}function shouldPerformMulticall({request:ee}){const{data:ne,to:oe,...ae}=ee;return!(!ne||ne.startsWith(aggregate3Signature)||!oe||Object.values(ae).filter(de=>typeof de<"u").length>0)}async function scheduleMulticall(ee,ne){const{batchSize:oe=1024,wait:ae=0}=typeof ee.batch?.multicall=="object"?ee.batch.multicall:{},{blockNumber:de,blockTag:fe="latest",data:pe,multicallAddress:he,to:be}=ne;let ge=he;if(!ge){if(!ee.chain)throw new ClientChainNotConfiguredError;ge=getChainContractAddress({blockNumber:de,chain:ee.chain,contract:"multicall3"})}const we=(de?numberToHex(de):void 0)||fe,{schedule:_e}=createBatchScheduler({id:`${ee.uid}.${we}`,wait:ae,shouldSplitBatch(Ie){return Ie.reduce((xe,{data:Ae})=>xe+(Ae.length-2),0)>oe*2},fn:async Ie=>{const Pe=Ie.map($e=>({allowFailure:!0,callData:$e.data,target:$e.to})),xe=encodeFunctionData({abi:multicall3Abi,args:[Pe],functionName:"aggregate3"}),Ae=await ee.request({method:"eth_call",params:[{data:xe,to:ge},we]});return decodeFunctionResult({abi:multicall3Abi,args:[Pe],functionName:"aggregate3",data:Ae||"0x"})}}),[{returnData:Te,success:Ee}]=await _e({data:pe,to:be});if(!Ee)throw new RawContractError({data:Te});return Te==="0x"?{data:void 0}:{data:Te}}function getRevertErrorData(ee){if(!(ee instanceof BaseError))return;const ne=ee.walk();return typeof ne.data=="object"?ne.data.data:ne.data}async function readContract(ee,{abi:ne,address:oe,args:ae,functionName:de,...fe}){const pe=encodeFunctionData({abi:ne,args:ae,functionName:de});try{const{data:he}=await call(ee,{data:pe,to:oe,...fe});return decodeFunctionResult({abi:ne,args:ae,functionName:de,data:he||"0x"})}catch(he){throw getContractError(he,{abi:ne,address:oe,args:ae,docsPath:"/docs/contract/readContract",functionName:de})}}async function simulateContract(ee,{abi:ne,address:oe,args:ae,dataSuffix:de,functionName:fe,...pe}){const he=pe.account?parseAccount(pe.account):void 0,be=encodeFunctionData({abi:ne,args:ae,functionName:fe});try{const{data:ge}=await call(ee,{batch:!1,data:`${be}${de?de.replace("0x",""):""}`,to:oe,...pe});return{result:decodeFunctionResult({abi:ne,args:ae,functionName:fe,data:ge||"0x"}),request:{abi:ne,address:oe,args:ae,dataSuffix:de,functionName:fe,...pe}}}catch(ge){throw getContractError(ge,{abi:ne,address:oe,args:ae,docsPath:"/docs/contract/simulateContract",functionName:fe,sender:he?.address})}}const listenersCache=new Map,cleanupCache=new Map;let callbackCount=0;function observe(ee,ne,oe){const ae=++callbackCount,de=()=>listenersCache.get(ee)||[],fe=()=>{const ve=de();listenersCache.set(ee,ve.filter(we=>we.id!==ae))},pe=()=>{const ve=cleanupCache.get(ee);de().length===1&&ve&&ve(),fe()},he=de();if(listenersCache.set(ee,[...he,{id:ae,fns:ne}]),he&&he.length>0)return pe;const be={};for(const ve in ne)be[ve]=(...we)=>{const _e=de();_e.length!==0&&_e.forEach(Te=>Te.fns[ve]?.(...we))};const ge=oe(be);return typeof ge=="function"&&cleanupCache.set(ee,ge),pe}async function wait(ee){return new Promise(ne=>setTimeout(ne,ee))}function poll(ee,{emitOnBegin:ne,initialWaitTime:oe,interval:ae}){let de=!0;const fe=()=>de=!1;return(async()=>{let he;ne&&(he=await ee({unpoll:fe}));const be=await oe?.(he)??ae;await wait(be);const ge=async()=>{de&&(await ee({unpoll:fe}),await wait(ae),ge())};ge()})(),fe}const promiseCache=new Map,responseCache=new Map;function getCache(ee){const ne=(de,fe)=>({clear:()=>fe.delete(de),get:()=>fe.get(de),set:pe=>fe.set(de,pe)}),oe=ne(ee,promiseCache),ae=ne(ee,responseCache);return{clear:()=>{oe.clear(),ae.clear()},promise:oe,response:ae}}async function withCache(ee,{cacheKey:ne,cacheTime:oe=1/0}){const ae=getCache(ne),de=ae.response.get();if(de&&oe>0&&new Date().getTime()-de.created.getTime()<oe)return de.data;let fe=ae.promise.get();fe||(fe=ee(),ae.promise.set(fe));try{const pe=await fe;return ae.response.set({created:new Date,data:pe}),pe}finally{ae.promise.clear()}}const cacheKey=ee=>`blockNumber.${ee}`;async function getBlockNumber(ee,{cacheTime:ne=ee.cacheTime,maxAge:oe}={}){const ae=await withCache(()=>ee.request({method:"eth_blockNumber"}),{cacheKey:cacheKey(ee.uid),cacheTime:oe??ne});return BigInt(ae)}async function getFilterChanges(ee,{filter:ne}){const oe="strict"in ne&&ne.strict;return(await ne.request({method:"eth_getFilterChanges",params:[ne.id]})).map(de=>{if(typeof de=="string")return de;try{const{eventName:fe,args:pe}="abi"in ne&&ne.abi?decodeEventLog({abi:ne.abi,data:de.data,topics:de.topics,strict:oe}):{eventName:void 0,args:void 0};return formatLog(de,{args:pe,eventName:fe})}catch(fe){let pe,he;if(fe instanceof DecodeLogDataMismatch||fe instanceof DecodeLogTopicsMismatch){if("strict"in ne&&ne.strict)return;pe=fe.abiItem.name,he=fe.abiItem.inputs?.some(be=>!("name"in be&&be.name))}return formatLog(de,{args:he?[]:{},eventName:pe})}}).filter(Boolean)}async function uninstallFilter(ee,{filter:ne}){return ne.request({method:"eth_uninstallFilter",params:[ne.id]})}function watchContractEvent(ee,{abi:ne,address:oe,args:ae,batch:de=!0,eventName:fe,onError:pe,onLogs:he,poll:be,pollingInterval:ge=ee.pollingInterval,strict:ve}){return(typeof be<"u"?be:ee.transport.type!=="webSocket")?(()=>{const Ee=stringify(["watchContractEvent",oe,ae,de,ee.uid,fe,ge]),Ie=ve??!1;return observe(Ee,{onLogs:he,onError:pe},Pe=>{let xe,Ae,$e=!1;const Se=poll(async()=>{if(!$e){try{Ae=await createContractEventFilter(ee,{abi:ne,address:oe,args:ae,eventName:fe,strict:Ie})}catch{}$e=!0;return}try{let Re;if(Ae)Re=await getFilterChanges(ee,{filter:Ae});else{const Be=await getBlockNumber(ee);xe&&xe!==Be?Re=await getContractEvents(ee,{abi:ne,address:oe,args:ae,fromBlock:xe+1n,toBlock:Be,strict:Ie}):Re=[],xe=Be}if(Re.length===0)return;de?Pe.onLogs(Re):Re.forEach(Be=>Pe.onLogs([Be]))}catch(Re){Ae&&Re instanceof InvalidInputRpcError&&($e=!1),Pe.onError?.(Re)}},{emitOnBegin:!0,interval:ge});return async()=>{Ae&&await uninstallFilter(ee,{filter:Ae}),Se()}})})():(()=>{let Ee=!0,Ie=()=>Ee=!1;return(async()=>{try{const Pe=fe?encodeEventTopics({abi:ne,eventName:fe,args:ae}):[],{unsubscribe:xe}=await ee.transport.subscribe({params:["logs",{address:oe,topics:Pe}],onData(Ae){if(!Ee)return;const $e=Ae.result;try{const{eventName:Se,args:Re}=decodeEventLog({abi:ne,data:$e.data,topics:$e.topics,strict:ve}),Be=formatLog($e,{args:Re,eventName:Se});he([Be])}catch(Se){let Re,Be;if(Se instanceof DecodeLogDataMismatch||Se instanceof DecodeLogTopicsMismatch){if(ve)return;Re=Se.abiItem.name,Be=Se.abiItem.inputs?.some(Fe=>!("name"in Fe&&Fe.name))}const Ze=formatLog($e,{args:Be?[]:{},eventName:Re});he([Ze])}},onError(Ae){pe?.(Ae)}});Ie=xe,Ee||Ie()}catch(Pe){pe?.(Pe)}})(),Ie})()}function getTransactionError(ee,{docsPath:ne,...oe}){const ae=(()=>{const de=getNodeError(ee,oe);return de instanceof UnknownNodeError?ee:de})();return new TransactionExecutionError(ae,{docsPath:ne,...oe})}async function getChainId(ee){const ne=await ee.request({method:"eth_chainId"});return hexToNumber$1(ne)}async function sendRawTransaction(ee,{serializedTransaction:ne}){return ee.request({method:"eth_sendRawTransaction",params:[ne]})}async function sendTransaction(ee,ne){const{account:oe=ee.account,chain:ae=ee.chain,accessList:de,data:fe,gas:pe,gasPrice:he,maxFeePerGas:be,maxPriorityFeePerGas:ge,nonce:ve,to:we,value:_e,...Te}=ne;if(!oe)throw new AccountNotFoundError({docsPath:"/docs/actions/wallet/sendTransaction"});const Ee=parseAccount(oe);try{assertRequest(ne);let Ie;if(ae!==null&&(Ie=await getChainId(ee),assertCurrentChain({currentChainId:Ie,chain:ae})),Ee.type==="local"){const Ae=await prepareTransactionRequest(ee,{account:Ee,accessList:de,chain:ae,data:fe,gas:pe,gasPrice:he,maxFeePerGas:be,maxPriorityFeePerGas:ge,nonce:ve,to:we,value:_e,...Te});Ie||(Ie=await getChainId(ee));const $e=ae?.serializers?.transaction,Se=await Ee.signTransaction({...Ae,chainId:Ie},{serializer:$e});return await sendRawTransaction(ee,{serializedTransaction:Se})}const Pe=ae?.formatters?.transactionRequest?.format||formatTransactionRequest,xe=Pe({...extract(Te,{format:Pe}),accessList:de,data:fe,from:Ee.address,gas:pe,gasPrice:he,maxFeePerGas:be,maxPriorityFeePerGas:ge,nonce:ve,to:we,value:_e});return await ee.request({method:"eth_sendTransaction",params:[xe]})}catch(Ie){throw getTransactionError(Ie,{...ne,account:Ee,chain:ne.chain||void 0})}}async function writeContract(ee,{abi:ne,address:oe,args:ae,dataSuffix:de,functionName:fe,...pe}){const he=encodeFunctionData({abi:ne,args:ae,functionName:fe});return await sendTransaction(ee,{data:`${he}${de?de.replace("0x",""):""}`,to:oe,...pe})}function getContract({abi:ee,address:ne,publicClient:oe,walletClient:ae}){const de=oe!=null,fe=ae!=null,pe={};let he=!1,be=!1,ge=!1;for(const ve of ee)if(ve.type==="function"?ve.stateMutability==="view"||ve.stateMutability==="pure"?he=!0:be=!0:ve.type==="event"&&(ge=!0),he&&be&&ge)break;return de&&(he&&(pe.read=new Proxy({},{get(ve,we){return(..._e)=>{const{args:Te,options:Ee}=getFunctionParameters(_e);return readContract(oe,{abi:ee,address:ne,functionName:we,args:Te,...Ee})}}})),be&&(pe.simulate=new Proxy({},{get(ve,we){return(..._e)=>{const{args:Te,options:Ee}=getFunctionParameters(_e);return simulateContract(oe,{abi:ee,address:ne,functionName:we,args:Te,...Ee})}}})),ge&&(pe.createEventFilter=new Proxy({},{get(ve,we){return(..._e)=>{const Te=ee.find(Pe=>Pe.type==="event"&&Pe.name===we),{args:Ee,options:Ie}=getEventParameters(_e,Te);return createContractEventFilter(oe,{abi:ee,address:ne,eventName:we,args:Ee,...Ie})}}}),pe.getEvents=new Proxy({},{get(ve,we){return(..._e)=>{const Te=ee.find(Pe=>Pe.type==="event"&&Pe.name===we),{args:Ee,options:Ie}=getEventParameters(_e,Te);return getContractEvents(oe,{abi:ee,address:ne,eventName:we,args:Ee,...Ie})}}}),pe.watchEvent=new Proxy({},{get(ve,we){return(..._e)=>{const Te=ee.find(Pe=>Pe.type==="event"&&Pe.name===we),{args:Ee,options:Ie}=getEventParameters(_e,Te);return watchContractEvent(oe,{abi:ee,address:ne,eventName:we,args:Ee,...Ie})}}}))),fe&&be&&(pe.write=new Proxy({},{get(ve,we){return(..._e)=>{const{args:Te,options:Ee}=getFunctionParameters(_e);return writeContract(ae,{abi:ee,address:ne,functionName:we,args:Te,...Ee})}}})),(de||fe)&&be&&(pe.estimateGas=new Proxy({},{get(ve,we){return(..._e)=>{const{args:Te,options:Ee}=getFunctionParameters(_e);return estimateContractGas(oe??ae,{abi:ee,address:ne,functionName:we,args:Te,...Ee,account:Ee.account??ae.account})}}})),pe.address=ne,pe.abi=ee,pe}function getFunctionParameters(ee){const ne=ee.length&&Array.isArray(ee[0]),oe=ne?ee[0]:[],ae=(ne?ee[1]:ee[0])??{};return{args:oe,options:ae}}function getEventParameters(ee,ne){let oe=!1;Array.isArray(ee[0])?oe=!0:ee.length===1?oe=ne.inputs.some(fe=>fe.indexed):ee.length===2&&(oe=!0);const ae=oe?ee[0]:void 0,de=(oe?ee[1]:ee[0])??{};return{args:ae,options:de}}async function addChain(ee,{chain:ne}){const{id:oe,name:ae,nativeCurrency:de,rpcUrls:fe,blockExplorers:pe}=ne;await ee.request({method:"wallet_addEthereumChain",params:[{chainId:numberToHex(oe),chainName:ae,nativeCurrency:de,rpcUrls:fe.default.http,blockExplorerUrls:pe?Object.values(pe).map(({url:he})=>he):void 0}]})}function publicKeyToAddress(ee){const ne=keccak256(`0x${ee.substring(4)}`).substring(26);return checksumAddress(`0x${ne}`)}const size=256;let index=size,buffer;function uid(ee=11){if(!buffer||index+ee>size*2){buffer="",index=0;for(let ne=0;ne<size;ne++)buffer+=(256+Math.random()*256|0).toString(16).substring(1)}return buffer.substring(index,index+++ee)}function createClient$1(ee){const{batch:ne,cacheTime:oe=ee.pollingInterval??4e3,key:ae="base",name:de="Base Client",pollingInterval:fe=4e3,type:pe="base"}=ee,he=ee.chain,be=ee.account?parseAccount(ee.account):void 0,{config:ge,request:ve,value:we}=ee.transport({chain:he,pollingInterval:fe}),_e={...ge,...we},Te={account:be,batch:ne,cacheTime:oe,chain:he,key:ae,name:de,pollingInterval:fe,request:ve,transport:_e,type:pe,uid:uid()};function Ee(Ie){return Pe=>{const xe=Pe(Ie);for(const $e in Te)delete xe[$e];const Ae={...Ie,...xe};return Object.assign(Ae,{extend:Ee(Ae)})}}return Object.assign(Te,{extend:Ee(Te)})}function withRetry(ee,{delay:ne=100,retryCount:oe=2,shouldRetry:ae=()=>!0}={}){return new Promise((de,fe)=>{const pe=async({count:he=0}={})=>{const be=async({error:ge})=>{const ve=typeof ne=="function"?ne({count:he,error:ge}):ne;ve&&await wait(ve),pe({count:he+1})};try{const ge=await ee();de(ge)}catch(ge){if(he<oe&&await ae({count:he,error:ge}))return be({error:ge});fe(ge)}};pe()})}const isDeterministicError=ee=>"code"in ee?ee.code!==-1&&ee.code!==-32004&&ee.code!==-32005&&ee.code!==-32042&&ee.code!==-32603:ee instanceof HttpRequestError&&ee.status?ee.status!==403&&ee.status!==408&&ee.status!==413&&ee.status!==429&&ee.status!==500&&ee.status!==502&&ee.status!==503&&ee.status!==504:!1;function buildRequest(ee,{retryDelay:ne=150,retryCount:oe=3}={}){return async ae=>withRetry(async()=>{try{return await ee(ae)}catch(de){const fe=de;switch(fe.code){case ParseRpcError.code:throw new ParseRpcError(fe);case InvalidRequestRpcError.code:throw new InvalidRequestRpcError(fe);case MethodNotFoundRpcError.code:throw new MethodNotFoundRpcError(fe);case InvalidParamsRpcError.code:throw new InvalidParamsRpcError(fe);case InternalRpcError.code:throw new InternalRpcError(fe);case InvalidInputRpcError.code:throw new InvalidInputRpcError(fe);case ResourceNotFoundRpcError.code:throw new ResourceNotFoundRpcError(fe);case ResourceUnavailableRpcError.code:throw new ResourceUnavailableRpcError(fe);case TransactionRejectedRpcError.code:throw new TransactionRejectedRpcError(fe);case MethodNotSupportedRpcError.code:throw new MethodNotSupportedRpcError(fe);case LimitExceededRpcError.code:throw new LimitExceededRpcError(fe);case JsonRpcVersionUnsupportedError.code:throw new JsonRpcVersionUnsupportedError(fe);case UserRejectedRequestError.code:throw new UserRejectedRequestError(fe);case UnauthorizedProviderError.code:throw new UnauthorizedProviderError(fe);case UnsupportedProviderMethodError.code:throw new UnsupportedProviderMethodError(fe);case ProviderDisconnectedError.code:throw new ProviderDisconnectedError(fe);case ChainDisconnectedError.code:throw new ChainDisconnectedError(fe);case SwitchChainError.code:throw new SwitchChainError(fe);case 5e3:throw new UserRejectedRequestError(fe);default:throw de instanceof BaseError?de:new UnknownRpcError(fe)}}},{delay:({count:de,error:fe})=>{if(fe&&fe instanceof HttpRequestError){const pe=fe?.headers?.get("Retry-After");if(pe?.match(/\d/))return parseInt(pe)*1e3}return~~(1<<de)*ne},retryCount:oe,shouldRetry:({error:de})=>!isDeterministicError(de)})}function createTransport({key:ee,name:ne,request:oe,retryCount:ae=3,retryDelay:de=150,timeout:fe,type:pe},he){return{config:{key:ee,name:ne,request:oe,retryCount:ae,retryDelay:de,timeout:fe,type:pe},request:buildRequest(oe,{retryCount:ae,retryDelay:de}),value:he}}function fallback(ee,ne={}){const{key:oe="fallback",name:ae="Fallback",rank:de=!1,retryCount:fe,retryDelay:pe}=ne;return({chain:he,pollingInterval:be=4e3,timeout:ge})=>{let ve=ee,we=()=>{};const _e=createTransport({key:oe,name:ae,async request({method:Te,params:Ee}){const Ie=async(Pe=0)=>{const xe=ve[Pe]({chain:he,retryCount:0,timeout:ge});try{const Ae=await xe.request({method:Te,params:Ee});return we({method:Te,params:Ee,response:Ae,transport:xe,status:"success"}),Ae}catch(Ae){if(we({error:Ae,method:Te,params:Ee,transport:xe,status:"error"}),isDeterministicError(Ae)||Pe===ve.length-1)throw Ae;return Ie(Pe+1)}};return Ie()},retryCount:fe,retryDelay:pe,type:"fallback"},{onResponse:Te=>we=Te,transports:ve.map(Te=>Te({chain:he,retryCount:0}))});if(de){const Te=typeof de=="object"?de:{};rankTransports({chain:he,interval:Te.interval??be,onTransports:Ee=>ve=Ee,sampleCount:Te.sampleCount,timeout:Te.timeout,transports:ve,weights:Te.weights})}return _e}}function rankTransports({chain:ee,interval:ne=4e3,onTransports:oe,sampleCount:ae=10,timeout:de=1e3,transports:fe,weights:pe={}}){const{stability:he=.7,latency:be=.3}=pe,ge=[],ve=async()=>{const we=await Promise.all(fe.map(async Ee=>{const Ie=Ee({chain:ee,retryCount:0,timeout:de}),Pe=Date.now();let xe,Ae;try{await Ie.request({method:"net_listening"}),Ae=1}catch{Ae=0}finally{xe=Date.now()}return{latency:xe-Pe,success:Ae}}));ge.push(we),ge.length>ae&&ge.shift();const _e=Math.max(...ge.map(Ee=>Math.max(...Ee.map(({latency:Ie})=>Ie)))),Te=fe.map((Ee,Ie)=>{const Pe=ge.map(Re=>Re[Ie].latency),Ae=1-Pe.reduce((Re,Be)=>Re+Be,0)/Pe.length/_e,$e=ge.map(Re=>Re[Ie].success),Se=$e.reduce((Re,Be)=>Re+Be,0)/$e.length;return Se===0?[0,Ie]:[be*Ae+he*Se,Ie]}).sort((Ee,Ie)=>Ie[0]-Ee[0]);oe(Te.map(([,Ee])=>fe[Ee])),await wait(ne),ve()};ve()}class UrlRequiredError extends BaseError{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro"})}}var ws=null;typeof WebSocket<"u"?ws=WebSocket:typeof MozWebSocket<"u"?ws=MozWebSocket:typeof global<"u"?ws=global.WebSocket||global.MozWebSocket:typeof window<"u"?ws=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(ws=self.WebSocket||self.MozWebSocket);const WebSocket$1=ws;function withTimeout(ee,{errorInstance:ne,timeout:oe,signal:ae}){return new Promise((de,fe)=>{(async()=>{let pe;try{const he=new AbortController;oe>0&&(pe=setTimeout(()=>{ae?he.abort():fe(ne)},oe)),de(await ee({signal:he?.signal}))}catch(he){he.name==="AbortError"&&fe(ne),fe(he)}finally{clearTimeout(pe)}})()})}let id=0;async function http$1(ee,{body:ne,fetchOptions:oe={},timeout:ae=1e4}){const{headers:de,method:fe,signal:pe}=oe;try{const he=await withTimeout(async({signal:ge})=>await fetch(ee,{...oe,body:Array.isArray(ne)?stringify(ne.map(we=>({jsonrpc:"2.0",id:we.id??id++,...we}))):stringify({jsonrpc:"2.0",id:ne.id??id++,...ne}),headers:{...de,"Content-Type":"application/json"},method:fe||"POST",signal:pe||(ae>0?ge:void 0)}),{errorInstance:new TimeoutError$1({body:ne,url:ee}),timeout:ae,signal:!0});let be;if(he.headers.get("Content-Type")?.startsWith("application/json")?be=await he.json():be=await he.text(),!he.ok)throw new HttpRequestError({body:ne,details:stringify(be.error)||he.statusText,headers:he.headers,status:he.status,url:ee});return be}catch(he){throw he instanceof HttpRequestError||he instanceof TimeoutError$1?he:new HttpRequestError({body:ne,details:he.message,url:ee})}}const socketsCache=new Map;async function getSocket(ee){let ne=socketsCache.get(ee);if(ne)return ne;const{schedule:oe}=createBatchScheduler({id:ee,fn:async()=>{let fe=WebSocket$1;WebSocket$1.constructor||(fe=WebSocket$1.WebSocket);const pe=new fe(ee),he=new Map,be=new Map,ge=({data:we})=>{const _e=JSON.parse(we),Te=_e.method==="eth_subscription",Ee=Te?_e.params.subscription:_e.id,Ie=Te?be:he,Pe=Ie.get(Ee);Pe&&Pe({data:we}),Te||Ie.delete(Ee)},ve=()=>{socketsCache.delete(ee),pe.removeEventListener("close",ve),pe.removeEventListener("message",ge)};return pe.addEventListener("close",ve),pe.addEventListener("message",ge),pe.readyState===WebSocket$1.CONNECTING&&await new Promise((we,_e)=>{pe&&(pe.onopen=we,pe.onerror=_e)}),ne=Object.assign(pe,{requests:he,subscriptions:be}),socketsCache.set(ee,ne),[ne]}}),[ae,[de]]=await oe();return de}function webSocket$1(ee,{body:ne,onResponse:oe}){if(ee.readyState===ee.CLOSED||ee.readyState===ee.CLOSING)throw new WebSocketRequestError({body:ne,url:ee.url,details:"Socket is closed."});const ae=id++,de=({data:fe})=>{const pe=JSON.parse(fe);typeof pe.id=="number"&&ae!==pe.id||(oe?.(pe),ne.method==="eth_subscribe"&&typeof pe.result=="string"&&ee.subscriptions.set(pe.result,de),ne.method==="eth_unsubscribe"&&ee.subscriptions.delete(ne.params?.[0]))};return ee.requests.set(ae,de),ee.send(JSON.stringify({jsonrpc:"2.0",...ne,id:ae})),ee}async function webSocketAsync(ee,{body:ne,timeout:oe=1e4}){return withTimeout(()=>new Promise(ae=>rpc$1.webSocket(ee,{body:ne,onResponse:ae})),{errorInstance:new TimeoutError$1({body:ne,url:ee.url}),timeout:oe})}const rpc$1={http:http$1,webSocket:webSocket$1,webSocketAsync};function http(ee,ne={}){const{batch:oe,fetchOptions:ae,key:de="http",name:fe="HTTP JSON-RPC",retryDelay:pe}=ne;return({chain:he,retryCount:be,timeout:ge})=>{const{batchSize:ve=1e3,wait:we=0}=typeof oe=="object"?oe:{},_e=ne.retryCount??be,Te=ge??ne.timeout??1e4,Ee=ee||he?.rpcUrls.default.http[0];if(!Ee)throw new UrlRequiredError;return createTransport({key:de,name:fe,async request({method:Ie,params:Pe}){const xe={method:Ie,params:Pe},{schedule:Ae}=createBatchScheduler({id:`${ee}`,wait:we,shouldSplitBatch(Be){return Be.length>ve},fn:Be=>rpc$1.http(Ee,{body:Be,fetchOptions:ae,timeout:Te})}),$e=async Be=>oe?Ae(Be):[await rpc$1.http(Ee,{body:Be,fetchOptions:ae,timeout:Te})],[{error:Se,result:Re}]=await $e(xe);if(Se)throw new RpcRequestError({body:xe,error:Se,url:Ee});return Re},retryCount:_e,retryDelay:pe,timeout:Te,type:"http"},{url:ee})}}function isNullUniversalResolverError(ee,ne){if(!(ee instanceof BaseError))return!1;const oe=ee.walk(ae=>ae instanceof ContractFunctionRevertedError);return oe instanceof ContractFunctionRevertedError?!!(oe.data?.errorName==="ResolverNotFound"||oe.data?.errorName==="ResolverWildcardNotSupported"||oe.reason?.includes("Wildcard on non-extended resolvers is not supported")||ne==="reverse"&&oe.reason===panicReasons[50]):!1}function encodedLabelToLabelhash(ee){if(ee.length!==66||ee.indexOf("[")!==0||ee.indexOf("]")!==65)return null;const ne=`0x${ee.slice(1,65)}`;return isHex(ne)?ne:null}function namehash(ee){let ne=new Uint8Array(32).fill(0);if(!ee)return bytesToHex$1(ne);const oe=ee.split(".");for(let ae=oe.length-1;ae>=0;ae-=1){const de=encodedLabelToLabelhash(oe[ae]),fe=de?toBytes$1(de):keccak256(stringToBytes(oe[ae]),"bytes");ne=keccak256(concat([ne,fe]),"bytes")}return bytesToHex$1(ne)}function encodeLabelhash(ee){return`[${ee.slice(2)}]`}function labelhash(ee){const ne=new Uint8Array(32).fill(0);return ee?encodedLabelToLabelhash(ee)||keccak256(stringToBytes(ee)):bytesToHex$1(ne)}function packetToBytes(ee){const ne=ee.replace(/^\.|\.$/gm,"");if(ne.length===0)return new Uint8Array(1);const oe=new Uint8Array(stringToBytes(ne).byteLength+2);let ae=0;const de=ne.split(".");for(let fe=0;fe<de.length;fe++){let pe=stringToBytes(de[fe]);pe.byteLength>255&&(pe=stringToBytes(encodeLabelhash(labelhash(de[fe])))),oe[ae]=pe.length,oe.set(pe,ae+1),ae+=pe.length+1}return oe.byteLength!==ae+1?oe.slice(0,ae+1):oe}async function getEnsAddress(ee,{blockNumber:ne,blockTag:oe,coinType:ae,name:de,universalResolverAddress:fe}){let pe=fe;if(!pe){if(!ee.chain)throw new Error("client chain not configured. universalResolverAddress is required.");pe=getChainContractAddress({blockNumber:ne,chain:ee.chain,contract:"ensUniversalResolver"})}try{const he=encodeFunctionData({abi:addressResolverAbi,functionName:"addr",...ae!=null?{args:[namehash(de),BigInt(ae)]}:{args:[namehash(de)]}}),be=await readContract(ee,{address:pe,abi:universalResolverResolveAbi,functionName:"resolve",args:[toHex(packetToBytes(de)),he],blockNumber:ne,blockTag:oe});if(be[0]==="0x")return null;const ge=decodeFunctionResult({abi:addressResolverAbi,args:ae!=null?[namehash(de),BigInt(ae)]:void 0,functionName:"addr",data:be[0]});return ge==="0x"||trim(ge)==="0x00"?null:ge}catch(he){if(isNullUniversalResolverError(he,"resolve"))return null;throw he}}class EnsAvatarInvalidMetadataError extends BaseError{constructor({data:ne}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(ne)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidMetadataError"})}}class EnsAvatarInvalidNftUriError extends BaseError{constructor({reason:ne}){super(`ENS NFT avatar URI is invalid. ${ne}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidNftUriError"})}}class EnsAvatarUriResolutionError extends BaseError{constructor({uri:ne}){super(`Unable to resolve ENS avatar URI "${ne}". The URI may be malformed, invalid, or does not respond with a valid image.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUriResolutionError"})}}class EnsAvatarUnsupportedNamespaceError extends BaseError{constructor({namespace:ne}){super(`ENS NFT avatar namespace "${ne}" is not supported. Must be "erc721" or "erc1155".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUnsupportedNamespaceError"})}}const networkRegex=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,ipfsHashRegex=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,base64Regex=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,dataURIRegex=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function isImageUri(ee){try{const ne=await fetch(ee,{method:"HEAD"});return ne.status===200?ne.headers.get("content-type")?.startsWith("image/"):!1}catch(ne){return typeof ne=="object"&&typeof ne.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(oe=>{const ae=new Image;ae.onload=()=>{oe(!0)},ae.onerror=()=>{oe(!1)},ae.src=ee})}}function getGateway(ee,ne){return ee?ee.endsWith("/")?ee.slice(0,-1):ee:ne}function resolveAvatarUri({uri:ee,gatewayUrls:ne}){const oe=base64Regex.test(ee);if(oe)return{uri:ee,isOnChain:!0,isEncoded:oe};const ae=getGateway(ne?.ipfs,"https://ipfs.io"),de=getGateway(ne?.arweave,"https://arweave.net"),fe=ee.match(networkRegex),{protocol:pe,subpath:he,target:be,subtarget:ge=""}=fe?.groups||{},ve=pe==="ipns:/"||he==="ipns/",we=pe==="ipfs:/"||he==="ipfs/"||ipfsHashRegex.test(ee);if(ee.startsWith("http")&&!ve&&!we){let Te=ee;return ne?.arweave&&(Te=ee.replace(/https:\/\/arweave.net/g,ne?.arweave)),{uri:Te,isOnChain:!1,isEncoded:!1}}if((ve||we)&&be)return{uri:`${ae}/${ve?"ipns":"ipfs"}/${be}${ge}`,isOnChain:!1,isEncoded:!1};if(pe==="ar:/"&&be)return{uri:`${de}/${be}${ge||""}`,isOnChain:!1,isEncoded:!1};let _e=ee.replace(dataURIRegex,"");if(_e.startsWith("<svg")&&(_e=`data:image/svg+xml;base64,${btoa(_e)}`),_e.startsWith("data:")||_e.startsWith("{"))return{uri:_e,isOnChain:!0,isEncoded:!1};throw new EnsAvatarUriResolutionError({uri:ee})}function getJsonImage(ee){if(typeof ee!="object"||!("image"in ee)&&!("image_url"in ee)&&!("image_data"in ee))throw new EnsAvatarInvalidMetadataError({data:ee});return ee.image||ee.image_url||ee.image_data}async function getMetadataAvatarUri({gatewayUrls:ee,uri:ne}){try{const oe=await fetch(ne).then(de=>de.json());return await parseAvatarUri({gatewayUrls:ee,uri:getJsonImage(oe)})}catch{throw new EnsAvatarUriResolutionError({uri:ne})}}async function parseAvatarUri({gatewayUrls:ee,uri:ne}){const{uri:oe,isOnChain:ae}=resolveAvatarUri({uri:ne,gatewayUrls:ee});if(ae||await isImageUri(oe))return oe;throw new EnsAvatarUriResolutionError({uri:ne})}function parseNftUri(ee){let ne=ee;ne.startsWith("did:nft:")&&(ne=ne.replace("did:nft:","").replace(/_/g,"/"));const[oe,ae,de]=ne.split("/"),[fe,pe]=oe.split(":"),[he,be]=ae.split(":");if(!fe||fe.toLowerCase()!=="eip155")throw new EnsAvatarInvalidNftUriError({reason:"Only EIP-155 supported"});if(!pe)throw new EnsAvatarInvalidNftUriError({reason:"Chain ID not found"});if(!be)throw new EnsAvatarInvalidNftUriError({reason:"Contract address not found"});if(!de)throw new EnsAvatarInvalidNftUriError({reason:"Token ID not found"});if(!he)throw new EnsAvatarInvalidNftUriError({reason:"ERC namespace not found"});return{chainID:parseInt(pe),namespace:he.toLowerCase(),contractAddress:be,tokenID:de}}async function getNftTokenUri(ee,{nft:ne}){if(ne.namespace==="erc721")return readContract(ee,{address:ne.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(ne.tokenID)]});if(ne.namespace==="erc1155")return readContract(ee,{address:ne.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(ne.tokenID)]});throw new EnsAvatarUnsupportedNamespaceError({namespace:ne.namespace})}async function parseAvatarRecord(ee,{gatewayUrls:ne,record:oe}){return/eip155:/i.test(oe)?parseNftAvatarUri(ee,{gatewayUrls:ne,record:oe}):parseAvatarUri({uri:oe,gatewayUrls:ne})}async function parseNftAvatarUri(ee,{gatewayUrls:ne,record:oe}){const ae=parseNftUri(oe),de=await getNftTokenUri(ee,{nft:ae}),{uri:fe,isOnChain:pe,isEncoded:he}=resolveAvatarUri({uri:de,gatewayUrls:ne});if(pe&&(fe.includes("data:application/json;base64,")||fe.startsWith("{"))){const ge=he?atob(fe.replace("data:application/json;base64,","")):fe,ve=JSON.parse(ge);return parseAvatarUri({uri:getJsonImage(ve),gatewayUrls:ne})}let be=ae.tokenID;return ae.namespace==="erc1155"&&(be=be.replace("0x","").padStart(64,"0")),getMetadataAvatarUri({gatewayUrls:ne,uri:fe.replace(/(?:0x)?{id}/,be)})}async function getEnsText(ee,{blockNumber:ne,blockTag:oe,name:ae,key:de,universalResolverAddress:fe}){let pe=fe;if(!pe){if(!ee.chain)throw new Error("client chain not configured. universalResolverAddress is required.");pe=getChainContractAddress({blockNumber:ne,chain:ee.chain,contract:"ensUniversalResolver"})}try{const he=await readContract(ee,{address:pe,abi:universalResolverResolveAbi,functionName:"resolve",args:[toHex(packetToBytes(ae)),encodeFunctionData({abi:textResolverAbi,functionName:"text",args:[namehash(ae),de]})],blockNumber:ne,blockTag:oe});if(he[0]==="0x")return null;const be=decodeFunctionResult({abi:textResolverAbi,functionName:"text",data:he[0]});return be===""?null:be}catch(he){if(isNullUniversalResolverError(he,"resolve"))return null;throw he}}async function getEnsAvatar(ee,{blockNumber:ne,blockTag:oe,gatewayUrls:ae,name:de,universalResolverAddress:fe}){const pe=await getEnsText(ee,{blockNumber:ne,blockTag:oe,key:"avatar",name:de,universalResolverAddress:fe});if(!pe)return null;try{return await parseAvatarRecord(ee,{record:pe,gatewayUrls:ae})}catch{return null}}async function getEnsName(ee,{address:ne,blockNumber:oe,blockTag:ae,universalResolverAddress:de}){let fe=de;if(!fe){if(!ee.chain)throw new Error("client chain not configured. universalResolverAddress is required.");fe=getChainContractAddress({blockNumber:oe,chain:ee.chain,contract:"ensUniversalResolver"})}const pe=`${ne.toLowerCase().substring(2)}.addr.reverse`;try{return(await readContract(ee,{address:fe,abi:universalResolverReverseAbi,functionName:"reverse",args:[toHex(packetToBytes(pe))],blockNumber:oe,blockTag:ae}))[0]}catch(he){if(isNullUniversalResolverError(he,"reverse"))return null;throw he}}async function getEnsResolver(ee,{blockNumber:ne,blockTag:oe,name:ae,universalResolverAddress:de}){let fe=de;if(!fe){if(!ee.chain)throw new Error("client chain not configured. universalResolverAddress is required.");fe=getChainContractAddress({blockNumber:ne,chain:ee.chain,contract:"ensUniversalResolver"})}const[pe]=await readContract(ee,{address:fe,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[toHex(packetToBytes(ae))],blockNumber:ne,blockTag:oe});return pe}async function createBlockFilter(ee){const ne=createFilterRequestScope(ee,{method:"eth_newBlockFilter"}),oe=await ee.request({method:"eth_newBlockFilter"});return{id:oe,request:ne(oe),type:"block"}}async function createEventFilter(ee,{address:ne,args:oe,event:ae,events:de,fromBlock:fe,strict:pe,toBlock:he}={}){const be=de??(ae?[ae]:void 0),ge=createFilterRequestScope(ee,{method:"eth_newFilter"});let ve=[];be&&(ve=[be.flatMap(_e=>encodeEventTopics({abi:[_e],eventName:_e.name,args:oe}))],ae&&(ve=ve[0]));const we=await ee.request({method:"eth_newFilter",params:[{address:ne,fromBlock:typeof fe=="bigint"?numberToHex(fe):fe,toBlock:typeof he=="bigint"?numberToHex(he):he,...ve.length?{topics:ve}:{}}]});return{abi:be,args:oe,eventName:ae?ae.name:void 0,fromBlock:fe,id:we,request:ge(we),strict:pe,toBlock:he,type:"event"}}async function createPendingTransactionFilter(ee){const ne=createFilterRequestScope(ee,{method:"eth_newPendingTransactionFilter"}),oe=await ee.request({method:"eth_newPendingTransactionFilter"});return{id:oe,request:ne(oe),type:"transaction"}}async function getBalance(ee,{address:ne,blockNumber:oe,blockTag:ae="latest"}){const de=oe?numberToHex(oe):void 0,fe=await ee.request({method:"eth_getBalance",params:[ne,de||ae]});return BigInt(fe)}async function getBlockTransactionCount(ee,{blockHash:ne,blockNumber:oe,blockTag:ae="latest"}={}){const de=oe!==void 0?numberToHex(oe):void 0;let fe;return ne?fe=await ee.request({method:"eth_getBlockTransactionCountByHash",params:[ne]}):fe=await ee.request({method:"eth_getBlockTransactionCountByNumber",params:[de||ae]}),hexToNumber$1(fe)}async function getBytecode(ee,{address:ne,blockNumber:oe,blockTag:ae="latest"}){const de=oe!==void 0?numberToHex(oe):void 0,fe=await ee.request({method:"eth_getCode",params:[ne,de||ae]});if(fe!=="0x")return fe}function formatFeeHistory(ee){return{baseFeePerGas:ee.baseFeePerGas.map(ne=>BigInt(ne)),gasUsedRatio:ee.gasUsedRatio,oldestBlock:BigInt(ee.oldestBlock),reward:ee.reward?.map(ne=>ne.map(oe=>BigInt(oe)))}}async function getFeeHistory(ee,{blockCount:ne,blockNumber:oe,blockTag:ae="latest",rewardPercentiles:de}){const fe=oe?numberToHex(oe):void 0,pe=await ee.request({method:"eth_feeHistory",params:[numberToHex(ne),fe||ae,de]});return formatFeeHistory(pe)}async function getFilterLogs(ee,{filter:ne}){const oe=ne.strict??!1;return(await ne.request({method:"eth_getFilterLogs",params:[ne.id]})).map(de=>{try{const{eventName:fe,args:pe}="abi"in ne&&ne.abi?decodeEventLog({abi:ne.abi,data:de.data,topics:de.topics,strict:oe}):{eventName:void 0,args:void 0};return formatLog(de,{args:pe,eventName:fe})}catch(fe){let pe,he;if(fe instanceof DecodeLogDataMismatch||fe instanceof DecodeLogTopicsMismatch){if("strict"in ne&&ne.strict)return;pe=fe.abiItem.name,he=fe.abiItem.inputs?.some(be=>!("name"in be&&be.name))}return formatLog(de,{args:he?[]:{},eventName:pe})}}).filter(Boolean)}async function getStorageAt(ee,{address:ne,blockNumber:oe,blockTag:ae="latest",slot:de}){const fe=oe!==void 0?numberToHex(oe):void 0;return await ee.request({method:"eth_getStorageAt",params:[ne,de,fe||ae]})}async function getTransaction(ee,{blockHash:ne,blockNumber:oe,blockTag:ae,hash:de,index:fe}){const pe=ae||"latest",he=oe!==void 0?numberToHex(oe):void 0;let be=null;if(de?be=await ee.request({method:"eth_getTransactionByHash",params:[de]}):ne?be=await ee.request({method:"eth_getTransactionByBlockHashAndIndex",params:[ne,numberToHex(fe)]}):(he||pe)&&(be=await ee.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[he||pe,numberToHex(fe)]})),!be)throw new TransactionNotFoundError({blockHash:ne,blockNumber:oe,blockTag:pe,hash:de,index:fe});return(ee.chain?.formatters?.transaction?.format||formatTransaction)(be)}async function getTransactionConfirmations(ee,{hash:ne,transactionReceipt:oe}){const[ae,de]=await Promise.all([getBlockNumber(ee),ne?getTransaction(ee,{hash:ne}):void 0]),fe=oe?.blockNumber||de?.blockNumber;return fe?ae-fe+1n:0n}const statuses={"0x0":"reverted","0x1":"success"};function formatTransactionReceipt(ee){return{...ee,blockNumber:ee.blockNumber?BigInt(ee.blockNumber):null,contractAddress:ee.contractAddress?ee.contractAddress:null,cumulativeGasUsed:ee.cumulativeGasUsed?BigInt(ee.cumulativeGasUsed):null,effectiveGasPrice:ee.effectiveGasPrice?BigInt(ee.effectiveGasPrice):null,gasUsed:ee.gasUsed?BigInt(ee.gasUsed):null,logs:ee.logs?ee.logs.map(ne=>formatLog(ne)):null,to:ee.to?ee.to:null,transactionIndex:ee.transactionIndex?hexToNumber$1(ee.transactionIndex):null,status:ee.status?statuses[ee.status]:null,type:ee.type?transactionType[ee.type]||ee.type:null}}async function getTransactionReceipt(ee,{hash:ne}){const oe=await ee.request({method:"eth_getTransactionReceipt",params:[ne]});if(!oe)throw new TransactionReceiptNotFoundError({hash:ne});return(ee.chain?.formatters?.transactionReceipt?.format||formatTransactionReceipt)(oe)}async function multicall(ee,ne){const{allowFailure:oe=!0,batchSize:ae,blockNumber:de,blockTag:fe,contracts:pe,multicallAddress:he}=ne,be=ae??(typeof ee.batch?.multicall=="object"&&ee.batch.multicall.batchSize||1024);let ge=he;if(!ge){if(!ee.chain)throw new Error("client chain not configured. multicallAddress is required.");ge=getChainContractAddress({blockNumber:de,chain:ee.chain,contract:"multicall3"})}const ve=[[]];let we=0,_e=0;for(let Ie=0;Ie<pe.length;Ie++){const{abi:Pe,address:xe,args:Ae,functionName:$e}=pe[Ie];try{const Se=encodeFunctionData({abi:Pe,args:Ae,functionName:$e});_e+=(Se.length-2)/2,be>0&&_e>be&&ve[we].length>0&&(we++,_e=(Se.length-2)/2,ve[we]=[]),ve[we]=[...ve[we],{allowFailure:!0,callData:Se,target:xe}]}catch(Se){const Re=getContractError(Se,{abi:Pe,address:xe,args:Ae,docsPath:"/docs/contract/multicall",functionName:$e});if(!oe)throw Re;ve[we]=[...ve[we],{allowFailure:!0,callData:"0x",target:xe}]}}const Te=await Promise.allSettled(ve.map(Ie=>readContract(ee,{abi:multicall3Abi,address:ge,args:[Ie],blockNumber:de,blockTag:fe,functionName:"aggregate3"}))),Ee=[];for(let Ie=0;Ie<Te.length;Ie++){const Pe=Te[Ie];if(Pe.status==="rejected"){if(!oe)throw Pe.reason;for(let Ae=0;Ae<ve[Ie].length;Ae++)Ee.push({status:"failure",error:Pe.reason,result:void 0});continue}const xe=Pe.value;for(let Ae=0;Ae<xe.length;Ae++){const{returnData:$e,success:Se}=xe[Ae],{callData:Re}=ve[Ie][Ae],{abi:Be,address:Ze,functionName:Fe,args:He}=pe[Ee.length];try{if(Re==="0x")throw new AbiDecodingZeroDataError;if(!Se)throw new RawContractError({data:$e});const ze=decodeFunctionResult({abi:Be,args:He,data:$e,functionName:Fe});Ee.push(oe?{result:ze,status:"success"}:ze)}catch(ze){const je=getContractError(ze,{abi:Be,address:Ze,args:He,docsPath:"/docs/contract/multicall",functionName:Fe});if(!oe)throw je;Ee.push({error:je,result:void 0,status:"failure"})}}}if(Ee.length!==pe.length)throw new BaseError("multicall results mismatch");return Ee}const arrayRegex=/^(.*)\[([0-9]*)\]$/,bytesRegex=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,integerRegex=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function hashTypedData({domain:ee,message:ne,primaryType:oe,types:ae}){const de=typeof ee>"u"?{}:ee,fe={EIP712Domain:getTypesForEIP712Domain({domain:de}),...ae};validateTypedData({domain:de,message:ne,primaryType:oe,types:fe});const pe=["0x1901"];return de&&pe.push(hashDomain({domain:de,types:fe})),oe!=="EIP712Domain"&&pe.push(hashStruct({data:ne,primaryType:oe,types:fe})),keccak256(concat(pe))}function hashDomain({domain:ee,types:ne}){return hashStruct({data:ee,primaryType:"EIP712Domain",types:ne})}function hashStruct({data:ee,primaryType:ne,types:oe}){const ae=encodeData({data:ee,primaryType:ne,types:oe});return keccak256(ae)}function encodeData({data:ee,primaryType:ne,types:oe}){const ae=[{type:"bytes32"}],de=[hashType({primaryType:ne,types:oe})];for(const fe of oe[ne]){const[pe,he]=encodeField({types:oe,name:fe.name,type:fe.type,value:ee[fe.name]});ae.push(pe),de.push(he)}return encodeAbiParameters(ae,de)}function hashType({primaryType:ee,types:ne}){const oe=toHex(encodeType({primaryType:ee,types:ne}));return keccak256(oe)}function encodeType({primaryType:ee,types:ne}){let oe="";const ae=findTypeDependencies({primaryType:ee,types:ne});ae.delete(ee);const de=[ee,...Array.from(ae).sort()];for(const fe of de)oe+=`${fe}(${ne[fe].map(({name:pe,type:he})=>`${he} ${pe}`).join(",")})`;return oe}function findTypeDependencies({primaryType:ee,types:ne},oe=new Set){const de=ee.match(/^\w*/u)?.[0];if(oe.has(de)||ne[de]===void 0)return oe;oe.add(de);for(const fe of ne[de])findTypeDependencies({primaryType:fe.type,types:ne},oe);return oe}function encodeField({types:ee,name:ne,type:oe,value:ae}){if(ee[oe]!==void 0)return[{type:"bytes32"},keccak256(encodeData({data:ae,primaryType:oe,types:ee}))];if(oe==="bytes")return ae=`0x${(ae.length%2?"0":"")+ae.slice(2)}`,[{type:"bytes32"},keccak256(ae)];if(oe==="string")return[{type:"bytes32"},keccak256(toHex(ae))];if(oe.lastIndexOf("]")===oe.length-1){const de=oe.slice(0,oe.lastIndexOf("[")),fe=ae.map(pe=>encodeField({name:ne,type:de,types:ee,value:pe}));return[{type:"bytes32"},keccak256(encodeAbiParameters(fe.map(([pe])=>pe),fe.map(([,pe])=>pe)))]}return[{type:oe},ae]}function validateTypedData({domain:ee,message:ne,primaryType:oe,types:ae}){const de=ae,fe=(pe,he)=>{for(const be of pe){const{name:ge,type:ve}=be,we=ve,_e=he[ge],Te=we.match(integerRegex);if(Te&&(typeof _e=="number"||typeof _e=="bigint")){const[Pe,xe,Ae]=Te;numberToHex(_e,{signed:xe==="int",size:parseInt(Ae)/8})}if(we==="address"&&typeof _e=="string"&&!isAddress(_e))throw new InvalidAddressError({address:_e});const Ee=we.match(bytesRegex);if(Ee){const[Pe,xe]=Ee;if(xe&&size$1(_e)!==parseInt(xe))throw new BytesSizeMismatchError({expectedSize:parseInt(xe),givenSize:size$1(_e)})}const Ie=de[we];Ie&&fe(Ie,_e)}};if(de.EIP712Domain&&ee&&fe(de.EIP712Domain,ee),oe!=="EIP712Domain"){const pe=de[oe];fe(pe,ne)}}function getTypesForEIP712Domain({domain:ee}){return[typeof ee?.name=="string"&&{name:"name",type:"string"},ee?.version&&{name:"version",type:"string"},typeof ee?.chainId=="number"&&{name:"chainId",type:"uint256"},ee?.verifyingContract&&{name:"verifyingContract",type:"address"},ee?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}const docsPath="/docs/contract/encodeDeployData";function encodeDeployData({abi:ee,args:ne,bytecode:oe}){if(!ne||ne.length===0)return oe;const ae=ee.find(fe=>"type"in fe&&fe.type==="constructor");if(!ae)throw new AbiConstructorNotFoundError({docsPath});if(!("inputs"in ae))throw new AbiConstructorParamsNotFoundError({docsPath});if(!ae.inputs||ae.inputs.length===0)throw new AbiConstructorParamsNotFoundError({docsPath});const de=encodeAbiParameters(ae.inputs,ne);return concatHex([oe,de])}function encodePacked(ee,ne){if(ee.length!==ne.length)throw new AbiEncodingLengthMismatchError({expectedLength:ee.length,givenLength:ne.length});const oe=[];for(let ae=0;ae<ee.length;ae++){const de=ee[ae],fe=ne[ae];oe.push(encode(de,fe))}return concatHex(oe)}function encode(ee,ne,oe=!1){if(ee==="address"){const pe=ne;if(!isAddress(pe))throw new InvalidAddressError({address:pe});return pad(pe.toLowerCase(),{size:oe?32:null})}if(ee==="string")return stringToHex(ne);if(ee==="bytes")return ne;if(ee==="bool")return pad(boolToHex(ne),{size:oe?32:1});const ae=ee.match(integerRegex);if(ae){const[pe,he,be="256"]=ae,ge=parseInt(be)/8;return numberToHex(ne,{size:oe?32:ge,signed:he==="int"})}const de=ee.match(bytesRegex);if(de){const[pe,he]=de;if(parseInt(he)!==(ne.length-2)/2)throw new BytesSizeMismatchError({expectedSize:parseInt(he),givenSize:(ne.length-2)/2});return pad(ne,{dir:"right",size:oe?32:null})}const fe=ee.match(arrayRegex);if(fe&&Array.isArray(ne)){const[pe,he]=fe,be=[];for(let ge=0;ge<ne.length;ge++)be.push(encode(he,ne[ge],!0));return be.length===0?"0x":concatHex(be)}throw new UnsupportedPackedAbiType(ee)}class NegativeOffsetError extends BaseError{constructor({offset:ne}){super(`Offset \`${ne}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NegativeOffsetError"})}}class PositionOutOfBoundsError extends BaseError{constructor({length:ne,position:oe}){super(`Position \`${oe}\` is out of bounds (\`0 < position < ${ne}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PositionOutOfBoundsError"})}}const staticCursor={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,assertPosition(ee){if(ee<0||ee>this.bytes.length-1)throw new PositionOutOfBoundsError({length:this.bytes.length,position:ee})},decrementPosition(ee){if(ee<0)throw new NegativeOffsetError({offset:ee});const ne=this.position-ee;this.assertPosition(ne),this.position=ne},incrementPosition(ee){if(ee<0)throw new NegativeOffsetError({offset:ee});const ne=this.position+ee;this.assertPosition(ne),this.position=ne},inspectByte(ee){const ne=ee??this.position;return this.assertPosition(ne),this.bytes[ne]},inspectBytes(ee,ne){const oe=ne??this.position;return this.assertPosition(oe+ee-1),this.bytes.subarray(oe,oe+ee)},inspectUint8(ee){const ne=ee??this.position;return this.assertPosition(ne),this.bytes[ne]},inspectUint16(ee){const ne=ee??this.position;return this.assertPosition(ne+1),this.dataView.getUint16(ne)},inspectUint24(ee){const ne=ee??this.position;return this.assertPosition(ne+2),(this.dataView.getUint16(ne)<<8)+this.dataView.getUint8(ne+2)},inspectUint32(ee){const ne=ee??this.position;return this.assertPosition(ne+3),this.dataView.getUint32(ne)},pushByte(ee){this.assertPosition(this.position),this.bytes[this.position]=ee,this.position++},pushBytes(ee){this.assertPosition(this.position+ee.length-1),this.bytes.set(ee,this.position),this.position+=ee.length},pushUint8(ee){this.assertPosition(this.position),this.bytes[this.position]=ee,this.position++},pushUint16(ee){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,ee),this.position+=2},pushUint24(ee){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,ee>>8),this.dataView.setUint8(this.position+2,ee&255),this.position+=3},pushUint32(ee){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,ee),this.position+=4},readByte(){const ee=this.inspectByte();return this.position++,ee},readBytes(ee){const ne=this.inspectBytes(ee);return this.position+=ee,ne},readUint8(){const ee=this.inspectUint8();return this.position+=1,ee},readUint16(){const ee=this.inspectUint16();return this.position+=2,ee},readUint24(){const ee=this.inspectUint24();return this.position+=3,ee},readUint32(){const ee=this.inspectUint32();return this.position+=4,ee},setPosition(ee){this.assertPosition(ee),this.position=ee}};function createCursor(ee){const ne=Object.create(staticCursor);return ne.bytes=ee,ne.dataView=new DataView(ee.buffer,ee.byteOffset,ee.byteLength),ne}function toRlp(ee,ne="hex"){const oe=getEncodable(ee),ae=createCursor(new Uint8Array(oe.length));return oe.encode(ae),ne==="hex"?bytesToHex$1(ae.bytes):ae.bytes}function getEncodable(ee){return Array.isArray(ee)?getEncodableList(ee.map(ne=>getEncodable(ne))):getEncodableBytes(ee)}function getEncodableList(ee){const ne=ee.reduce((de,fe)=>de+fe.length,0),oe=getSizeOfLength(ne);return{length:(()=>ne<=55?1+ne:1+oe+ne)(),encode(de){ne<=55?de.pushByte(192+ne):(de.pushByte(192+55+oe),oe===1?de.pushUint8(ne):oe===2?de.pushUint16(ne):oe===3?de.pushUint24(ne):de.pushUint32(ne)),ee.forEach(fe=>fe.encode(de))}}}function getEncodableBytes(ee){const ne=typeof ee=="string"?hexToBytes$1(ee):ee,oe=getSizeOfLength(ne.length);return{length:(()=>ne.length===1&&ne[0]<128?1:ne.length<=55?1+ne.length:1+oe+ne.length)(),encode(de){ne.length===1&&ne[0]<128?de.pushBytes(ne):ne.length<=55?(de.pushByte(128+ne.length),de.pushBytes(ne)):(de.pushByte(128+55+oe),oe===1?de.pushUint8(ne.length):oe===2?de.pushUint16(ne.length):oe===3?de.pushUint24(ne.length):de.pushUint32(ne.length),de.pushBytes(ne))}}}function getSizeOfLength(ee){if(ee<2**8)return 1;if(ee<2**16)return 2;if(ee<2**24)return 3;if(ee<2**32)return 4;throw new BaseError("Length is too large.")}function hashMessage(ee,ne){const oe=(()=>typeof ee=="string"?stringToBytes(ee):ee.raw instanceof Uint8Array?ee.raw:toBytes$1(ee.raw))(),ae=stringToBytes(`Ethereum Signed Message:
${oe.length}`);return keccak256(concat([ae,oe]),ne)}function assertTransactionEIP1559(ee){const{chainId:ne,maxPriorityFeePerGas:oe,gasPrice:ae,maxFeePerGas:de,to:fe}=ee;if(ne<=0)throw new InvalidChainIdError({chainId:ne});if(fe&&!isAddress(fe))throw new InvalidAddressError({address:fe});if(ae)throw new BaseError("`gasPrice` is not a valid EIP-1559 Transaction attribute.");if(de&&de>2n**256n-1n)throw new FeeCapTooHighError({maxFeePerGas:de});if(oe&&de&&oe>de)throw new TipAboveFeeCapError({maxFeePerGas:de,maxPriorityFeePerGas:oe})}function assertTransactionEIP2930(ee){const{chainId:ne,maxPriorityFeePerGas:oe,gasPrice:ae,maxFeePerGas:de,to:fe}=ee;if(ne<=0)throw new InvalidChainIdError({chainId:ne});if(fe&&!isAddress(fe))throw new InvalidAddressError({address:fe});if(oe||de)throw new BaseError("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(ae&&ae>2n**256n-1n)throw new FeeCapTooHighError({maxFeePerGas:ae})}function assertTransactionLegacy(ee){const{chainId:ne,maxPriorityFeePerGas:oe,gasPrice:ae,maxFeePerGas:de,to:fe,accessList:pe}=ee;if(fe&&!isAddress(fe))throw new InvalidAddressError({address:fe});if(typeof ne<"u"&&ne<=0)throw new InvalidChainIdError({chainId:ne});if(oe||de)throw new BaseError("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(ae&&ae>2n**256n-1n)throw new FeeCapTooHighError({maxFeePerGas:ae});if(pe)throw new BaseError("`accessList` is not a valid Legacy Transaction attribute.")}function serializeAccessList(ee){if(!ee||ee.length===0)return[];const ne=[];for(let oe=0;oe<ee.length;oe++){const{address:ae,storageKeys:de}=ee[oe];for(let fe=0;fe<de.length;fe++)if(de[fe].length-2!==64)throw new InvalidStorageKeySizeError({storageKey:de[fe]});if(!isAddress(ae))throw new InvalidAddressError({address:ae});ne.push([ae,de])}return ne}function serializeTransaction(ee,ne){const oe=getTransactionType(ee);return oe==="eip1559"?serializeTransactionEIP1559(ee,ne):oe==="eip2930"?serializeTransactionEIP2930(ee,ne):serializeTransactionLegacy(ee,ne)}function serializeTransactionEIP1559(ee,ne){const{chainId:oe,gas:ae,nonce:de,to:fe,value:pe,maxFeePerGas:he,maxPriorityFeePerGas:be,accessList:ge,data:ve}=ee;assertTransactionEIP1559(ee);const we=serializeAccessList(ge),_e=[toHex(oe),de?toHex(de):"0x",be?toHex(be):"0x",he?toHex(he):"0x",ae?toHex(ae):"0x",fe??"0x",pe?toHex(pe):"0x",ve??"0x",we];return ne&&_e.push(ne.v===27n?"0x":toHex(1),trim(ne.r),trim(ne.s)),concatHex(["0x02",toRlp(_e)])}function serializeTransactionEIP2930(ee,ne){const{chainId:oe,gas:ae,data:de,nonce:fe,to:pe,value:he,accessList:be,gasPrice:ge}=ee;assertTransactionEIP2930(ee);const ve=serializeAccessList(be),we=[toHex(oe),fe?toHex(fe):"0x",ge?toHex(ge):"0x",ae?toHex(ae):"0x",pe??"0x",he?toHex(he):"0x",de??"0x",ve];return ne&&we.push(ne.v===27n?"0x":toHex(1),ne.r,ne.s),concatHex(["0x01",toRlp(we)])}function serializeTransactionLegacy(ee,ne){const{chainId:oe=0,gas:ae,data:de,nonce:fe,to:pe,value:he,gasPrice:be}=ee;assertTransactionLegacy(ee);let ge=[fe?toHex(fe):"0x",be?toHex(be):"0x",ae?toHex(ae):"0x",pe??"0x",he?toHex(he):"0x",de??"0x"];if(ne){let ve=27n+(ne.v===27n?0n:1n);if(oe>0)ve=BigInt(oe*2)+BigInt(35n+ne.v-27n);else if(ne.v!==ve)throw new InvalidLegacyVError({v:ne.v});ge=[...ge,toHex(ve),ne.r,ne.s]}else oe>0&&(ge=[...ge,toHex(oe),"0x","0x"]);return toRlp(ge)}function parseUnits(ee,ne){let[oe,ae="0"]=ee.split(".");const de=oe.startsWith("-");if(de&&(oe=oe.slice(1)),ae=ae.replace(/(0+)$/,""),ne===0)Math.round(+`.${ae}`)===1&&(oe=`${BigInt(oe)+1n}`),ae="";else if(ae.length>ne){const[fe,pe,he]=[ae.slice(0,ne-1),ae.slice(ne-1,ne),ae.slice(ne)],be=Math.round(+`${pe}.${he}`);be>9?ae=`${BigInt(fe)+BigInt(1)}0`.padStart(fe.length+1,"0"):ae=`${fe}${be}`,ae.length>ne&&(ae=ae.slice(1),oe=`${BigInt(oe)+1n}`),ae=ae.slice(0,ne)}else ae=ae.padEnd(ne,"0");return BigInt(`${de?"-":""}${oe}${ae}`)}function parseEther(ee,ne="wei"){return parseUnits(ee,etherUnits[ne])}const universalSignatureValidatorByteCode="0x60806040523480156200001157600080fd5b50604051620007003803806200070083398101604081905262000034916200056f565b6000620000438484846200004f565b9050806000526001601ff35b600080846001600160a01b0316803b806020016040519081016040528181526000908060200190933c90507f6492649264926492649264926492649264926492649264926492649264926492620000a68462000451565b036200021f57600060608085806020019051810190620000c79190620005ce565b8651929550909350915060000362000192576000836001600160a01b031683604051620000f5919062000643565b6000604051808303816000865af19150503d806000811462000134576040519150601f19603f3d011682016040523d82523d6000602084013e62000139565b606091505b5050905080620001905760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b505b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90620001c4908b90869060040162000661565b602060405180830381865afa158015620001e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200020891906200069d565b6001600160e01b031916149450505050506200044a565b805115620002b157604051630b135d3f60e11b808252906001600160a01b03871690631626ba7e9062000259908890889060040162000661565b602060405180830381865afa15801562000277573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200029d91906200069d565b6001600160e01b031916149150506200044a565b8251604114620003195760405162461bcd60e51b815260206004820152603a6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e677468000000000000606482015260840162000187565b620003236200046b565b506020830151604080850151855186939260009185919081106200034b576200034b620006c9565b016020015160f81c9050601b81148015906200036b57508060ff16601c14155b15620003cf5760405162461bcd60e51b815260206004820152603b6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c75650000000000606482015260840162000187565b6040805160008152602081018083528a905260ff83169181019190915260608101849052608081018390526001600160a01b038a169060019060a0016020604051602081039080840390855afa1580156200042e573d6000803e3d6000fd5b505050602060405103516001600160a01b031614955050505050505b9392505050565b60006020825110156200046357600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b03811681146200049f57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620004d5578181015183820152602001620004bb565b50506000910152565b600082601f830112620004f057600080fd5b81516001600160401b03808211156200050d576200050d620004a2565b604051601f8301601f19908116603f01168101908282118183101715620005385762000538620004a2565b816040528381528660208588010111156200055257600080fd5b62000565846020830160208901620004b8565b9695505050505050565b6000806000606084860312156200058557600080fd5b8351620005928162000489565b6020850151604086015191945092506001600160401b03811115620005b657600080fd5b620005c486828701620004de565b9150509250925092565b600080600060608486031215620005e457600080fd5b8351620005f18162000489565b60208501519093506001600160401b03808211156200060f57600080fd5b6200061d87838801620004de565b935060408601519150808211156200063457600080fd5b50620005c486828701620004de565b6000825162000657818460208701620004b8565b9190910192915050565b828152604060208201526000825180604084015262000688816060850160208701620004b8565b601f01601f1916919091016060019392505050565b600060208284031215620006b057600080fd5b81516001600160e01b0319811681146200044a57600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$3=BigInt(0),_1n$4=BigInt(1),_2n$2=BigInt(2),u8a=ee=>ee instanceof Uint8Array,hexes=Array.from({length:256},(ee,ne)=>ne.toString(16).padStart(2,"0"));function bytesToHex(ee){if(!u8a(ee))throw new Error("Uint8Array expected");let ne="";for(let oe=0;oe<ee.length;oe++)ne+=hexes[ee[oe]];return ne}function numberToHexUnpadded(ee){const ne=ee.toString(16);return ne.length&1?`0${ne}`:ne}function hexToNumber(ee){if(typeof ee!="string")throw new Error("hex string expected, got "+typeof ee);return BigInt(ee===""?"0":`0x${ee}`)}function hexToBytes(ee){if(typeof ee!="string")throw new Error("hex string expected, got "+typeof ee);const ne=ee.length;if(ne%2)throw new Error("padded hex string expected, got unpadded hex of length "+ne);const oe=new Uint8Array(ne/2);for(let ae=0;ae<oe.length;ae++){const de=ae*2,fe=ee.slice(de,de+2),pe=Number.parseInt(fe,16);if(Number.isNaN(pe)||pe<0)throw new Error("Invalid byte sequence");oe[ae]=pe}return oe}function bytesToNumberBE(ee){return hexToNumber(bytesToHex(ee))}function bytesToNumberLE(ee){if(!u8a(ee))throw new Error("Uint8Array expected");return hexToNumber(bytesToHex(Uint8Array.from(ee).reverse()))}function numberToBytesBE(ee,ne){return hexToBytes(ee.toString(16).padStart(ne*2,"0"))}function numberToBytesLE(ee,ne){return numberToBytesBE(ee,ne).reverse()}function numberToVarBytesBE(ee){return hexToBytes(numberToHexUnpadded(ee))}function ensureBytes(ee,ne,oe){let ae;if(typeof ne=="string")try{ae=hexToBytes(ne)}catch(fe){throw new Error(`${ee} must be valid hex string, got "${ne}". Cause: ${fe}`)}else if(u8a(ne))ae=Uint8Array.from(ne);else throw new Error(`${ee} must be hex string or Uint8Array`);const de=ae.length;if(typeof oe=="number"&&de!==oe)throw new Error(`${ee} expected ${oe} bytes, got ${de}`);return ae}function concatBytes(...ee){const ne=new Uint8Array(ee.reduce((ae,de)=>ae+de.length,0));let oe=0;return ee.forEach(ae=>{if(!u8a(ae))throw new Error("Uint8Array expected");ne.set(ae,oe),oe+=ae.length}),ne}function equalBytes(ee,ne){if(ee.length!==ne.length)return!1;for(let oe=0;oe<ee.length;oe++)if(ee[oe]!==ne[oe])return!1;return!0}function utf8ToBytes(ee){if(typeof ee!="string")throw new Error(`utf8ToBytes expected string, got ${typeof ee}`);return new Uint8Array(new TextEncoder().encode(ee))}function bitLen(ee){let ne;for(ne=0;ee>_0n$3;ee>>=_1n$4,ne+=1);return ne}function bitGet(ee,ne){return ee>>BigInt(ne)&_1n$4}const bitSet=(ee,ne,oe)=>ee|(oe?_1n$4:_0n$3)<<BigInt(ne),bitMask=ee=>(_2n$2<<BigInt(ee-1))-_1n$4,u8n=ee=>new Uint8Array(ee),u8fr=ee=>Uint8Array.from(ee);function createHmacDrbg(ee,ne,oe){if(typeof ee!="number"||ee<2)throw new Error("hashLen must be a number");if(typeof ne!="number"||ne<2)throw new Error("qByteLen must be a number");if(typeof oe!="function")throw new Error("hmacFn must be a function");let ae=u8n(ee),de=u8n(ee),fe=0;const pe=()=>{ae.fill(1),de.fill(0),fe=0},he=(...we)=>oe(de,ae,...we),be=(we=u8n())=>{de=he(u8fr([0]),we),ae=he(),we.length!==0&&(de=he(u8fr([1]),we),ae=he())},ge=()=>{if(fe++>=1e3)throw new Error("drbg: tried 1000 values");let we=0;const _e=[];for(;we<ne;){ae=he();const Te=ae.slice();_e.push(Te),we+=ae.length}return concatBytes(..._e)};return(we,_e)=>{pe(),be(we);let Te;for(;!(Te=_e(ge()));)be();return pe(),Te}}const validatorFns={bigint:ee=>typeof ee=="bigint",function:ee=>typeof ee=="function",boolean:ee=>typeof ee=="boolean",string:ee=>typeof ee=="string",stringOrUint8Array:ee=>typeof ee=="string"||ee instanceof Uint8Array,isSafeInteger:ee=>Number.isSafeInteger(ee),array:ee=>Array.isArray(ee),field:(ee,ne)=>ne.Fp.isValid(ee),hash:ee=>typeof ee=="function"&&Number.isSafeInteger(ee.outputLen)};function validateObject(ee,ne,oe={}){const ae=(de,fe,pe)=>{const he=validatorFns[fe];if(typeof he!="function")throw new Error(`Invalid validator "${fe}", expected function`);const be=ee[de];if(!(pe&&be===void 0)&&!he(be,ee))throw new Error(`Invalid param ${String(de)}=${be} (${typeof be}), expected ${fe}`)};for(const[de,fe]of Object.entries(ne))ae(de,fe,!1);for(const[de,fe]of Object.entries(oe))ae(de,fe,!0);return ee}const ut=Object.freeze(Object.defineProperty({__proto__:null,bitGet,bitLen,bitMask,bitSet,bytesToHex,bytesToNumberBE,bytesToNumberLE,concatBytes,createHmacDrbg,ensureBytes,equalBytes,hexToBytes,hexToNumber,numberToBytesBE,numberToBytesLE,numberToHexUnpadded,numberToVarBytesBE,utf8ToBytes,validateObject},Symbol.toStringTag,{value:"Module"}));function isBytesEqual(ee,ne){const oe=isHex(ee)?toBytes$1(ee):ee,ae=isHex(ne)?toBytes$1(ne):ne;return equalBytes(oe,ae)}async function verifyHash(ee,{address:ne,hash:oe,signature:ae,...de}){const fe=isHex(ae)?ae:toHex(ae);try{const{data:pe}=await call(ee,{data:encodeDeployData({abi:universalSignatureValidatorAbi,args:[ne,oe,fe],bytecode:universalSignatureValidatorByteCode}),...de});return isBytesEqual(pe??"0x0","0x1")}catch(pe){if(pe instanceof CallExecutionError)return!1;throw pe}}async function verifyMessage(ee,{address:ne,message:oe,signature:ae,...de}){const fe=hashMessage(oe);return verifyHash(ee,{address:ne,hash:fe,signature:ae,...de})}async function verifyTypedData(ee,{address:ne,signature:oe,message:ae,primaryType:de,types:fe,domain:pe,...he}){const be=hashTypedData({message:ae,primaryType:de,types:fe,domain:pe});return verifyHash(ee,{address:ne,hash:be,signature:oe,...he})}function watchBlockNumber(ee,{emitOnBegin:ne=!1,emitMissed:oe=!1,onBlockNumber:ae,onError:de,poll:fe,pollingInterval:pe=ee.pollingInterval}){const he=typeof fe<"u"?fe:ee.transport.type!=="webSocket";let be;return he?(()=>{const we=stringify(["watchBlockNumber",ee.uid,ne,oe,pe]);return observe(we,{onBlockNumber:ae,onError:de},_e=>poll(async()=>{try{const Te=await getBlockNumber(ee,{cacheTime:0});if(be){if(Te===be)return;if(Te-be>1&&oe)for(let Ee=be+1n;Ee<Te;Ee++)_e.onBlockNumber(Ee,be),be=Ee}(!be||Te>be)&&(_e.onBlockNumber(Te,be),be=Te)}catch(Te){_e.onError?.(Te)}},{emitOnBegin:ne,interval:pe}))})():(()=>{let we=!0,_e=()=>we=!1;return(async()=>{try{const{unsubscribe:Te}=await ee.transport.subscribe({params:["newHeads"],onData(Ee){if(!we)return;const Ie=hexToBigInt(Ee.result?.number);ae(Ie,be),be=Ie},onError(Ee){de?.(Ee)}});_e=Te,we||_e()}catch(Te){de?.(Te)}})(),_e})()}async function waitForTransactionReceipt(ee,{confirmations:ne=1,hash:oe,onReplaced:ae,pollingInterval:de=ee.pollingInterval,timeout:fe}){const pe=stringify(["waitForTransactionReceipt",ee.uid,oe]);let he,be,ge,ve=!1;return new Promise((we,_e)=>{fe&&setTimeout(()=>_e(new WaitForTransactionReceiptTimeoutError({hash:oe})),fe);const Te=observe(pe,{onReplaced:ae,resolve:we,reject:_e},Ee=>{const Ie=watchBlockNumber(ee,{emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:de,async onBlockNumber(Pe){if(ve)return;let xe=Pe;const Ae=$e=>{Ie(),$e(),Te()};try{if(ge){if(ne>1&&(!ge.blockNumber||xe-ge.blockNumber+1n<ne))return;Ae(()=>Ee.resolve(ge));return}if(he||(ve=!0,await withRetry(async()=>{he=await getTransaction(ee,{hash:oe}),he.blockNumber&&(xe=he.blockNumber)},{delay:({count:$e})=>~~(1<<$e)*200,retryCount:6}),ve=!1),ge=await getTransactionReceipt(ee,{hash:oe}),ne>1&&(!ge.blockNumber||xe-ge.blockNumber+1n<ne))return;Ae(()=>Ee.resolve(ge))}catch($e){if(he&&($e instanceof TransactionNotFoundError||$e instanceof TransactionReceiptNotFoundError))try{be=he;const Re=(await getBlock(ee,{blockNumber:xe,includeTransactions:!0})).transactions.find(({from:Ze,nonce:Fe})=>Ze===be.from&&Fe===be.nonce);if(!Re||(ge=await getTransactionReceipt(ee,{hash:Re.hash}),ne>1&&(!ge.blockNumber||xe-ge.blockNumber+1n<ne)))return;let Be="replaced";Re.to===be.to&&Re.value===be.value?Be="repriced":Re.from===Re.to&&Re.value===0n&&(Be="cancelled"),Ae(()=>{Ee.onReplaced?.({reason:Be,replacedTransaction:be,transaction:Re,transactionReceipt:ge}),Ee.resolve(ge)})}catch(Se){Ae(()=>Ee.reject(Se))}else Ae(()=>Ee.reject($e))}}})})})}function watchBlocks(ee,{blockTag:ne="latest",emitMissed:oe=!1,emitOnBegin:ae=!1,onBlock:de,onError:fe,includeTransactions:pe,poll:he,pollingInterval:be=ee.pollingInterval}){const ge=typeof he<"u"?he:ee.transport.type!=="webSocket",ve=pe??!1;let we;return ge?(()=>{const Ee=stringify(["watchBlocks",ee.uid,oe,ae,ve,be]);return observe(Ee,{onBlock:de,onError:fe},Ie=>poll(async()=>{try{const Pe=await getBlock(ee,{blockTag:ne,includeTransactions:ve});if(Pe.number&&we?.number){if(Pe.number===we.number)return;if(Pe.number-we.number>1&&oe)for(let xe=we?.number+1n;xe<Pe.number;xe++){const Ae=await getBlock(ee,{blockNumber:xe,includeTransactions:ve});Ie.onBlock(Ae,we),we=Ae}}(!we?.number||ne==="pending"&&!Pe?.number||Pe.number&&Pe.number>we.number)&&(Ie.onBlock(Pe,we),we=Pe)}catch(Pe){Ie.onError?.(Pe)}},{emitOnBegin:ae,interval:be}))})():(()=>{let Ee=!0,Ie=()=>Ee=!1;return(async()=>{try{const{unsubscribe:Pe}=await ee.transport.subscribe({params:["newHeads"],onData(xe){if(!Ee)return;const $e=(ee.chain?.formatters?.block?.format||formatBlock)(xe.result);de($e,we),we=$e},onError(xe){fe?.(xe)}});Ie=Pe,Ee||Ie()}catch(Pe){fe?.(Pe)}})(),Ie})()}function watchEvent(ee,{address:ne,args:oe,batch:ae=!0,event:de,events:fe,onError:pe,onLogs:he,poll:be,pollingInterval:ge=ee.pollingInterval,strict:ve}){const we=typeof be<"u"?be:ee.transport.type!=="webSocket",_e=ve??!1;return we?(()=>{const Ie=stringify(["watchEvent",ne,oe,ae,ee.uid,de,ge]);return observe(Ie,{onLogs:he,onError:pe},Pe=>{let xe,Ae,$e=!1;const Se=poll(async()=>{if(!$e){try{Ae=await createEventFilter(ee,{address:ne,args:oe,event:de,events:fe,strict:_e})}catch{}$e=!0;return}try{let Re;if(Ae)Re=await getFilterChanges(ee,{filter:Ae});else{const Be=await getBlockNumber(ee);xe&&xe!==Be?Re=await getLogs(ee,{address:ne,args:oe,event:de,events:fe,fromBlock:xe+1n,toBlock:Be}):Re=[],xe=Be}if(Re.length===0)return;ae?Pe.onLogs(Re):Re.forEach(Be=>Pe.onLogs([Be]))}catch(Re){Ae&&Re instanceof InvalidInputRpcError&&($e=!1),Pe.onError?.(Re)}},{emitOnBegin:!0,interval:ge});return async()=>{Ae&&await uninstallFilter(ee,{filter:Ae}),Se()}})})():(()=>{let Ie=!0,Pe=()=>Ie=!1;return(async()=>{try{const xe=fe??(de?[de]:void 0);let Ae=[];xe&&(Ae=[xe.flatMap(Se=>encodeEventTopics({abi:[Se],eventName:Se.name,args:oe}))],de&&(Ae=Ae[0]));const{unsubscribe:$e}=await ee.transport.subscribe({params:["logs",{address:ne,topics:Ae}],onData(Se){if(!Ie)return;const Re=Se.result;try{const{eventName:Be,args:Ze}=decodeEventLog({abi:xe,data:Re.data,topics:Re.topics,strict:_e}),Fe=formatLog(Re,{args:Ze,eventName:Be});he([Fe])}catch(Be){let Ze,Fe;if(Be instanceof DecodeLogDataMismatch||Be instanceof DecodeLogTopicsMismatch){if(ve)return;Ze=Be.abiItem.name,Fe=Be.abiItem.inputs?.some(ze=>!("name"in ze&&ze.name))}const He=formatLog(Re,{args:Fe?[]:{},eventName:Ze});he([He])}},onError(Se){pe?.(Se)}});Pe=$e,Ie||Pe()}catch(xe){pe?.(xe)}})(),Pe})()}function watchPendingTransactions(ee,{batch:ne=!0,onError:oe,onTransactions:ae,poll:de,pollingInterval:fe=ee.pollingInterval}){return(typeof de<"u"?de:ee.transport.type!=="webSocket")?(()=>{const ge=stringify(["watchPendingTransactions",ee.uid,ne,fe]);return observe(ge,{onTransactions:ae,onError:oe},ve=>{let we;const _e=poll(async()=>{try{if(!we)try{we=await createPendingTransactionFilter(ee);return}catch(Ee){throw _e(),Ee}const Te=await getFilterChanges(ee,{filter:we});if(Te.length===0)return;ne?ve.onTransactions(Te):Te.forEach(Ee=>ve.onTransactions([Ee]))}catch(Te){ve.onError?.(Te)}},{emitOnBegin:!0,interval:fe});return async()=>{we&&await uninstallFilter(ee,{filter:we}),_e()}})})():(()=>{let ge=!0,ve=()=>ge=!1;return(async()=>{try{const{unsubscribe:we}=await ee.transport.subscribe({params:["newPendingTransactions"],onData(_e){if(!ge)return;const Te=_e.result;ae([Te])},onError(_e){oe?.(_e)}});ve=we,ge||ve()}catch(we){oe?.(we)}})(),ve})()}function publicActions(ee){return{call:ne=>call(ee,ne),createBlockFilter:()=>createBlockFilter(ee),createContractEventFilter:ne=>createContractEventFilter(ee,ne),createEventFilter:ne=>createEventFilter(ee,ne),createPendingTransactionFilter:()=>createPendingTransactionFilter(ee),estimateContractGas:ne=>estimateContractGas(ee,ne),estimateGas:ne=>estimateGas(ee,ne),getBalance:ne=>getBalance(ee,ne),getBlock:ne=>getBlock(ee,ne),getBlockNumber:ne=>getBlockNumber(ee,ne),getBlockTransactionCount:ne=>getBlockTransactionCount(ee,ne),getBytecode:ne=>getBytecode(ee,ne),getChainId:()=>getChainId(ee),getContractEvents:ne=>getContractEvents(ee,ne),getEnsAddress:ne=>getEnsAddress(ee,ne),getEnsAvatar:ne=>getEnsAvatar(ee,ne),getEnsName:ne=>getEnsName(ee,ne),getEnsResolver:ne=>getEnsResolver(ee,ne),getEnsText:ne=>getEnsText(ee,ne),getFeeHistory:ne=>getFeeHistory(ee,ne),estimateFeesPerGas:ne=>estimateFeesPerGas(ee,ne),getFilterChanges:ne=>getFilterChanges(ee,ne),getFilterLogs:ne=>getFilterLogs(ee,ne),getGasPrice:()=>getGasPrice(ee),getLogs:ne=>getLogs(ee,ne),estimateMaxPriorityFeePerGas:ne=>estimateMaxPriorityFeePerGas(ee,ne),getStorageAt:ne=>getStorageAt(ee,ne),getTransaction:ne=>getTransaction(ee,ne),getTransactionConfirmations:ne=>getTransactionConfirmations(ee,ne),getTransactionCount:ne=>getTransactionCount(ee,ne),getTransactionReceipt:ne=>getTransactionReceipt(ee,ne),multicall:ne=>multicall(ee,ne),prepareTransactionRequest:ne=>prepareTransactionRequest(ee,ne),readContract:ne=>readContract(ee,ne),sendRawTransaction:ne=>sendRawTransaction(ee,ne),simulateContract:ne=>simulateContract(ee,ne),verifyMessage:ne=>verifyMessage(ee,ne),verifyTypedData:ne=>verifyTypedData(ee,ne),uninstallFilter:ne=>uninstallFilter(ee,ne),waitForTransactionReceipt:ne=>waitForTransactionReceipt(ee,ne),watchBlocks:ne=>watchBlocks(ee,ne),watchBlockNumber:ne=>watchBlockNumber(ee,ne),watchContractEvent:ne=>watchContractEvent(ee,ne),watchEvent:ne=>watchEvent(ee,ne),watchPendingTransactions:ne=>watchPendingTransactions(ee,ne)}}function createPublicClient(ee){const{key:ne="public",name:oe="Public Client"}=ee;return createClient$1({...ee,key:ne,name:oe,type:"publicClient"}).extend(publicActions)}function deployContract(ee,{abi:ne,args:oe,bytecode:ae,...de}){const fe=encodeDeployData({abi:ne,args:oe,bytecode:ae});return sendTransaction(ee,{...de,data:fe})}async function getAddresses(ee){return(await ee.request({method:"eth_accounts"})).map(oe=>checksumAddress(oe))}async function getPermissions(ee){return await ee.request({method:"wallet_getPermissions"})}async function requestAddresses(ee){return(await ee.request({method:"eth_requestAccounts"})).map(oe=>getAddress(oe))}async function requestPermissions(ee,ne){return ee.request({method:"wallet_requestPermissions",params:[ne]})}async function signMessage$1(ee,{account:ne=ee.account,message:oe}){if(!ne)throw new AccountNotFoundError({docsPath:"/docs/actions/wallet/signMessage"});const ae=parseAccount(ne);if(ae.type==="local")return ae.signMessage({message:oe});const de=(()=>typeof oe=="string"?stringToHex(oe):oe.raw instanceof Uint8Array?toHex(oe.raw):oe.raw)();return ee.request({method:"personal_sign",params:[de,ae.address]})}async function signTransaction$1(ee,ne){const{account:oe=ee.account,chain:ae=ee.chain,...de}=ne;if(!oe)throw new AccountNotFoundError({docsPath:"/docs/actions/wallet/signTransaction"});const fe=parseAccount(oe);assertRequest({account:fe,...ne});const pe=await getChainId(ee);ae!==null&&assertCurrentChain({currentChainId:pe,chain:ae});const be=(ae?.formatters||ee.chain?.formatters)?.transactionRequest?.format||formatTransactionRequest;return fe.type==="local"?fe.signTransaction({chainId:pe,...de},{serializer:ee.chain?.serializers?.transaction}):await ee.request({method:"eth_signTransaction",params:[{...be(de),chainId:numberToHex(pe),from:fe.address}]})}async function signTypedData$1(ee,{account:ne=ee.account,domain:oe,message:ae,primaryType:de,types:fe}){if(!ne)throw new AccountNotFoundError({docsPath:"/docs/actions/wallet/signTypedData"});const pe=parseAccount(ne),he={EIP712Domain:getTypesForEIP712Domain({domain:oe}),...fe};if(validateTypedData({domain:oe,message:ae,primaryType:de,types:he}),pe.type==="local")return pe.signTypedData({domain:oe,primaryType:de,types:he,message:ae});const be=stringify({domain:oe??{},primaryType:de,types:he,message:ae},(ge,ve)=>isHex(ve)?ve.toLowerCase():ve);return ee.request({method:"eth_signTypedData_v4",params:[pe.address,be]})}async function switchChain(ee,{id:ne}){await ee.request({method:"wallet_switchEthereumChain",params:[{chainId:numberToHex(ne)}]})}async function watchAsset(ee,ne){return await ee.request({method:"wallet_watchAsset",params:ne})}function walletActions(ee){return{addChain:ne=>addChain(ee,ne),deployContract:ne=>deployContract(ee,ne),getAddresses:()=>getAddresses(ee),getChainId:()=>getChainId(ee),getPermissions:()=>getPermissions(ee),prepareTransactionRequest:ne=>prepareTransactionRequest(ee,ne),requestAddresses:()=>requestAddresses(ee),requestPermissions:ne=>requestPermissions(ee,ne),sendRawTransaction:ne=>sendRawTransaction(ee,ne),sendTransaction:ne=>sendTransaction(ee,ne),signMessage:ne=>signMessage$1(ee,ne),signTransaction:ne=>signTransaction$1(ee,ne),signTypedData:ne=>signTypedData$1(ee,ne),switchChain:ne=>switchChain(ee,ne),watchAsset:ne=>watchAsset(ee,ne),writeContract:ne=>writeContract(ee,ne)}}function createWalletClient(ee){const{key:ne="wallet",name:oe="Wallet Client",transport:ae}=ee;return createClient$1({...ee,key:ne,name:oe,transport:fe=>ae({...fe,retryCount:0}),type:"walletClient"}).extend(walletActions)}function webSocket(ee,ne={}){const{key:oe="webSocket",name:ae="WebSocket JSON-RPC",retryDelay:de}=ne;return({chain:fe,retryCount:pe,timeout:he})=>{const be=ne.retryCount??pe,ge=he??ne.timeout??1e4,ve=ee||fe?.rpcUrls.default.webSocket?.[0];if(!ve)throw new UrlRequiredError;return createTransport({key:oe,name:ae,async request({method:we,params:_e}){const Te={method:we,params:_e},Ee=await getSocket(ve),{error:Ie,result:Pe}=await rpc$1.webSocketAsync(Ee,{body:Te,timeout:ge});if(Ie)throw new RpcRequestError({body:Te,error:Ie,url:ve});return Pe},retryCount:be,retryDelay:de,timeout:ge,type:"webSocket"},{getSocket(){return getSocket(ve)},async subscribe({params:we,onData:_e,onError:Te}){const Ee=await getSocket(ve),{result:Ie}=await new Promise((Pe,xe)=>rpc$1.webSocket(Ee,{body:{method:"eth_subscribe",params:we},onResponse(Ae){if(Ae.error){xe(Ae.error),Te?.(Ae.error);return}if(typeof Ae.id=="number"){Pe(Ae);return}Ae.method==="eth_subscription"&&_e(Ae.params)}}));return{subscriptionId:Ie,async unsubscribe(){return new Promise(Pe=>rpc$1.webSocket(Ee,{body:{method:"eth_unsubscribe",params:[Ie]},onResponse:Pe}))}}}})}}function setBigUint64(ee,ne,oe,ae){if(typeof ee.setBigUint64=="function")return ee.setBigUint64(ne,oe,ae);const de=BigInt(32),fe=BigInt(4294967295),pe=Number(oe>>de&fe),he=Number(oe&fe),be=ae?4:0,ge=ae?0:4;ee.setUint32(ne+be,pe,ae),ee.setUint32(ne+ge,he,ae)}class SHA2 extends Hash{constructor(ne,oe,ae,de){super(),this.blockLen=ne,this.outputLen=oe,this.padOffset=ae,this.isLE=de,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(ne),this.view=createView(this.buffer)}update(ne){exists(this);const{view:oe,buffer:ae,blockLen:de}=this;ne=toBytes(ne);const fe=ne.length;for(let pe=0;pe<fe;){const he=Math.min(de-this.pos,fe-pe);if(he===de){const be=createView(ne);for(;de<=fe-pe;pe+=de)this.process(be,pe);continue}ae.set(ne.subarray(pe,pe+he),this.pos),this.pos+=he,pe+=he,this.pos===de&&(this.process(oe,0),this.pos=0)}return this.length+=ne.length,this.roundClean(),this}digestInto(ne){exists(this),output(ne,this),this.finished=!0;const{buffer:oe,view:ae,blockLen:de,isLE:fe}=this;let{pos:pe}=this;oe[pe++]=128,this.buffer.subarray(pe).fill(0),this.padOffset>de-pe&&(this.process(ae,0),pe=0);for(let we=pe;we<de;we++)oe[we]=0;setBigUint64(ae,de-8,BigInt(this.length*8),fe),this.process(ae,0);const he=createView(ne),be=this.outputLen;if(be%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const ge=be/4,ve=this.get();if(ge>ve.length)throw new Error("_sha2: outputLen bigger than state");for(let we=0;we<ge;we++)he.setUint32(4*we,ve[we],fe)}digest(){const{buffer:ne,outputLen:oe}=this;this.digestInto(ne);const ae=ne.slice(0,oe);return this.destroy(),ae}_cloneInto(ne){ne||(ne=new this.constructor),ne.set(...this.get());const{blockLen:oe,buffer:ae,length:de,finished:fe,destroyed:pe,pos:he}=this;return ne.length=de,ne.pos=he,ne.finished=fe,ne.destroyed=pe,de%oe&&ne.buffer.set(ae),ne}}const Chi=(ee,ne,oe)=>ee&ne^~ee&oe,Maj=(ee,ne,oe)=>ee&ne^ee&oe^ne&oe,SHA256_K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W=new Uint32Array(64);class SHA256 extends SHA2{constructor(){super(64,32,8,!1),this.A=IV[0]|0,this.B=IV[1]|0,this.C=IV[2]|0,this.D=IV[3]|0,this.E=IV[4]|0,this.F=IV[5]|0,this.G=IV[6]|0,this.H=IV[7]|0}get(){const{A:ne,B:oe,C:ae,D:de,E:fe,F:pe,G:he,H:be}=this;return[ne,oe,ae,de,fe,pe,he,be]}set(ne,oe,ae,de,fe,pe,he,be){this.A=ne|0,this.B=oe|0,this.C=ae|0,this.D=de|0,this.E=fe|0,this.F=pe|0,this.G=he|0,this.H=be|0}process(ne,oe){for(let we=0;we<16;we++,oe+=4)SHA256_W[we]=ne.getUint32(oe,!1);for(let we=16;we<64;we++){const _e=SHA256_W[we-15],Te=SHA256_W[we-2],Ee=rotr(_e,7)^rotr(_e,18)^_e>>>3,Ie=rotr(Te,17)^rotr(Te,19)^Te>>>10;SHA256_W[we]=Ie+SHA256_W[we-7]+Ee+SHA256_W[we-16]|0}let{A:ae,B:de,C:fe,D:pe,E:he,F:be,G:ge,H:ve}=this;for(let we=0;we<64;we++){const _e=rotr(he,6)^rotr(he,11)^rotr(he,25),Te=ve+_e+Chi(he,be,ge)+SHA256_K[we]+SHA256_W[we]|0,Ie=(rotr(ae,2)^rotr(ae,13)^rotr(ae,22))+Maj(ae,de,fe)|0;ve=ge,ge=be,be=he,he=pe+Te|0,pe=fe,fe=de,de=ae,ae=Te+Ie|0}ae=ae+this.A|0,de=de+this.B|0,fe=fe+this.C|0,pe=pe+this.D|0,he=he+this.E|0,be=be+this.F|0,ge=ge+this.G|0,ve=ve+this.H|0,this.set(ae,de,fe,pe,he,be,ge,ve)}roundClean(){SHA256_W.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const sha256=wrapConstructor(()=>new SHA256);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$2=BigInt(0),_1n$3=BigInt(1),_2n$1=BigInt(2),_3n$1=BigInt(3),_4n=BigInt(4),_5n=BigInt(5),_8n=BigInt(8);BigInt(9);BigInt(16);function mod(ee,ne){const oe=ee%ne;return oe>=_0n$2?oe:ne+oe}function pow(ee,ne,oe){if(oe<=_0n$2||ne<_0n$2)throw new Error("Expected power/modulo > 0");if(oe===_1n$3)return _0n$2;let ae=_1n$3;for(;ne>_0n$2;)ne&_1n$3&&(ae=ae*ee%oe),ee=ee*ee%oe,ne>>=_1n$3;return ae}function pow2(ee,ne,oe){let ae=ee;for(;ne-- >_0n$2;)ae*=ae,ae%=oe;return ae}function invert$1(ee,ne){if(ee===_0n$2||ne<=_0n$2)throw new Error(`invert: expected positive integers, got n=${ee} mod=${ne}`);let oe=mod(ee,ne),ae=ne,de=_0n$2,fe=_1n$3;for(;oe!==_0n$2;){const he=ae/oe,be=ae%oe,ge=de-fe*he;ae=oe,oe=be,de=fe,fe=ge}if(ae!==_1n$3)throw new Error("invert: does not exist");return mod(de,ne)}function tonelliShanks(ee){const ne=(ee-_1n$3)/_2n$1;let oe,ae,de;for(oe=ee-_1n$3,ae=0;oe%_2n$1===_0n$2;oe/=_2n$1,ae++);for(de=_2n$1;de<ee&&pow(de,ne,ee)!==ee-_1n$3;de++);if(ae===1){const pe=(ee+_1n$3)/_4n;return function(be,ge){const ve=be.pow(ge,pe);if(!be.eql(be.sqr(ve),ge))throw new Error("Cannot find square root");return ve}}const fe=(oe+_1n$3)/_2n$1;return function(he,be){if(he.pow(be,ne)===he.neg(he.ONE))throw new Error("Cannot find square root");let ge=ae,ve=he.pow(he.mul(he.ONE,de),oe),we=he.pow(be,fe),_e=he.pow(be,oe);for(;!he.eql(_e,he.ONE);){if(he.eql(_e,he.ZERO))return he.ZERO;let Te=1;for(let Ie=he.sqr(_e);Te<ge&&!he.eql(Ie,he.ONE);Te++)Ie=he.sqr(Ie);const Ee=he.pow(ve,_1n$3<<BigInt(ge-Te-1));ve=he.sqr(Ee),we=he.mul(we,Ee),_e=he.mul(_e,ve),ge=Te}return we}}function FpSqrt(ee){if(ee%_4n===_3n$1){const ne=(ee+_1n$3)/_4n;return function(ae,de){const fe=ae.pow(de,ne);if(!ae.eql(ae.sqr(fe),de))throw new Error("Cannot find square root");return fe}}if(ee%_8n===_5n){const ne=(ee-_5n)/_8n;return function(ae,de){const fe=ae.mul(de,_2n$1),pe=ae.pow(fe,ne),he=ae.mul(de,pe),be=ae.mul(ae.mul(he,_2n$1),pe),ge=ae.mul(he,ae.sub(be,ae.ONE));if(!ae.eql(ae.sqr(ge),de))throw new Error("Cannot find square root");return ge}}return tonelliShanks(ee)}const FIELD_FIELDS=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function validateField(ee){const ne={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},oe=FIELD_FIELDS.reduce((ae,de)=>(ae[de]="function",ae),ne);return validateObject(ee,oe)}function FpPow(ee,ne,oe){if(oe<_0n$2)throw new Error("Expected power > 0");if(oe===_0n$2)return ee.ONE;if(oe===_1n$3)return ne;let ae=ee.ONE,de=ne;for(;oe>_0n$2;)oe&_1n$3&&(ae=ee.mul(ae,de)),de=ee.sqr(de),oe>>=_1n$3;return ae}function FpInvertBatch(ee,ne){const oe=new Array(ne.length),ae=ne.reduce((fe,pe,he)=>ee.is0(pe)?fe:(oe[he]=fe,ee.mul(fe,pe)),ee.ONE),de=ee.inv(ae);return ne.reduceRight((fe,pe,he)=>ee.is0(pe)?fe:(oe[he]=ee.mul(fe,oe[he]),ee.mul(fe,pe)),de),oe}function nLength(ee,ne){const oe=ne!==void 0?ne:ee.toString(2).length,ae=Math.ceil(oe/8);return{nBitLength:oe,nByteLength:ae}}function Field(ee,ne,oe=!1,ae={}){if(ee<=_0n$2)throw new Error(`Expected Field ORDER > 0, got ${ee}`);const{nBitLength:de,nByteLength:fe}=nLength(ee,ne);if(fe>2048)throw new Error("Field lengths over 2048 bytes are not supported");const pe=FpSqrt(ee),he=Object.freeze({ORDER:ee,BITS:de,BYTES:fe,MASK:bitMask(de),ZERO:_0n$2,ONE:_1n$3,create:be=>mod(be,ee),isValid:be=>{if(typeof be!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof be}`);return _0n$2<=be&&be<ee},is0:be=>be===_0n$2,isOdd:be=>(be&_1n$3)===_1n$3,neg:be=>mod(-be,ee),eql:(be,ge)=>be===ge,sqr:be=>mod(be*be,ee),add:(be,ge)=>mod(be+ge,ee),sub:(be,ge)=>mod(be-ge,ee),mul:(be,ge)=>mod(be*ge,ee),pow:(be,ge)=>FpPow(he,be,ge),div:(be,ge)=>mod(be*invert$1(ge,ee),ee),sqrN:be=>be*be,addN:(be,ge)=>be+ge,subN:(be,ge)=>be-ge,mulN:(be,ge)=>be*ge,inv:be=>invert$1(be,ee),sqrt:ae.sqrt||(be=>pe(he,be)),invertBatch:be=>FpInvertBatch(he,be),cmov:(be,ge,ve)=>ve?ge:be,toBytes:be=>oe?numberToBytesLE(be,fe):numberToBytesBE(be,fe),fromBytes:be=>{if(be.length!==fe)throw new Error(`Fp.fromBytes: expected ${fe}, got ${be.length}`);return oe?bytesToNumberLE(be):bytesToNumberBE(be)}});return Object.freeze(he)}function getFieldBytesLength(ee){if(typeof ee!="bigint")throw new Error("field order must be bigint");const ne=ee.toString(2).length;return Math.ceil(ne/8)}function getMinHashLength(ee){const ne=getFieldBytesLength(ee);return ne+Math.ceil(ne/2)}function mapHashToField(ee,ne,oe=!1){const ae=ee.length,de=getFieldBytesLength(ne),fe=getMinHashLength(ne);if(ae<16||ae<fe||ae>1024)throw new Error(`expected ${fe}-1024 bytes of input, got ${ae}`);const pe=oe?bytesToNumberBE(ee):bytesToNumberLE(ee),he=mod(pe,ne-_1n$3)+_1n$3;return oe?numberToBytesLE(he,de):numberToBytesBE(he,de)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$1=BigInt(0),_1n$2=BigInt(1);function wNAF(ee,ne){const oe=(de,fe)=>{const pe=fe.negate();return de?pe:fe},ae=de=>{const fe=Math.ceil(ne/de)+1,pe=2**(de-1);return{windows:fe,windowSize:pe}};return{constTimeNegate:oe,unsafeLadder(de,fe){let pe=ee.ZERO,he=de;for(;fe>_0n$1;)fe&_1n$2&&(pe=pe.add(he)),he=he.double(),fe>>=_1n$2;return pe},precomputeWindow(de,fe){const{windows:pe,windowSize:he}=ae(fe),be=[];let ge=de,ve=ge;for(let we=0;we<pe;we++){ve=ge,be.push(ve);for(let _e=1;_e<he;_e++)ve=ve.add(ge),be.push(ve);ge=ve.double()}return be},wNAF(de,fe,pe){const{windows:he,windowSize:be}=ae(de);let ge=ee.ZERO,ve=ee.BASE;const we=BigInt(2**de-1),_e=2**de,Te=BigInt(de);for(let Ee=0;Ee<he;Ee++){const Ie=Ee*be;let Pe=Number(pe&we);pe>>=Te,Pe>be&&(Pe-=_e,pe+=_1n$2);const xe=Ie,Ae=Ie+Math.abs(Pe)-1,$e=Ee%2!==0,Se=Pe<0;Pe===0?ve=ve.add(oe($e,fe[xe])):ge=ge.add(oe(Se,fe[Ae]))}return{p:ge,f:ve}},wNAFCached(de,fe,pe,he){const be=de._WINDOW_SIZE||1;let ge=fe.get(de);return ge||(ge=this.precomputeWindow(de,be),be!==1&&fe.set(de,he(ge))),this.wNAF(be,ge,pe)}}}function validateBasic(ee){return validateField(ee.Fp),validateObject(ee,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nLength(ee.n,ee.nBitLength),...ee,p:ee.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function validatePointOpts(ee){const ne=validateBasic(ee);validateObject(ne,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:oe,Fp:ae,a:de}=ne;if(oe){if(!ae.eql(de,ae.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof oe!="object"||typeof oe.beta!="bigint"||typeof oe.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...ne})}const{bytesToNumberBE:b2n,hexToBytes:h2b}=ut,DER={Err:class extends Error{constructor(ne=""){super(ne)}},_parseInt(ee){const{Err:ne}=DER;if(ee.length<2||ee[0]!==2)throw new ne("Invalid signature integer tag");const oe=ee[1],ae=ee.subarray(2,oe+2);if(!oe||ae.length!==oe)throw new ne("Invalid signature integer: wrong length");if(ae[0]&128)throw new ne("Invalid signature integer: negative");if(ae[0]===0&&!(ae[1]&128))throw new ne("Invalid signature integer: unnecessary leading zero");return{d:b2n(ae),l:ee.subarray(oe+2)}},toSig(ee){const{Err:ne}=DER,oe=typeof ee=="string"?h2b(ee):ee;if(!(oe instanceof Uint8Array))throw new Error("ui8a expected");let ae=oe.length;if(ae<2||oe[0]!=48)throw new ne("Invalid signature tag");if(oe[1]!==ae-2)throw new ne("Invalid signature: incorrect length");const{d:de,l:fe}=DER._parseInt(oe.subarray(2)),{d:pe,l:he}=DER._parseInt(fe);if(he.length)throw new ne("Invalid signature: left bytes after parsing");return{r:de,s:pe}},hexFromSig(ee){const ne=ge=>Number.parseInt(ge[0],16)&8?"00"+ge:ge,oe=ge=>{const ve=ge.toString(16);return ve.length&1?`0${ve}`:ve},ae=ne(oe(ee.s)),de=ne(oe(ee.r)),fe=ae.length/2,pe=de.length/2,he=oe(fe),be=oe(pe);return`30${oe(pe+fe+4)}02${be}${de}02${he}${ae}`}},_0n=BigInt(0),_1n$1=BigInt(1);BigInt(2);const _3n=BigInt(3);BigInt(4);function weierstrassPoints(ee){const ne=validatePointOpts(ee),{Fp:oe}=ne,ae=ne.toBytes||((Ee,Ie,Pe)=>{const xe=Ie.toAffine();return concatBytes(Uint8Array.from([4]),oe.toBytes(xe.x),oe.toBytes(xe.y))}),de=ne.fromBytes||(Ee=>{const Ie=Ee.subarray(1),Pe=oe.fromBytes(Ie.subarray(0,oe.BYTES)),xe=oe.fromBytes(Ie.subarray(oe.BYTES,2*oe.BYTES));return{x:Pe,y:xe}});function fe(Ee){const{a:Ie,b:Pe}=ne,xe=oe.sqr(Ee),Ae=oe.mul(xe,Ee);return oe.add(oe.add(Ae,oe.mul(Ee,Ie)),Pe)}if(!oe.eql(oe.sqr(ne.Gy),fe(ne.Gx)))throw new Error("bad generator point: equation left != right");function pe(Ee){return typeof Ee=="bigint"&&_0n<Ee&&Ee<ne.n}function he(Ee){if(!pe(Ee))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function be(Ee){const{allowedPrivateKeyLengths:Ie,nByteLength:Pe,wrapPrivateKey:xe,n:Ae}=ne;if(Ie&&typeof Ee!="bigint"){if(Ee instanceof Uint8Array&&(Ee=bytesToHex(Ee)),typeof Ee!="string"||!Ie.includes(Ee.length))throw new Error("Invalid key");Ee=Ee.padStart(Pe*2,"0")}let $e;try{$e=typeof Ee=="bigint"?Ee:bytesToNumberBE(ensureBytes("private key",Ee,Pe))}catch{throw new Error(`private key must be ${Pe} bytes, hex or bigint, not ${typeof Ee}`)}return xe&&($e=mod($e,Ae)),he($e),$e}const ge=new Map;function ve(Ee){if(!(Ee instanceof we))throw new Error("ProjectivePoint expected")}class we{constructor(Ie,Pe,xe){if(this.px=Ie,this.py=Pe,this.pz=xe,Ie==null||!oe.isValid(Ie))throw new Error("x required");if(Pe==null||!oe.isValid(Pe))throw new Error("y required");if(xe==null||!oe.isValid(xe))throw new Error("z required")}static fromAffine(Ie){const{x:Pe,y:xe}=Ie||{};if(!Ie||!oe.isValid(Pe)||!oe.isValid(xe))throw new Error("invalid affine point");if(Ie instanceof we)throw new Error("projective point not allowed");const Ae=$e=>oe.eql($e,oe.ZERO);return Ae(Pe)&&Ae(xe)?we.ZERO:new we(Pe,xe,oe.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(Ie){const Pe=oe.invertBatch(Ie.map(xe=>xe.pz));return Ie.map((xe,Ae)=>xe.toAffine(Pe[Ae])).map(we.fromAffine)}static fromHex(Ie){const Pe=we.fromAffine(de(ensureBytes("pointHex",Ie)));return Pe.assertValidity(),Pe}static fromPrivateKey(Ie){return we.BASE.multiply(be(Ie))}_setWindowSize(Ie){this._WINDOW_SIZE=Ie,ge.delete(this)}assertValidity(){if(this.is0()){if(ne.allowInfinityPoint&&!oe.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:Ie,y:Pe}=this.toAffine();if(!oe.isValid(Ie)||!oe.isValid(Pe))throw new Error("bad point: x or y not FE");const xe=oe.sqr(Pe),Ae=fe(Ie);if(!oe.eql(xe,Ae))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:Ie}=this.toAffine();if(oe.isOdd)return!oe.isOdd(Ie);throw new Error("Field doesn't support isOdd")}equals(Ie){ve(Ie);const{px:Pe,py:xe,pz:Ae}=this,{px:$e,py:Se,pz:Re}=Ie,Be=oe.eql(oe.mul(Pe,Re),oe.mul($e,Ae)),Ze=oe.eql(oe.mul(xe,Re),oe.mul(Se,Ae));return Be&&Ze}negate(){return new we(this.px,oe.neg(this.py),this.pz)}double(){const{a:Ie,b:Pe}=ne,xe=oe.mul(Pe,_3n),{px:Ae,py:$e,pz:Se}=this;let Re=oe.ZERO,Be=oe.ZERO,Ze=oe.ZERO,Fe=oe.mul(Ae,Ae),He=oe.mul($e,$e),ze=oe.mul(Se,Se),je=oe.mul(Ae,$e);return je=oe.add(je,je),Ze=oe.mul(Ae,Se),Ze=oe.add(Ze,Ze),Re=oe.mul(Ie,Ze),Be=oe.mul(xe,ze),Be=oe.add(Re,Be),Re=oe.sub(He,Be),Be=oe.add(He,Be),Be=oe.mul(Re,Be),Re=oe.mul(je,Re),Ze=oe.mul(xe,Ze),ze=oe.mul(Ie,ze),je=oe.sub(Fe,ze),je=oe.mul(Ie,je),je=oe.add(je,Ze),Ze=oe.add(Fe,Fe),Fe=oe.add(Ze,Fe),Fe=oe.add(Fe,ze),Fe=oe.mul(Fe,je),Be=oe.add(Be,Fe),ze=oe.mul($e,Se),ze=oe.add(ze,ze),Fe=oe.mul(ze,je),Re=oe.sub(Re,Fe),Ze=oe.mul(ze,He),Ze=oe.add(Ze,Ze),Ze=oe.add(Ze,Ze),new we(Re,Be,Ze)}add(Ie){ve(Ie);const{px:Pe,py:xe,pz:Ae}=this,{px:$e,py:Se,pz:Re}=Ie;let Be=oe.ZERO,Ze=oe.ZERO,Fe=oe.ZERO;const He=ne.a,ze=oe.mul(ne.b,_3n);let je=oe.mul(Pe,$e),Ye=oe.mul(xe,Se),Qe=oe.mul(Ae,Re),tt=oe.add(Pe,xe),Me=oe.add($e,Se);tt=oe.mul(tt,Me),Me=oe.add(je,Ye),tt=oe.sub(tt,Me),Me=oe.add(Pe,Ae);let Le=oe.add($e,Re);return Me=oe.mul(Me,Le),Le=oe.add(je,Qe),Me=oe.sub(Me,Le),Le=oe.add(xe,Ae),Be=oe.add(Se,Re),Le=oe.mul(Le,Be),Be=oe.add(Ye,Qe),Le=oe.sub(Le,Be),Fe=oe.mul(He,Me),Be=oe.mul(ze,Qe),Fe=oe.add(Be,Fe),Be=oe.sub(Ye,Fe),Fe=oe.add(Ye,Fe),Ze=oe.mul(Be,Fe),Ye=oe.add(je,je),Ye=oe.add(Ye,je),Qe=oe.mul(He,Qe),Me=oe.mul(ze,Me),Ye=oe.add(Ye,Qe),Qe=oe.sub(je,Qe),Qe=oe.mul(He,Qe),Me=oe.add(Me,Qe),je=oe.mul(Ye,Me),Ze=oe.add(Ze,je),je=oe.mul(Le,Me),Be=oe.mul(tt,Be),Be=oe.sub(Be,je),je=oe.mul(tt,Ye),Fe=oe.mul(Le,Fe),Fe=oe.add(Fe,je),new we(Be,Ze,Fe)}subtract(Ie){return this.add(Ie.negate())}is0(){return this.equals(we.ZERO)}wNAF(Ie){return Te.wNAFCached(this,ge,Ie,Pe=>{const xe=oe.invertBatch(Pe.map(Ae=>Ae.pz));return Pe.map((Ae,$e)=>Ae.toAffine(xe[$e])).map(we.fromAffine)})}multiplyUnsafe(Ie){const Pe=we.ZERO;if(Ie===_0n)return Pe;if(he(Ie),Ie===_1n$1)return this;const{endo:xe}=ne;if(!xe)return Te.unsafeLadder(this,Ie);let{k1neg:Ae,k1:$e,k2neg:Se,k2:Re}=xe.splitScalar(Ie),Be=Pe,Ze=Pe,Fe=this;for(;$e>_0n||Re>_0n;)$e&_1n$1&&(Be=Be.add(Fe)),Re&_1n$1&&(Ze=Ze.add(Fe)),Fe=Fe.double(),$e>>=_1n$1,Re>>=_1n$1;return Ae&&(Be=Be.negate()),Se&&(Ze=Ze.negate()),Ze=new we(oe.mul(Ze.px,xe.beta),Ze.py,Ze.pz),Be.add(Ze)}multiply(Ie){he(Ie);let Pe=Ie,xe,Ae;const{endo:$e}=ne;if($e){const{k1neg:Se,k1:Re,k2neg:Be,k2:Ze}=$e.splitScalar(Pe);let{p:Fe,f:He}=this.wNAF(Re),{p:ze,f:je}=this.wNAF(Ze);Fe=Te.constTimeNegate(Se,Fe),ze=Te.constTimeNegate(Be,ze),ze=new we(oe.mul(ze.px,$e.beta),ze.py,ze.pz),xe=Fe.add(ze),Ae=He.add(je)}else{const{p:Se,f:Re}=this.wNAF(Pe);xe=Se,Ae=Re}return we.normalizeZ([xe,Ae])[0]}multiplyAndAddUnsafe(Ie,Pe,xe){const Ae=we.BASE,$e=(Re,Be)=>Be===_0n||Be===_1n$1||!Re.equals(Ae)?Re.multiplyUnsafe(Be):Re.multiply(Be),Se=$e(this,Pe).add($e(Ie,xe));return Se.is0()?void 0:Se}toAffine(Ie){const{px:Pe,py:xe,pz:Ae}=this,$e=this.is0();Ie==null&&(Ie=$e?oe.ONE:oe.inv(Ae));const Se=oe.mul(Pe,Ie),Re=oe.mul(xe,Ie),Be=oe.mul(Ae,Ie);if($e)return{x:oe.ZERO,y:oe.ZERO};if(!oe.eql(Be,oe.ONE))throw new Error("invZ was invalid");return{x:Se,y:Re}}isTorsionFree(){const{h:Ie,isTorsionFree:Pe}=ne;if(Ie===_1n$1)return!0;if(Pe)return Pe(we,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:Ie,clearCofactor:Pe}=ne;return Ie===_1n$1?this:Pe?Pe(we,this):this.multiplyUnsafe(ne.h)}toRawBytes(Ie=!0){return this.assertValidity(),ae(we,this,Ie)}toHex(Ie=!0){return bytesToHex(this.toRawBytes(Ie))}}we.BASE=new we(ne.Gx,ne.Gy,oe.ONE),we.ZERO=new we(oe.ZERO,oe.ONE,oe.ZERO);const _e=ne.nBitLength,Te=wNAF(we,ne.endo?Math.ceil(_e/2):_e);return{CURVE:ne,ProjectivePoint:we,normPrivateKeyToScalar:be,weierstrassEquation:fe,isWithinCurveOrder:pe}}function validateOpts(ee){const ne=validateBasic(ee);return validateObject(ne,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...ne})}function weierstrass(ee){const ne=validateOpts(ee),{Fp:oe,n:ae}=ne,de=oe.BYTES+1,fe=2*oe.BYTES+1;function pe(Me){return _0n<Me&&Me<oe.ORDER}function he(Me){return mod(Me,ae)}function be(Me){return invert$1(Me,ae)}const{ProjectivePoint:ge,normPrivateKeyToScalar:ve,weierstrassEquation:we,isWithinCurveOrder:_e}=weierstrassPoints({...ne,toBytes(Me,Le,qe){const Ge=Le.toAffine(),Ve=oe.toBytes(Ge.x),Ke=concatBytes;return qe?Ke(Uint8Array.from([Le.hasEvenY()?2:3]),Ve):Ke(Uint8Array.from([4]),Ve,oe.toBytes(Ge.y))},fromBytes(Me){const Le=Me.length,qe=Me[0],Ge=Me.subarray(1);if(Le===de&&(qe===2||qe===3)){const Ve=bytesToNumberBE(Ge);if(!pe(Ve))throw new Error("Point is not on curve");const Ke=we(Ve);let it=oe.sqrt(Ke);const rt=(it&_1n$1)===_1n$1;return(qe&1)===1!==rt&&(it=oe.neg(it)),{x:Ve,y:it}}else if(Le===fe&&qe===4){const Ve=oe.fromBytes(Ge.subarray(0,oe.BYTES)),Ke=oe.fromBytes(Ge.subarray(oe.BYTES,2*oe.BYTES));return{x:Ve,y:Ke}}else throw new Error(`Point of length ${Le} was invalid. Expected ${de} compressed bytes or ${fe} uncompressed bytes`)}}),Te=Me=>bytesToHex(numberToBytesBE(Me,ne.nByteLength));function Ee(Me){const Le=ae>>_1n$1;return Me>Le}function Ie(Me){return Ee(Me)?he(-Me):Me}const Pe=(Me,Le,qe)=>bytesToNumberBE(Me.slice(Le,qe));class xe{constructor(Le,qe,Ge){this.r=Le,this.s=qe,this.recovery=Ge,this.assertValidity()}static fromCompact(Le){const qe=ne.nByteLength;return Le=ensureBytes("compactSignature",Le,qe*2),new xe(Pe(Le,0,qe),Pe(Le,qe,2*qe))}static fromDER(Le){const{r:qe,s:Ge}=DER.toSig(ensureBytes("DER",Le));return new xe(qe,Ge)}assertValidity(){if(!_e(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!_e(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(Le){return new xe(this.r,this.s,Le)}recoverPublicKey(Le){const{r:qe,s:Ge,recovery:Ve}=this,Ke=Ze(ensureBytes("msgHash",Le));if(Ve==null||![0,1,2,3].includes(Ve))throw new Error("recovery id invalid");const it=Ve===2||Ve===3?qe+ne.n:qe;if(it>=oe.ORDER)throw new Error("recovery id 2 or 3 invalid");const rt=Ve&1?"03":"02",ot=ge.fromHex(rt+Te(it)),at=be(it),ht=he(-Ke*at),ct=he(Ge*at),Ne=ge.BASE.multiplyAndAddUnsafe(ot,ht,ct);if(!Ne)throw new Error("point at infinify");return Ne.assertValidity(),Ne}hasHighS(){return Ee(this.s)}normalizeS(){return this.hasHighS()?new xe(this.r,he(-this.s),this.recovery):this}toDERRawBytes(){return hexToBytes(this.toDERHex())}toDERHex(){return DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return hexToBytes(this.toCompactHex())}toCompactHex(){return Te(this.r)+Te(this.s)}}const Ae={isValidPrivateKey(Me){try{return ve(Me),!0}catch{return!1}},normPrivateKeyToScalar:ve,randomPrivateKey:()=>{const Me=getMinHashLength(ne.n);return mapHashToField(ne.randomBytes(Me),ne.n)},precompute(Me=8,Le=ge.BASE){return Le._setWindowSize(Me),Le.multiply(BigInt(3)),Le}};function $e(Me,Le=!0){return ge.fromPrivateKey(Me).toRawBytes(Le)}function Se(Me){const Le=Me instanceof Uint8Array,qe=typeof Me=="string",Ge=(Le||qe)&&Me.length;return Le?Ge===de||Ge===fe:qe?Ge===2*de||Ge===2*fe:Me instanceof ge}function Re(Me,Le,qe=!0){if(Se(Me))throw new Error("first arg must be private key");if(!Se(Le))throw new Error("second arg must be public key");return ge.fromHex(Le).multiply(ve(Me)).toRawBytes(qe)}const Be=ne.bits2int||function(Me){const Le=bytesToNumberBE(Me),qe=Me.length*8-ne.nBitLength;return qe>0?Le>>BigInt(qe):Le},Ze=ne.bits2int_modN||function(Me){return he(Be(Me))},Fe=bitMask(ne.nBitLength);function He(Me){if(typeof Me!="bigint")throw new Error("bigint expected");if(!(_0n<=Me&&Me<Fe))throw new Error(`bigint expected < 2^${ne.nBitLength}`);return numberToBytesBE(Me,ne.nByteLength)}function ze(Me,Le,qe=je){if(["recovered","canonical"].some(We=>We in qe))throw new Error("sign() legacy options not supported");const{hash:Ge,randomBytes:Ve}=ne;let{lowS:Ke,prehash:it,extraEntropy:rt}=qe;Ke==null&&(Ke=!0),Me=ensureBytes("msgHash",Me),it&&(Me=ensureBytes("prehashed msgHash",Ge(Me)));const ot=Ze(Me),at=ve(Le),ht=[He(at),He(ot)];if(rt!=null){const We=rt===!0?Ve(oe.BYTES):rt;ht.push(ensureBytes("extraEntropy",We))}const ct=concatBytes(...ht),Ne=ot;function De(We){const et=Be(We);if(!_e(et))return;const lt=be(et),Je=ge.BASE.multiply(et).toAffine(),dt=he(Je.x);if(dt===_0n)return;const pt=he(lt*he(Ne+dt*at));if(pt===_0n)return;let bt=(Je.x===dt?0:2)|Number(Je.y&_1n$1),gt=pt;return Ke&&Ee(pt)&&(gt=Ie(pt),bt^=1),new xe(dt,gt,bt)}return{seed:ct,k2sig:De}}const je={lowS:ne.lowS,prehash:!1},Ye={lowS:ne.lowS,prehash:!1};function Qe(Me,Le,qe=je){const{seed:Ge,k2sig:Ve}=ze(Me,Le,qe),Ke=ne;return createHmacDrbg(Ke.hash.outputLen,Ke.nByteLength,Ke.hmac)(Ge,Ve)}ge.BASE._setWindowSize(8);function tt(Me,Le,qe,Ge=Ye){const Ve=Me;if(Le=ensureBytes("msgHash",Le),qe=ensureBytes("publicKey",qe),"strict"in Ge)throw new Error("options.strict was renamed to lowS");const{lowS:Ke,prehash:it}=Ge;let rt,ot;try{if(typeof Ve=="string"||Ve instanceof Uint8Array)try{rt=xe.fromDER(Ve)}catch(Je){if(!(Je instanceof DER.Err))throw Je;rt=xe.fromCompact(Ve)}else if(typeof Ve=="object"&&typeof Ve.r=="bigint"&&typeof Ve.s=="bigint"){const{r:Je,s:dt}=Ve;rt=new xe(Je,dt)}else throw new Error("PARSE");ot=ge.fromHex(qe)}catch(Je){if(Je.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Ke&&rt.hasHighS())return!1;it&&(Le=ne.hash(Le));const{r:at,s:ht}=rt,ct=Ze(Le),Ne=be(ht),De=he(ct*Ne),We=he(at*Ne),et=ge.BASE.multiplyAndAddUnsafe(ot,De,We)?.toAffine();return et?he(et.x)===at:!1}return{CURVE:ne,getPublicKey:$e,getSharedSecret:Re,sign:Qe,verify:tt,ProjectivePoint:ge,Signature:xe,utils:Ae}}class HMAC extends Hash{constructor(ne,oe){super(),this.finished=!1,this.destroyed=!1,hash$2(ne);const ae=toBytes(oe);if(this.iHash=ne.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const de=this.blockLen,fe=new Uint8Array(de);fe.set(ae.length>de?ne.create().update(ae).digest():ae);for(let pe=0;pe<fe.length;pe++)fe[pe]^=54;this.iHash.update(fe),this.oHash=ne.create();for(let pe=0;pe<fe.length;pe++)fe[pe]^=106;this.oHash.update(fe),fe.fill(0)}update(ne){return exists(this),this.iHash.update(ne),this}digestInto(ne){exists(this),bytes(ne,this.outputLen),this.finished=!0,this.iHash.digestInto(ne),this.oHash.update(ne),this.oHash.digestInto(ne),this.destroy()}digest(){const ne=new Uint8Array(this.oHash.outputLen);return this.digestInto(ne),ne}_cloneInto(ne){ne||(ne=Object.create(Object.getPrototypeOf(this),{}));const{oHash:oe,iHash:ae,finished:de,destroyed:fe,blockLen:pe,outputLen:he}=this;return ne=ne,ne.finished=de,ne.destroyed=fe,ne.blockLen=pe,ne.outputLen=he,ne.oHash=oe._cloneInto(ne.oHash),ne.iHash=ae._cloneInto(ne.iHash),ne}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hmac=(ee,ne,oe)=>new HMAC(ee,ne).update(oe).digest();hmac.create=(ee,ne)=>new HMAC(ee,ne);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function getHash(ee){return{hash:ee,hmac:(ne,...oe)=>hmac(ee,ne,concatBytes$2(...oe)),randomBytes}}function createCurve(ee,ne){const oe=ae=>weierstrass({...ee,...getHash(ae)});return Object.freeze({...oe(ne),create:oe})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const secp256k1P=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),secp256k1N=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),_1n=BigInt(1),_2n=BigInt(2),divNearest=(ee,ne)=>(ee+ne/_2n)/ne;function sqrtMod(ee){const ne=secp256k1P,oe=BigInt(3),ae=BigInt(6),de=BigInt(11),fe=BigInt(22),pe=BigInt(23),he=BigInt(44),be=BigInt(88),ge=ee*ee*ee%ne,ve=ge*ge*ee%ne,we=pow2(ve,oe,ne)*ve%ne,_e=pow2(we,oe,ne)*ve%ne,Te=pow2(_e,_2n,ne)*ge%ne,Ee=pow2(Te,de,ne)*Te%ne,Ie=pow2(Ee,fe,ne)*Ee%ne,Pe=pow2(Ie,he,ne)*Ie%ne,xe=pow2(Pe,be,ne)*Pe%ne,Ae=pow2(xe,he,ne)*Ie%ne,$e=pow2(Ae,oe,ne)*ve%ne,Se=pow2($e,pe,ne)*Ee%ne,Re=pow2(Se,ae,ne)*ge%ne,Be=pow2(Re,_2n,ne);if(!Fp.eql(Fp.sqr(Be),ee))throw new Error("Cannot find square root");return Be}const Fp=Field(secp256k1P,void 0,void 0,{sqrt:sqrtMod}),secp256k1=createCurve({a:BigInt(0),b:BigInt(7),Fp,n:secp256k1N,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:ee=>{const ne=secp256k1N,oe=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),ae=-_1n*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),de=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),fe=oe,pe=BigInt("0x100000000000000000000000000000000"),he=divNearest(fe*ee,ne),be=divNearest(-ae*ee,ne);let ge=mod(ee-he*oe-be*de,ne),ve=mod(-he*ae-be*fe,ne);const we=ge>pe,_e=ve>pe;if(we&&(ge=ne-ge),_e&&(ve=ne-ve),ge>pe||ve>pe)throw new Error("splitScalar: Endomorphism failed, k="+ee);return{k1neg:we,k1:ge,k2neg:_e,k2:ve}}}},sha256);BigInt(0);secp256k1.ProjectivePoint;function signatureToHex({r:ee,s:ne,v:oe}){return`0x${new secp256k1.Signature(hexToBigInt(ee),hexToBigInt(ne)).toCompactHex()}${toHex(oe).slice(2)}`}function invert(ee){const ne=Object.create(null);for(const oe in ee){const ae=ee[oe];ne[ae]=oe}return ne}const TRPC_ERROR_CODES_BY_KEY={PARSE_ERROR:-32700,BAD_REQUEST:-32600,INTERNAL_SERVER_ERROR:-32603,UNAUTHORIZED:-32001,FORBIDDEN:-32003,NOT_FOUND:-32004,METHOD_NOT_SUPPORTED:-32005,TIMEOUT:-32008,CONFLICT:-32009,PRECONDITION_FAILED:-32012,PAYLOAD_TOO_LARGE:-32013,UNPROCESSABLE_CONTENT:-32022,TOO_MANY_REQUESTS:-32029,CLIENT_CLOSED_REQUEST:-32099};invert(TRPC_ERROR_CODES_BY_KEY);invert(TRPC_ERROR_CODES_BY_KEY);const noop$1=()=>{};function createInnerProxy(ee,ne){return new Proxy(noop$1,{get(ae,de){if(!(typeof de!="string"||de==="then"))return createInnerProxy(ee,[...ne,de])},apply(ae,de,fe){const pe=ne[ne.length-1]==="apply";return ee({args:pe?fe.length>=2?fe[1]:[]:fe,path:pe?ne.slice(0,-1):ne})}})}const createRecursiveProxy=ee=>createInnerProxy(ee,[]),createFlatProxy=ee=>new Proxy(noop$1,{get(ne,oe){if(!(typeof oe!="string"||oe==="then"))return ee(oe)}});typeof window>"u"||"Deno"in window||globalThis.process?.env?.NODE_ENV==="test"||globalThis.process?.env?.JEST_WORKER_ID||globalThis.process?.env?.VITEST_WORKER_ID;var DoubleIndexedKV=function(){function ee(){this.keyToValue=new Map,this.valueToKey=new Map}return ee.prototype.set=function(ne,oe){this.keyToValue.set(ne,oe),this.valueToKey.set(oe,ne)},ee.prototype.getByKey=function(ne){return this.keyToValue.get(ne)},ee.prototype.getByValue=function(ne){return this.valueToKey.get(ne)},ee.prototype.clear=function(){this.keyToValue.clear(),this.valueToKey.clear()},ee}(),Registry=function(){function ee(ne){this.generateIdentifier=ne,this.kv=new DoubleIndexedKV}return ee.prototype.register=function(ne,oe){this.kv.getByValue(ne)||(oe||(oe=this.generateIdentifier(ne)),this.kv.set(oe,ne))},ee.prototype.clear=function(){this.kv.clear()},ee.prototype.getIdentifier=function(ne){return this.kv.getByValue(ne)},ee.prototype.getValue=function(ne){return this.kv.getByKey(ne)},ee}(),__extends=globalThis&&globalThis.__extends||function(){var ee=function(ne,oe){return ee=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ae,de){ae.__proto__=de}||function(ae,de){for(var fe in de)Object.prototype.hasOwnProperty.call(de,fe)&&(ae[fe]=de[fe])},ee(ne,oe)};return function(ne,oe){if(typeof oe!="function"&&oe!==null)throw new TypeError("Class extends value "+String(oe)+" is not a constructor or null");ee(ne,oe);function ae(){this.constructor=ne}ne.prototype=oe===null?Object.create(oe):(ae.prototype=oe.prototype,new ae)}}(),ClassRegistry=function(ee){__extends(ne,ee);function ne(){var oe=ee.call(this,function(ae){return ae.name})||this;return oe.classToAllowedProps=new Map,oe}return ne.prototype.register=function(oe,ae){typeof ae=="object"?(ae.allowProps&&this.classToAllowedProps.set(oe,ae.allowProps),ee.prototype.register.call(this,oe,ae.identifier)):ee.prototype.register.call(this,oe,ae)},ne.prototype.getAllowedProps=function(oe){return this.classToAllowedProps.get(oe)},ne}(Registry),__read$3=globalThis&&globalThis.__read||function(ee,ne){var oe=typeof Symbol=="function"&&ee[Symbol.iterator];if(!oe)return ee;var ae=oe.call(ee),de,fe=[],pe;try{for(;(ne===void 0||ne-- >0)&&!(de=ae.next()).done;)fe.push(de.value)}catch(he){pe={error:he}}finally{try{de&&!de.done&&(oe=ae.return)&&oe.call(ae)}finally{if(pe)throw pe.error}}return fe};function valuesOfObj(ee){if("values"in Object)return Object.values(ee);var ne=[];for(var oe in ee)ee.hasOwnProperty(oe)&&ne.push(ee[oe]);return ne}function find(ee,ne){var oe=valuesOfObj(ee);if("find"in oe)return oe.find(ne);for(var ae=oe,de=0;de<ae.length;de++){var fe=ae[de];if(ne(fe))return fe}}function forEach(ee,ne){Object.entries(ee).forEach(function(oe){var ae=__read$3(oe,2),de=ae[0],fe=ae[1];return ne(fe,de)})}function includes(ee,ne){return ee.indexOf(ne)!==-1}function findArr(ee,ne){for(var oe=0;oe<ee.length;oe++){var ae=ee[oe];if(ne(ae))return ae}}var CustomTransformerRegistry=function(){function ee(){this.transfomers={}}return ee.prototype.register=function(ne){this.transfomers[ne.name]=ne},ee.prototype.findApplicable=function(ne){return find(this.transfomers,function(oe){return oe.isApplicable(ne)})},ee.prototype.findByName=function(ne){return this.transfomers[ne]},ee}(),getType$1=function(ee){return Object.prototype.toString.call(ee).slice(8,-1)},isUndefined=function(ee){return typeof ee>"u"},isNull=function(ee){return ee===null},isPlainObject$1=function(ee){return typeof ee!="object"||ee===null||ee===Object.prototype?!1:Object.getPrototypeOf(ee)===null?!0:Object.getPrototypeOf(ee)===Object.prototype},isEmptyObject=function(ee){return isPlainObject$1(ee)&&Object.keys(ee).length===0},isArray$1=function(ee){return Array.isArray(ee)},isString=function(ee){return typeof ee=="string"},isNumber=function(ee){return typeof ee=="number"&&!isNaN(ee)},isBoolean=function(ee){return typeof ee=="boolean"},isRegExp=function(ee){return ee instanceof RegExp},isMap=function(ee){return ee instanceof Map},isSet=function(ee){return ee instanceof Set},isSymbol=function(ee){return getType$1(ee)==="Symbol"},isDate=function(ee){return ee instanceof Date&&!isNaN(ee.valueOf())},isError=function(ee){return ee instanceof Error},isNaNValue=function(ee){return typeof ee=="number"&&isNaN(ee)},isPrimitive=function(ee){return isBoolean(ee)||isNull(ee)||isUndefined(ee)||isNumber(ee)||isString(ee)||isSymbol(ee)},isBigint=function(ee){return typeof ee=="bigint"},isInfinite=function(ee){return ee===1/0||ee===-1/0},isTypedArray=function(ee){return ArrayBuffer.isView(ee)&&!(ee instanceof DataView)},isURL=function(ee){return ee instanceof URL},escapeKey=function(ee){return ee.replace(/\./g,"\\.")},stringifyPath=function(ee){return ee.map(String).map(escapeKey).join(".")},parsePath=function(ee){for(var ne=[],oe="",ae=0;ae<ee.length;ae++){var de=ee.charAt(ae),fe=de==="\\"&&ee.charAt(ae+1)===".";if(fe){oe+=".",ae++;continue}var pe=de===".";if(pe){ne.push(oe),oe="";continue}oe+=de}var he=oe;return ne.push(he),ne},__assign$1=globalThis&&globalThis.__assign||function(){return __assign$1=Object.assign||function(ee){for(var ne,oe=1,ae=arguments.length;oe<ae;oe++){ne=arguments[oe];for(var de in ne)Object.prototype.hasOwnProperty.call(ne,de)&&(ee[de]=ne[de])}return ee},__assign$1.apply(this,arguments)},__read$2=globalThis&&globalThis.__read||function(ee,ne){var oe=typeof Symbol=="function"&&ee[Symbol.iterator];if(!oe)return ee;var ae=oe.call(ee),de,fe=[],pe;try{for(;(ne===void 0||ne-- >0)&&!(de=ae.next()).done;)fe.push(de.value)}catch(he){pe={error:he}}finally{try{de&&!de.done&&(oe=ae.return)&&oe.call(ae)}finally{if(pe)throw pe.error}}return fe},__spreadArray$2=globalThis&&globalThis.__spreadArray||function(ee,ne){for(var oe=0,ae=ne.length,de=ee.length;oe<ae;oe++,de++)ee[de]=ne[oe];return ee};function simpleTransformation(ee,ne,oe,ae){return{isApplicable:ee,annotation:ne,transform:oe,untransform:ae}}var simpleRules=[simpleTransformation(isUndefined,"undefined",function(){return null},function(){}),simpleTransformation(isBigint,"bigint",function(ee){return ee.toString()},function(ee){return typeof BigInt<"u"?BigInt(ee):(console.error("Please add a BigInt polyfill."),ee)}),simpleTransformation(isDate,"Date",function(ee){return ee.toISOString()},function(ee){return new Date(ee)}),simpleTransformation(isError,"Error",function(ee,ne){var oe={name:ee.name,message:ee.message};return ne.allowedErrorProps.forEach(function(ae){oe[ae]=ee[ae]}),oe},function(ee,ne){var oe=new Error(ee.message);return oe.name=ee.name,oe.stack=ee.stack,ne.allowedErrorProps.forEach(function(ae){oe[ae]=ee[ae]}),oe}),simpleTransformation(isRegExp,"regexp",function(ee){return""+ee},function(ee){var ne=ee.slice(1,ee.lastIndexOf("/")),oe=ee.slice(ee.lastIndexOf("/")+1);return new RegExp(ne,oe)}),simpleTransformation(isSet,"set",function(ee){return __spreadArray$2([],__read$2(ee.values()))},function(ee){return new Set(ee)}),simpleTransformation(isMap,"map",function(ee){return __spreadArray$2([],__read$2(ee.entries()))},function(ee){return new Map(ee)}),simpleTransformation(function(ee){return isNaNValue(ee)||isInfinite(ee)},"number",function(ee){return isNaNValue(ee)?"NaN":ee>0?"Infinity":"-Infinity"},Number),simpleTransformation(function(ee){return ee===0&&1/ee===-1/0},"number",function(){return"-0"},Number),simpleTransformation(isURL,"URL",function(ee){return ee.toString()},function(ee){return new URL(ee)})];function compositeTransformation(ee,ne,oe,ae){return{isApplicable:ee,annotation:ne,transform:oe,untransform:ae}}var symbolRule=compositeTransformation(function(ee,ne){if(isSymbol(ee)){var oe=!!ne.symbolRegistry.getIdentifier(ee);return oe}return!1},function(ee,ne){var oe=ne.symbolRegistry.getIdentifier(ee);return["symbol",oe]},function(ee){return ee.description},function(ee,ne,oe){var ae=oe.symbolRegistry.getValue(ne[1]);if(!ae)throw new Error("Trying to deserialize unknown symbol");return ae}),constructorToName=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce(function(ee,ne){return ee[ne.name]=ne,ee},{}),typedArrayRule=compositeTransformation(isTypedArray,function(ee){return["typed-array",ee.constructor.name]},function(ee){return __spreadArray$2([],__read$2(ee))},function(ee,ne){var oe=constructorToName[ne[1]];if(!oe)throw new Error("Trying to deserialize unknown typed array");return new oe(ee)});function isInstanceOfRegisteredClass(ee,ne){if(ee?.constructor){var oe=!!ne.classRegistry.getIdentifier(ee.constructor);return oe}return!1}var classRule=compositeTransformation(isInstanceOfRegisteredClass,function(ee,ne){var oe=ne.classRegistry.getIdentifier(ee.constructor);return["class",oe]},function(ee,ne){var oe=ne.classRegistry.getAllowedProps(ee.constructor);if(!oe)return __assign$1({},ee);var ae={};return oe.forEach(function(de){ae[de]=ee[de]}),ae},function(ee,ne,oe){var ae=oe.classRegistry.getValue(ne[1]);if(!ae)throw new Error("Trying to deserialize unknown class - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564");return Object.assign(Object.create(ae.prototype),ee)}),customRule=compositeTransformation(function(ee,ne){return!!ne.customTransformerRegistry.findApplicable(ee)},function(ee,ne){var oe=ne.customTransformerRegistry.findApplicable(ee);return["custom",oe.name]},function(ee,ne){var oe=ne.customTransformerRegistry.findApplicable(ee);return oe.serialize(ee)},function(ee,ne,oe){var ae=oe.customTransformerRegistry.findByName(ne[1]);if(!ae)throw new Error("Trying to deserialize unknown custom value");return ae.deserialize(ee)}),compositeRules=[classRule,symbolRule,customRule,typedArrayRule],transformValue=function(ee,ne){var oe=findArr(compositeRules,function(de){return de.isApplicable(ee,ne)});if(oe)return{value:oe.transform(ee,ne),type:oe.annotation(ee,ne)};var ae=findArr(simpleRules,function(de){return de.isApplicable(ee,ne)});if(ae)return{value:ae.transform(ee,ne),type:ae.annotation}},simpleRulesByAnnotation={};simpleRules.forEach(function(ee){simpleRulesByAnnotation[ee.annotation]=ee});var untransformValue=function(ee,ne,oe){if(isArray$1(ne))switch(ne[0]){case"symbol":return symbolRule.untransform(ee,ne,oe);case"class":return classRule.untransform(ee,ne,oe);case"custom":return customRule.untransform(ee,ne,oe);case"typed-array":return typedArrayRule.untransform(ee,ne,oe);default:throw new Error("Unknown transformation: "+ne)}else{var ae=simpleRulesByAnnotation[ne];if(!ae)throw new Error("Unknown transformation: "+ne);return ae.untransform(ee,oe)}},getNthKey=function(ee,ne){for(var oe=ee.keys();ne>0;)oe.next(),ne--;return oe.next().value};function validatePath(ee){if(includes(ee,"__proto__"))throw new Error("__proto__ is not allowed as a property");if(includes(ee,"prototype"))throw new Error("prototype is not allowed as a property");if(includes(ee,"constructor"))throw new Error("constructor is not allowed as a property")}var getDeep=function(ee,ne){validatePath(ne);for(var oe=0;oe<ne.length;oe++){var ae=ne[oe];if(isSet(ee))ee=getNthKey(ee,+ae);else if(isMap(ee)){var de=+ae,fe=+ne[++oe]==0?"key":"value",pe=getNthKey(ee,de);switch(fe){case"key":ee=pe;break;case"value":ee=ee.get(pe);break}}else ee=ee[ae]}return ee},setDeep=function(ee,ne,oe){if(validatePath(ne),ne.length===0)return oe(ee);for(var ae=ee,de=0;de<ne.length-1;de++){var fe=ne[de];if(isArray$1(ae)){var pe=+fe;ae=ae[pe]}else if(isPlainObject$1(ae))ae=ae[fe];else if(isSet(ae)){var he=+fe;ae=getNthKey(ae,he)}else if(isMap(ae)){var be=de===ne.length-2;if(be)break;var he=+fe,ge=+ne[++de]==0?"key":"value",ve=getNthKey(ae,he);switch(ge){case"key":ae=ve;break;case"value":ae=ae.get(ve);break}}}var we=ne[ne.length-1];if(isArray$1(ae)?ae[+we]=oe(ae[+we]):isPlainObject$1(ae)&&(ae[we]=oe(ae[we])),isSet(ae)){var _e=getNthKey(ae,+we),Te=oe(_e);_e!==Te&&(ae.delete(_e),ae.add(Te))}if(isMap(ae)){var he=+ne[ne.length-2],Ee=getNthKey(ae,he),ge=+we==0?"key":"value";switch(ge){case"key":{var Ie=oe(Ee);ae.set(Ie,ae.get(Ee)),Ie!==Ee&&ae.delete(Ee);break}case"value":{ae.set(Ee,oe(ae.get(Ee)));break}}}return ee},__read$1=globalThis&&globalThis.__read||function(ee,ne){var oe=typeof Symbol=="function"&&ee[Symbol.iterator];if(!oe)return ee;var ae=oe.call(ee),de,fe=[],pe;try{for(;(ne===void 0||ne-- >0)&&!(de=ae.next()).done;)fe.push(de.value)}catch(he){pe={error:he}}finally{try{de&&!de.done&&(oe=ae.return)&&oe.call(ae)}finally{if(pe)throw pe.error}}return fe},__spreadArray$1=globalThis&&globalThis.__spreadArray||function(ee,ne){for(var oe=0,ae=ne.length,de=ee.length;oe<ae;oe++,de++)ee[de]=ne[oe];return ee};function traverse(ee,ne,oe){if(oe===void 0&&(oe=[]),!!ee){if(!isArray$1(ee)){forEach(ee,function(pe,he){return traverse(pe,ne,__spreadArray$1(__spreadArray$1([],__read$1(oe)),__read$1(parsePath(he))))});return}var ae=__read$1(ee,2),de=ae[0],fe=ae[1];fe&&forEach(fe,function(pe,he){traverse(pe,ne,__spreadArray$1(__spreadArray$1([],__read$1(oe)),__read$1(parsePath(he))))}),ne(de,oe)}}function applyValueAnnotations(ee,ne,oe){return traverse(ne,function(ae,de){ee=setDeep(ee,de,function(fe){return untransformValue(fe,ae,oe)})}),ee}function applyReferentialEqualityAnnotations(ee,ne){function oe(pe,he){var be=getDeep(ee,parsePath(he));pe.map(parsePath).forEach(function(ge){ee=setDeep(ee,ge,function(){return be})})}if(isArray$1(ne)){var ae=__read$1(ne,2),de=ae[0],fe=ae[1];de.forEach(function(pe){ee=setDeep(ee,parsePath(pe),function(){return ee})}),fe&&forEach(fe,oe)}else forEach(ne,oe);return ee}var isDeep=function(ee,ne){return isPlainObject$1(ee)||isArray$1(ee)||isMap(ee)||isSet(ee)||isInstanceOfRegisteredClass(ee,ne)};function addIdentity(ee,ne,oe){var ae=oe.get(ee);ae?ae.push(ne):oe.set(ee,[ne])}function generateReferentialEqualityAnnotations(ee,ne){var oe={},ae=void 0;return ee.forEach(function(de){if(!(de.length<=1)){ne||(de=de.map(function(be){return be.map(String)}).sort(function(be,ge){return be.length-ge.length}));var fe=__read$1(de),pe=fe[0],he=fe.slice(1);pe.length===0?ae=he.map(stringifyPath):oe[stringifyPath(pe)]=he.map(stringifyPath)}}),ae?isEmptyObject(oe)?[ae]:[ae,oe]:isEmptyObject(oe)?void 0:oe}var walker=function(ee,ne,oe,ae,de,fe,pe){var he;de===void 0&&(de=[]),fe===void 0&&(fe=[]),pe===void 0&&(pe=new Map);var be=isPrimitive(ee);if(!be){addIdentity(ee,de,ne);var ge=pe.get(ee);if(ge)return ae?{transformedValue:null}:ge}if(!isDeep(ee,oe)){var ve=transformValue(ee,oe),we=ve?{transformedValue:ve.value,annotations:[ve.type]}:{transformedValue:ee};return be||pe.set(ee,we),we}if(includes(fe,ee))return{transformedValue:null};var _e=transformValue(ee,oe),Te=(he=_e?.value)!==null&&he!==void 0?he:ee,Ee=isArray$1(Te)?[]:{},Ie={};forEach(Te,function(xe,Ae){var $e=walker(xe,ne,oe,ae,__spreadArray$1(__spreadArray$1([],__read$1(de)),[Ae]),__spreadArray$1(__spreadArray$1([],__read$1(fe)),[ee]),pe);Ee[Ae]=$e.transformedValue,isArray$1($e.annotations)?Ie[Ae]=$e.annotations:isPlainObject$1($e.annotations)&&forEach($e.annotations,function(Se,Re){Ie[escapeKey(Ae)+"."+Re]=Se})});var Pe=isEmptyObject(Ie)?{transformedValue:Ee,annotations:_e?[_e.type]:void 0}:{transformedValue:Ee,annotations:_e?[_e.type,Ie]:Ie};return be||pe.set(ee,Pe),Pe};function getType(ee){return Object.prototype.toString.call(ee).slice(8,-1)}function isArray(ee){return getType(ee)==="Array"}function isPlainObject(ee){if(getType(ee)!=="Object")return!1;const ne=Object.getPrototypeOf(ee);return!!ne&&ne.constructor===Object&&ne===Object.prototype}function assignProp(ee,ne,oe,ae,de){const fe={}.propertyIsEnumerable.call(ae,ne)?"enumerable":"nonenumerable";fe==="enumerable"&&(ee[ne]=oe),de&&fe==="nonenumerable"&&Object.defineProperty(ee,ne,{value:oe,enumerable:!1,writable:!0,configurable:!0})}function copy(ee,ne={}){if(isArray(ee))return ee.map(de=>copy(de,ne));if(!isPlainObject(ee))return ee;const oe=Object.getOwnPropertyNames(ee),ae=Object.getOwnPropertySymbols(ee);return[...oe,...ae].reduce((de,fe)=>{if(isArray(ne.props)&&!ne.props.includes(fe))return de;const pe=ee[fe],he=copy(pe,ne);return assignProp(de,fe,he,ee,ne.nonenumerable),de},{})}var __assign=globalThis&&globalThis.__assign||function(){return __assign=Object.assign||function(ee){for(var ne,oe=1,ae=arguments.length;oe<ae;oe++){ne=arguments[oe];for(var de in ne)Object.prototype.hasOwnProperty.call(ne,de)&&(ee[de]=ne[de])}return ee},__assign.apply(this,arguments)},__read=globalThis&&globalThis.__read||function(ee,ne){var oe=typeof Symbol=="function"&&ee[Symbol.iterator];if(!oe)return ee;var ae=oe.call(ee),de,fe=[],pe;try{for(;(ne===void 0||ne-- >0)&&!(de=ae.next()).done;)fe.push(de.value)}catch(he){pe={error:he}}finally{try{de&&!de.done&&(oe=ae.return)&&oe.call(ae)}finally{if(pe)throw pe.error}}return fe},__spreadArray=globalThis&&globalThis.__spreadArray||function(ee,ne){for(var oe=0,ae=ne.length,de=ee.length;oe<ae;oe++,de++)ee[de]=ne[oe];return ee},SuperJSON=function(){function ee(ne){var oe=ne===void 0?{}:ne,ae=oe.dedupe,de=ae===void 0?!1:ae;this.classRegistry=new ClassRegistry,this.symbolRegistry=new Registry(function(fe){var pe;return(pe=fe.description)!==null&&pe!==void 0?pe:""}),this.customTransformerRegistry=new CustomTransformerRegistry,this.allowedErrorProps=[],this.dedupe=de}return ee.prototype.serialize=function(ne){var oe=new Map,ae=walker(ne,oe,this,this.dedupe),de={json:ae.transformedValue};ae.annotations&&(de.meta=__assign(__assign({},de.meta),{values:ae.annotations}));var fe=generateReferentialEqualityAnnotations(oe,this.dedupe);return fe&&(de.meta=__assign(__assign({},de.meta),{referentialEqualities:fe})),de},ee.prototype.deserialize=function(ne){var oe=ne.json,ae=ne.meta,de=copy(oe);return ae?.values&&(de=applyValueAnnotations(de,ae.values,this)),ae?.referentialEqualities&&(de=applyReferentialEqualityAnnotations(de,ae.referentialEqualities)),de},ee.prototype.stringify=function(ne){return JSON.stringify(this.serialize(ne))},ee.prototype.parse=function(ne){return this.deserialize(JSON.parse(ne))},ee.prototype.registerClass=function(ne,oe){this.classRegistry.register(ne,oe)},ee.prototype.registerSymbol=function(ne,oe){this.symbolRegistry.register(ne,oe)},ee.prototype.registerCustom=function(ne,oe){this.customTransformerRegistry.register(__assign({name:oe},ne))},ee.prototype.allowErrorProps=function(){for(var ne,oe=[],ae=0;ae<arguments.length;ae++)oe[ae]=arguments[ae];(ne=this.allowedErrorProps).push.apply(ne,__spreadArray([],__read(oe)))},ee.defaultInstance=new ee,ee.serialize=ee.defaultInstance.serialize.bind(ee.defaultInstance),ee.deserialize=ee.defaultInstance.deserialize.bind(ee.defaultInstance),ee.stringify=ee.defaultInstance.stringify.bind(ee.defaultInstance),ee.parse=ee.defaultInstance.parse.bind(ee.defaultInstance),ee.registerClass=ee.defaultInstance.registerClass.bind(ee.defaultInstance),ee.registerSymbol=ee.defaultInstance.registerSymbol.bind(ee.defaultInstance),ee.registerCustom=ee.defaultInstance.registerCustom.bind(ee.defaultInstance),ee.allowErrorProps=ee.defaultInstance.allowErrorProps.bind(ee.defaultInstance),ee}();SuperJSON.serialize;SuperJSON.deserialize;SuperJSON.stringify;SuperJSON.parse;SuperJSON.registerClass;SuperJSON.registerCustom;SuperJSON.registerSymbol;SuperJSON.allowErrorProps;function identity(ee){return ee}function pipeFromArray(ee){return ee.length===0?identity:ee.length===1?ee[0]:function(oe){return ee.reduce((ae,de)=>de(ae),oe)}}function observable(ee){const ne={subscribe(oe){let ae=null,de=!1,fe=!1,pe=!1;function he(){if(ae===null){pe=!0;return}fe||(fe=!0,typeof ae=="function"?ae():ae&&ae.unsubscribe())}return ae=ee({next(be){de||oe.next?.(be)},error(be){de||(de=!0,oe.error?.(be),he())},complete(){de||(de=!0,oe.complete?.(),he())}}),pe&&he(),{unsubscribe:he}},pipe(...oe){return pipeFromArray(oe)(ne)}};return ne}function share(ee){return ne=>{let oe=0,ae=null;const de=[];function fe(){ae||(ae=ne.subscribe({next(he){for(const be of de)be.next?.(he)},error(he){for(const be of de)be.error?.(he)},complete(){for(const he of de)he.complete?.()}}))}function pe(){if(oe===0&&ae){const he=ae;ae=null,he.unsubscribe()}}return{subscribe(he){return oe++,de.push(he),fe(),{unsubscribe(){oe--,pe();const be=de.findIndex(ge=>ge===he);be>-1&&de.splice(be,1)}}}}}}class ObservableAbortError extends Error{constructor(ne){super(ne),this.name="ObservableAbortError",Object.setPrototypeOf(this,ObservableAbortError.prototype)}}function observableToPromise(ee){let ne;return{promise:new Promise((ae,de)=>{let fe=!1;function pe(){fe||(fe=!0,de(new ObservableAbortError("This operation was aborted.")),he.unsubscribe())}const he=ee.subscribe({next(be){fe=!0,ae(be),pe()},error(be){fe=!0,de(be),pe()},complete(){fe=!0,pe()}});ne=pe}),abort:ne}}function createChain(ee){return observable(ne=>{function oe(de=0,fe=ee.op){const pe=ee.links[de];if(!pe)throw new Error("No more links to execute - did you forget to add an ending link?");return pe({op:fe,next(be){return oe(de+1,be)}})}return oe().subscribe(ne)})}function isTRPCClientError(ee){return ee instanceof TRPCClientError||ee.name==="TRPCClientError"}class TRPCClientError extends Error{static from(ne,oe={}){return ne instanceof Error?isTRPCClientError(ne)?(oe.meta&&(ne.meta={...ne.meta,...oe.meta}),ne):new TRPCClientError(ne.message,{...oe,cause:ne,result:null}):new TRPCClientError(ne.error.message??"",{...oe,cause:void 0,result:ne})}constructor(ne,oe){const ae=oe?.cause;super(ne,{cause:ae}),this.meta=oe?.meta,this.cause=ae,this.shape=oe?.result?.error,this.data=oe?.result?.error.data,this.name="TRPCClientError",Object.setPrototypeOf(this,TRPCClientError.prototype)}}const isFunction$1=ee=>typeof ee=="function";function getFetch(ee){if(ee)return ee;if(typeof window<"u"&&isFunction$1(window.fetch))return window.fetch;if(typeof globalThis<"u"&&isFunction$1(globalThis.fetch))return globalThis.fetch;throw new Error("No fetch implementation found")}function getAbortController(ee){return ee||(typeof window<"u"&&window.AbortController?window.AbortController:typeof globalThis<"u"&&globalThis.AbortController?globalThis.AbortController:null)}function resolveHTTPLinkOptions(ee){return{url:ee.url,fetch:ee.fetch,AbortController:getAbortController(ee.AbortController)}}function arrayToDict(ee){const ne={};for(let oe=0;oe<ee.length;oe++){const ae=ee[oe];ne[oe]=ae}return ne}const METHOD={query:"GET",mutation:"POST"};function getInput(ee){return"input"in ee?ee.runtime.transformer.serialize(ee.input):arrayToDict(ee.inputs.map(ne=>ee.runtime.transformer.serialize(ne)))}const getUrl=ee=>{let ne=ee.url+"/"+ee.path;const oe=[];if("inputs"in ee&&oe.push("batch=1"),ee.type==="query"){const ae=getInput(ee);ae!==void 0&&oe.push(`input=${encodeURIComponent(JSON.stringify(ae))}`)}return oe.length&&(ne+="?"+oe.join("&")),ne},getBody=ee=>{if(ee.type==="query")return;const ne=getInput(ee);return ne!==void 0?JSON.stringify(ne):void 0},jsonHttpRequester=ee=>httpRequest({...ee,contentTypeHeader:"application/json",getUrl,getBody});async function fetchHTTPResponse(ee,ne){const oe=ee.getUrl(ee),ae=ee.getBody(ee),{type:de}=ee,fe=await ee.headers();/* istanbul ignore if -- @preserve */if(de==="subscription")throw new Error("Subscriptions should use wsLink");const pe={...ee.contentTypeHeader?{"content-type":ee.contentTypeHeader}:{},...ee.batchModeHeader?{"trpc-batch-mode":ee.batchModeHeader}:{},...fe};return getFetch(ee.fetch)(oe,{method:METHOD[de],signal:ne?.signal,body:ae,headers:pe})}function httpRequest(ee){const ne=ee.AbortController?new ee.AbortController:null,oe={};return{promise:new Promise((fe,pe)=>{fetchHTTPResponse(ee,ne).then(he=>(oe.response=he,he.json())).then(he=>{oe.responseJSON=he,fe({json:he,meta:oe})}).catch(he=>{pe(TRPCClientError.from(he,{meta:oe}))})}),cancel:()=>{ne?.abort()}}}function isObject(ee){return!!ee&&!Array.isArray(ee)&&typeof ee=="object"}function transformResultInner(ee,ne){if("error"in ee){const ae=ne.transformer.deserialize(ee.error);return{ok:!1,error:{...ee,error:ae}}}return{ok:!0,result:{...ee.result,...(!ee.result.type||ee.result.type==="data")&&{type:"data",data:ne.transformer.deserialize(ee.result.data)}}}}class TransformResultError extends Error{constructor(){super("Unable to transform response from server")}}function transformResult(ee,ne){let oe;try{oe=transformResultInner(ee,ne)}catch{throw new TransformResultError}if(!oe.ok&&(!isObject(oe.error.error)||typeof oe.error.error.code!="number"))throw new TransformResultError;if(oe.ok&&!isObject(oe.result))throw new TransformResultError;return oe}const throwFatalError=()=>{throw new Error("Something went wrong. Please submit an issue at https://github.com/trpc/trpc/issues/new")};function dataLoader(ee){let ne=null,oe=null;const ae=()=>{clearTimeout(oe),oe=null,ne=null};function de(he){const be=[[]];let ge=0;for(;;){const ve=he[ge];if(!ve)break;const we=be[be.length-1];if(ve.aborted){ve.reject?.(new Error("Aborted")),ge++;continue}if(ee.validate(we.concat(ve).map(Te=>Te.key))){we.push(ve),ge++;continue}if(we.length===0){ve.reject?.(new Error("Input is too big for a single dispatch")),ge++;continue}be.push([])}return be}function fe(){const he=de(ne);ae();for(const be of he){if(!be.length)continue;const ge={items:be,cancel:throwFatalError};for(const Te of be)Te.batch=ge;const ve=(Te,Ee)=>{const Ie=ge.items[Te];Ie.resolve?.(Ee),Ie.batch=null,Ie.reject=null,Ie.resolve=null},{promise:we,cancel:_e}=ee.fetch(ge.items.map(Te=>Te.key),ve);ge.cancel=_e,we.then(Te=>{for(let Ee=0;Ee<Te.length;Ee++){const Ie=Te[Ee];ve(Ee,Ie)}for(const Ee of ge.items)Ee.reject?.(new Error("Missing result")),Ee.batch=null}).catch(Te=>{for(const Ee of ge.items)Ee.reject?.(Te),Ee.batch=null})}}function pe(he){const be={aborted:!1,key:he,batch:null,resolve:throwFatalError,reject:throwFatalError},ge=new Promise((we,_e)=>{be.reject=_e,be.resolve=we,ne||(ne=[]),ne.push(be)});return oe||(oe=setTimeout(fe)),{promise:ge,cancel:()=>{be.aborted=!0,be.batch?.items.every(we=>we.aborted)&&(be.batch.cancel(),be.batch=null)}}}return{load:pe}}function createHTTPBatchLink(ee){return function(oe){const ae=resolveHTTPLinkOptions(oe),de=oe.maxURLLength??1/0;return fe=>{const pe=we=>{const _e=Ee=>{if(de===1/0)return!0;const Ie=Ee.map(Ae=>Ae.path).join(","),Pe=Ee.map(Ae=>Ae.input);return getUrl({...ae,runtime:fe,type:we,path:Ie,inputs:Pe}).length<=de},Te=ee({...ae,runtime:fe,type:we,opts:oe});return{validate:_e,fetch:Te}},he=dataLoader(pe("query")),be=dataLoader(pe("mutation")),ge=dataLoader(pe("subscription")),ve={query:he,subscription:ge,mutation:be};return({op:we})=>observable(_e=>{const Te=ve[we.type],{promise:Ee,cancel:Ie}=Te.load(we);let Pe;return Ee.then(xe=>{Pe=xe;const Ae=transformResult(xe.json,fe);if(!Ae.ok){_e.error(TRPCClientError.from(Ae.error,{meta:xe.meta}));return}_e.next({context:xe.meta,result:Ae.result}),_e.complete()}).catch(xe=>{_e.error(TRPCClientError.from(xe,{meta:Pe?.meta}))}),()=>{Ie()}})}}}const batchRequester=ee=>ne=>{const oe=ne.map(pe=>pe.path).join(","),ae=ne.map(pe=>pe.input),{promise:de,cancel:fe}=jsonHttpRequester({...ee,path:oe,inputs:ae,headers(){return ee.opts.headers?typeof ee.opts.headers=="function"?ee.opts.headers({opList:ne}):ee.opts.headers:{}}});return{promise:de.then(pe=>(Array.isArray(pe.json)?pe.json:ne.map(()=>pe.json)).map(ge=>({meta:pe.meta,json:ge}))),cancel:fe}},httpBatchLink=createHTTPBatchLink(batchRequester);class TRPCUntypedClient{$request({type:ne,input:oe,path:ae,context:de={}}){return createChain({links:this.links,op:{id:++this.requestId,type:ne,path:ae,input:oe,context:de}}).pipe(share())}requestAsPromise(ne){const oe=this.$request(ne),{promise:ae,abort:de}=observableToPromise(oe);return new Promise((pe,he)=>{ne.signal?.addEventListener("abort",de),ae.then(be=>{pe(be.result.data)}).catch(be=>{he(TRPCClientError.from(be))})})}query(ne,oe,ae){return this.requestAsPromise({type:"query",path:ne,input:oe,context:ae?.context,signal:ae?.signal})}mutation(ne,oe,ae){return this.requestAsPromise({type:"mutation",path:ne,input:oe,context:ae?.context,signal:ae?.signal})}subscription(ne,oe,ae){return this.$request({type:"subscription",path:ne,input:oe,context:ae?.context}).subscribe({next(fe){fe.result.type==="started"?ae.onStarted?.():fe.result.type==="stopped"?ae.onStopped?.():ae.onData?.(fe.result.data)},error(fe){ae.onError?.(fe)},complete(){ae.onComplete?.()}})}constructor(ne){this.requestId=0;const oe=(()=>{const ae=ne.transformer;return ae?"input"in ae?ne.transformer:{input:ae,output:ae}:{input:{serialize:de=>de,deserialize:de=>de},output:{serialize:de=>de,deserialize:de=>de}}})();this.runtime={transformer:{serialize:ae=>oe.input.serialize(ae),deserialize:ae=>oe.output.deserialize(ae)},combinedTransformer:oe},this.links=ne.links.map(ae=>ae(this.runtime))}}const clientCallTypeMap={query:"query",mutate:"mutation",subscribe:"subscription"},clientCallTypeToProcedureType=ee=>clientCallTypeMap[ee];function createTRPCClientProxy(ee){return createFlatProxy(ne=>ee.hasOwnProperty(ne)?ee[ne]:ne==="__untypedClient"?ee:createRecursiveProxy(({path:oe,args:ae})=>{const de=[ne,...oe],fe=clientCallTypeToProcedureType(de.pop()),pe=de.join(".");return ee[fe](pe,...ae)}))}function createTRPCProxyClient(ee){const ne=new TRPCUntypedClient(ee);return createTRPCClientProxy(ne)}function T$3({url:ee}){return createTRPCProxyClient({transformer:SuperJSON,links:[httpBatchLink({url:ee})]})}var I$2=(ee=>(ee[ee.UINT8=0]="UINT8",ee[ee.UINT16=1]="UINT16",ee[ee.UINT24=2]="UINT24",ee[ee.UINT32=3]="UINT32",ee[ee.UINT40=4]="UINT40",ee[ee.UINT48=5]="UINT48",ee[ee.UINT56=6]="UINT56",ee[ee.UINT64=7]="UINT64",ee[ee.UINT72=8]="UINT72",ee[ee.UINT80=9]="UINT80",ee[ee.UINT88=10]="UINT88",ee[ee.UINT96=11]="UINT96",ee[ee.UINT104=12]="UINT104",ee[ee.UINT112=13]="UINT112",ee[ee.UINT120=14]="UINT120",ee[ee.UINT128=15]="UINT128",ee[ee.UINT136=16]="UINT136",ee[ee.UINT144=17]="UINT144",ee[ee.UINT152=18]="UINT152",ee[ee.UINT160=19]="UINT160",ee[ee.UINT168=20]="UINT168",ee[ee.UINT176=21]="UINT176",ee[ee.UINT184=22]="UINT184",ee[ee.UINT192=23]="UINT192",ee[ee.UINT200=24]="UINT200",ee[ee.UINT208=25]="UINT208",ee[ee.UINT216=26]="UINT216",ee[ee.UINT224=27]="UINT224",ee[ee.UINT232=28]="UINT232",ee[ee.UINT240=29]="UINT240",ee[ee.UINT248=30]="UINT248",ee[ee.UINT256=31]="UINT256",ee[ee.INT8=32]="INT8",ee[ee.INT16=33]="INT16",ee[ee.INT24=34]="INT24",ee[ee.INT32=35]="INT32",ee[ee.INT40=36]="INT40",ee[ee.INT48=37]="INT48",ee[ee.INT56=38]="INT56",ee[ee.INT64=39]="INT64",ee[ee.INT72=40]="INT72",ee[ee.INT80=41]="INT80",ee[ee.INT88=42]="INT88",ee[ee.INT96=43]="INT96",ee[ee.INT104=44]="INT104",ee[ee.INT112=45]="INT112",ee[ee.INT120=46]="INT120",ee[ee.INT128=47]="INT128",ee[ee.INT136=48]="INT136",ee[ee.INT144=49]="INT144",ee[ee.INT152=50]="INT152",ee[ee.INT160=51]="INT160",ee[ee.INT168=52]="INT168",ee[ee.INT176=53]="INT176",ee[ee.INT184=54]="INT184",ee[ee.INT192=55]="INT192",ee[ee.INT200=56]="INT200",ee[ee.INT208=57]="INT208",ee[ee.INT216=58]="INT216",ee[ee.INT224=59]="INT224",ee[ee.INT232=60]="INT232",ee[ee.INT240=61]="INT240",ee[ee.INT248=62]="INT248",ee[ee.INT256=63]="INT256",ee[ee.BYTES1=64]="BYTES1",ee[ee.BYTES2=65]="BYTES2",ee[ee.BYTES3=66]="BYTES3",ee[ee.BYTES4=67]="BYTES4",ee[ee.BYTES5=68]="BYTES5",ee[ee.BYTES6=69]="BYTES6",ee[ee.BYTES7=70]="BYTES7",ee[ee.BYTES8=71]="BYTES8",ee[ee.BYTES9=72]="BYTES9",ee[ee.BYTES10=73]="BYTES10",ee[ee.BYTES11=74]="BYTES11",ee[ee.BYTES12=75]="BYTES12",ee[ee.BYTES13=76]="BYTES13",ee[ee.BYTES14=77]="BYTES14",ee[ee.BYTES15=78]="BYTES15",ee[ee.BYTES16=79]="BYTES16",ee[ee.BYTES17=80]="BYTES17",ee[ee.BYTES18=81]="BYTES18",ee[ee.BYTES19=82]="BYTES19",ee[ee.BYTES20=83]="BYTES20",ee[ee.BYTES21=84]="BYTES21",ee[ee.BYTES22=85]="BYTES22",ee[ee.BYTES23=86]="BYTES23",ee[ee.BYTES24=87]="BYTES24",ee[ee.BYTES25=88]="BYTES25",ee[ee.BYTES26=89]="BYTES26",ee[ee.BYTES27=90]="BYTES27",ee[ee.BYTES28=91]="BYTES28",ee[ee.BYTES29=92]="BYTES29",ee[ee.BYTES30=93]="BYTES30",ee[ee.BYTES31=94]="BYTES31",ee[ee.BYTES32=95]="BYTES32",ee[ee.BOOL=96]="BOOL",ee[ee.ADDRESS=97]="ADDRESS",ee[ee.UINT8_ARRAY=98]="UINT8_ARRAY",ee[ee.UINT16_ARRAY=99]="UINT16_ARRAY",ee[ee.UINT24_ARRAY=100]="UINT24_ARRAY",ee[ee.UINT32_ARRAY=101]="UINT32_ARRAY",ee[ee.UINT40_ARRAY=102]="UINT40_ARRAY",ee[ee.UINT48_ARRAY=103]="UINT48_ARRAY",ee[ee.UINT56_ARRAY=104]="UINT56_ARRAY",ee[ee.UINT64_ARRAY=105]="UINT64_ARRAY",ee[ee.UINT72_ARRAY=106]="UINT72_ARRAY",ee[ee.UINT80_ARRAY=107]="UINT80_ARRAY",ee[ee.UINT88_ARRAY=108]="UINT88_ARRAY",ee[ee.UINT96_ARRAY=109]="UINT96_ARRAY",ee[ee.UINT104_ARRAY=110]="UINT104_ARRAY",ee[ee.UINT112_ARRAY=111]="UINT112_ARRAY",ee[ee.UINT120_ARRAY=112]="UINT120_ARRAY",ee[ee.UINT128_ARRAY=113]="UINT128_ARRAY",ee[ee.UINT136_ARRAY=114]="UINT136_ARRAY",ee[ee.UINT144_ARRAY=115]="UINT144_ARRAY",ee[ee.UINT152_ARRAY=116]="UINT152_ARRAY",ee[ee.UINT160_ARRAY=117]="UINT160_ARRAY",ee[ee.UINT168_ARRAY=118]="UINT168_ARRAY",ee[ee.UINT176_ARRAY=119]="UINT176_ARRAY",ee[ee.UINT184_ARRAY=120]="UINT184_ARRAY",ee[ee.UINT192_ARRAY=121]="UINT192_ARRAY",ee[ee.UINT200_ARRAY=122]="UINT200_ARRAY",ee[ee.UINT208_ARRAY=123]="UINT208_ARRAY",ee[ee.UINT216_ARRAY=124]="UINT216_ARRAY",ee[ee.UINT224_ARRAY=125]="UINT224_ARRAY",ee[ee.UINT232_ARRAY=126]="UINT232_ARRAY",ee[ee.UINT240_ARRAY=127]="UINT240_ARRAY",ee[ee.UINT248_ARRAY=128]="UINT248_ARRAY",ee[ee.UINT256_ARRAY=129]="UINT256_ARRAY",ee[ee.INT8_ARRAY=130]="INT8_ARRAY",ee[ee.INT16_ARRAY=131]="INT16_ARRAY",ee[ee.INT24_ARRAY=132]="INT24_ARRAY",ee[ee.INT32_ARRAY=133]="INT32_ARRAY",ee[ee.INT40_ARRAY=134]="INT40_ARRAY",ee[ee.INT48_ARRAY=135]="INT48_ARRAY",ee[ee.INT56_ARRAY=136]="INT56_ARRAY",ee[ee.INT64_ARRAY=137]="INT64_ARRAY",ee[ee.INT72_ARRAY=138]="INT72_ARRAY",ee[ee.INT80_ARRAY=139]="INT80_ARRAY",ee[ee.INT88_ARRAY=140]="INT88_ARRAY",ee[ee.INT96_ARRAY=141]="INT96_ARRAY",ee[ee.INT104_ARRAY=142]="INT104_ARRAY",ee[ee.INT112_ARRAY=143]="INT112_ARRAY",ee[ee.INT120_ARRAY=144]="INT120_ARRAY",ee[ee.INT128_ARRAY=145]="INT128_ARRAY",ee[ee.INT136_ARRAY=146]="INT136_ARRAY",ee[ee.INT144_ARRAY=147]="INT144_ARRAY",ee[ee.INT152_ARRAY=148]="INT152_ARRAY",ee[ee.INT160_ARRAY=149]="INT160_ARRAY",ee[ee.INT168_ARRAY=150]="INT168_ARRAY",ee[ee.INT176_ARRAY=151]="INT176_ARRAY",ee[ee.INT184_ARRAY=152]="INT184_ARRAY",ee[ee.INT192_ARRAY=153]="INT192_ARRAY",ee[ee.INT200_ARRAY=154]="INT200_ARRAY",ee[ee.INT208_ARRAY=155]="INT208_ARRAY",ee[ee.INT216_ARRAY=156]="INT216_ARRAY",ee[ee.INT224_ARRAY=157]="INT224_ARRAY",ee[ee.INT232_ARRAY=158]="INT232_ARRAY",ee[ee.INT240_ARRAY=159]="INT240_ARRAY",ee[ee.INT248_ARRAY=160]="INT248_ARRAY",ee[ee.INT256_ARRAY=161]="INT256_ARRAY",ee[ee.BYTES1_ARRAY=162]="BYTES1_ARRAY",ee[ee.BYTES2_ARRAY=163]="BYTES2_ARRAY",ee[ee.BYTES3_ARRAY=164]="BYTES3_ARRAY",ee[ee.BYTES4_ARRAY=165]="BYTES4_ARRAY",ee[ee.BYTES5_ARRAY=166]="BYTES5_ARRAY",ee[ee.BYTES6_ARRAY=167]="BYTES6_ARRAY",ee[ee.BYTES7_ARRAY=168]="BYTES7_ARRAY",ee[ee.BYTES8_ARRAY=169]="BYTES8_ARRAY",ee[ee.BYTES9_ARRAY=170]="BYTES9_ARRAY",ee[ee.BYTES10_ARRAY=171]="BYTES10_ARRAY",ee[ee.BYTES11_ARRAY=172]="BYTES11_ARRAY",ee[ee.BYTES12_ARRAY=173]="BYTES12_ARRAY",ee[ee.BYTES13_ARRAY=174]="BYTES13_ARRAY",ee[ee.BYTES14_ARRAY=175]="BYTES14_ARRAY",ee[ee.BYTES15_ARRAY=176]="BYTES15_ARRAY",ee[ee.BYTES16_ARRAY=177]="BYTES16_ARRAY",ee[ee.BYTES17_ARRAY=178]="BYTES17_ARRAY",ee[ee.BYTES18_ARRAY=179]="BYTES18_ARRAY",ee[ee.BYTES19_ARRAY=180]="BYTES19_ARRAY",ee[ee.BYTES20_ARRAY=181]="BYTES20_ARRAY",ee[ee.BYTES21_ARRAY=182]="BYTES21_ARRAY",ee[ee.BYTES22_ARRAY=183]="BYTES22_ARRAY",ee[ee.BYTES23_ARRAY=184]="BYTES23_ARRAY",ee[ee.BYTES24_ARRAY=185]="BYTES24_ARRAY",ee[ee.BYTES25_ARRAY=186]="BYTES25_ARRAY",ee[ee.BYTES26_ARRAY=187]="BYTES26_ARRAY",ee[ee.BYTES27_ARRAY=188]="BYTES27_ARRAY",ee[ee.BYTES28_ARRAY=189]="BYTES28_ARRAY",ee[ee.BYTES29_ARRAY=190]="BYTES29_ARRAY",ee[ee.BYTES30_ARRAY=191]="BYTES30_ARRAY",ee[ee.BYTES31_ARRAY=192]="BYTES31_ARRAY",ee[ee.BYTES32_ARRAY=193]="BYTES32_ARRAY",ee[ee.BOOL_ARRAY=194]="BOOL_ARRAY",ee[ee.ADDRESS_ARRAY=195]="ADDRESS_ARRAY",ee[ee.BYTES=196]="BYTES",ee[ee.STRING=197]="STRING",ee))(I$2||{}),Y$2={[0]:"uint8",[1]:"uint16",[2]:"uint24",[3]:"uint32",[4]:"uint40",[5]:"uint48",[6]:"uint56",[7]:"uint64",[8]:"uint72",[9]:"uint80",[10]:"uint88",[11]:"uint96",[12]:"uint104",[13]:"uint112",[14]:"uint120",[15]:"uint128",[16]:"uint136",[17]:"uint144",[18]:"uint152",[19]:"uint160",[20]:"uint168",[21]:"uint176",[22]:"uint184",[23]:"uint192",[24]:"uint200",[25]:"uint208",[26]:"uint216",[27]:"uint224",[28]:"uint232",[29]:"uint240",[30]:"uint248",[31]:"uint256",[32]:"int8",[33]:"int16",[34]:"int24",[35]:"int32",[36]:"int40",[37]:"int48",[38]:"int56",[39]:"int64",[40]:"int72",[41]:"int80",[42]:"int88",[43]:"int96",[44]:"int104",[45]:"int112",[46]:"int120",[47]:"int128",[48]:"int136",[49]:"int144",[50]:"int152",[51]:"int160",[52]:"int168",[53]:"int176",[54]:"int184",[55]:"int192",[56]:"int200",[57]:"int208",[58]:"int216",[59]:"int224",[60]:"int232",[61]:"int240",[62]:"int248",[63]:"int256",[64]:"bytes1",[65]:"bytes2",[66]:"bytes3",[67]:"bytes4",[68]:"bytes5",[69]:"bytes6",[70]:"bytes7",[71]:"bytes8",[72]:"bytes9",[73]:"bytes10",[74]:"bytes11",[75]:"bytes12",[76]:"bytes13",[77]:"bytes14",[78]:"bytes15",[79]:"bytes16",[80]:"bytes17",[81]:"bytes18",[82]:"bytes19",[83]:"bytes20",[84]:"bytes21",[85]:"bytes22",[86]:"bytes23",[87]:"bytes24",[88]:"bytes25",[89]:"bytes26",[90]:"bytes27",[91]:"bytes28",[92]:"bytes29",[93]:"bytes30",[94]:"bytes31",[95]:"bytes32",[96]:"bool",[97]:"address",[98]:"uint8[]",[99]:"uint16[]",[100]:"uint24[]",[101]:"uint32[]",[102]:"uint40[]",[103]:"uint48[]",[104]:"uint56[]",[105]:"uint64[]",[106]:"uint72[]",[107]:"uint80[]",[108]:"uint88[]",[109]:"uint96[]",[110]:"uint104[]",[111]:"uint112[]",[112]:"uint120[]",[113]:"uint128[]",[114]:"uint136[]",[115]:"uint144[]",[116]:"uint152[]",[117]:"uint160[]",[118]:"uint168[]",[119]:"uint176[]",[120]:"uint184[]",[121]:"uint192[]",[122]:"uint200[]",[123]:"uint208[]",[124]:"uint216[]",[125]:"uint224[]",[126]:"uint232[]",[127]:"uint240[]",[128]:"uint248[]",[129]:"uint256[]",[130]:"int8[]",[131]:"int16[]",[132]:"int24[]",[133]:"int32[]",[134]:"int40[]",[135]:"int48[]",[136]:"int56[]",[137]:"int64[]",[138]:"int72[]",[139]:"int80[]",[140]:"int88[]",[141]:"int96[]",[142]:"int104[]",[143]:"int112[]",[144]:"int120[]",[145]:"int128[]",[146]:"int136[]",[147]:"int144[]",[148]:"int152[]",[149]:"int160[]",[150]:"int168[]",[151]:"int176[]",[152]:"int184[]",[153]:"int192[]",[154]:"int200[]",[155]:"int208[]",[156]:"int216[]",[157]:"int224[]",[158]:"int232[]",[159]:"int240[]",[160]:"int248[]",[161]:"int256[]",[162]:"bytes1[]",[163]:"bytes2[]",[164]:"bytes3[]",[165]:"bytes4[]",[166]:"bytes5[]",[167]:"bytes6[]",[168]:"bytes7[]",[169]:"bytes8[]",[170]:"bytes9[]",[171]:"bytes10[]",[172]:"bytes11[]",[173]:"bytes12[]",[174]:"bytes13[]",[175]:"bytes14[]",[176]:"bytes15[]",[177]:"bytes16[]",[178]:"bytes17[]",[179]:"bytes18[]",[180]:"bytes19[]",[181]:"bytes20[]",[182]:"bytes21[]",[183]:"bytes22[]",[184]:"bytes23[]",[185]:"bytes24[]",[186]:"bytes25[]",[187]:"bytes26[]",[188]:"bytes27[]",[189]:"bytes28[]",[190]:"bytes29[]",[191]:"bytes30[]",[192]:"bytes31[]",[193]:"bytes32[]",[194]:"bool[]",[195]:"address[]",[196]:"bytes",[197]:"string"},s$5=Object.values(Y$2),_$1=Object.fromEntries(Object.entries(Y$2).map(([ee,ne])=>[ne,parseInt(ee)]));function n$1(ee){let ne=ee.valueOf();return ne<32?ne+1:ne<64?ne+1-32:ne<96?ne+1-64:ee==96?1:ee==97?20:0}var U$1=s$5.filter(ee=>n$1(_$1[ee])>0);const identifierRegex=/[$_\p{ID_Start}][$\u200c\u200d\p{ID_Continue}]*/u;function joinPath(ee){return ee.length===1?ee[0].toString():ee.reduce((ne,oe)=>{if(typeof oe=="number")return ne+"["+oe.toString()+"]";if(oe.includes('"'))return ne+'["'+escapeQuotes(oe)+'"]';if(!identifierRegex.test(oe))return ne+'["'+oe+'"]';const ae=ne.length===0?"":".";return ne+ae+oe},"")}function escapeQuotes(ee){return ee.replace(/"/g,'\\"')}function isNonEmptyArray(ee){return ee.length!==0}const MAX_ISSUES_IN_MESSAGE=99,ISSUE_SEPARATOR="; ",UNION_SEPARATOR=", or ",PREFIX="Validation error",PREFIX_SEPARATOR=": ";class ValidationError extends Error{details;name;constructor(ne,oe=[]){super(ne),this.details=oe,this.name="ZodValidationError"}toString(){return this.message}}function getMessageFromZodIssue(ee,ne,oe){if(ee.code==="invalid_union")return ee.unionErrors.reduce((ae,de)=>{const fe=de.issues.map(pe=>getMessageFromZodIssue(pe,ne,oe)).join(ne);return ae.includes(fe)||ae.push(fe),ae},[]).join(oe);if(isNonEmptyArray(ee.path)){if(ee.path.length===1){const ae=ee.path[0];if(typeof ae=="number")return`${ee.message} at index ${ae}`}return`${ee.message} at "${joinPath(ee.path)}"`}return ee.message}function conditionallyPrefixMessage(ee,ne,oe){return ne!==null?ee.length>0?[ne,ee].join(oe):ne:ee.length>0?ee:PREFIX}function fromZodError(ee,ne={}){const{maxIssuesInMessage:oe=MAX_ISSUES_IN_MESSAGE,issueSeparator:ae=ISSUE_SEPARATOR,unionSeparator:de=UNION_SEPARATOR,prefixSeparator:fe=PREFIX_SEPARATOR,prefix:pe=PREFIX}=ne,he=ee.errors.slice(0,oe).map(ge=>getMessageFromZodIssue(ge,ae,de)).join(ae),be=conditionallyPrefixMessage(he,pe,fe);return new ValidationError(be,ee.errors)}var a$3=Object.defineProperty,d$2=(ee,ne,oe)=>ne in ee?a$3(ee,ne,{enumerable:!0,configurable:!0,writable:!0,value:oe}):ee[ne]=oe,p$3=(ee,ne,oe)=>(d$2(ee,typeof ne!="symbol"?ne+"":ne,oe),oe),t$3=class extends Error{name="MUDContextAlreadyCreatedError";message="MUD context was already created"},s$4=class extends Error{name="MUDContextNotCreatedError";message="MUD context has not been created"};function f$4(ee,ne){return fromZodError(ee,{prefix:ne,prefixSeparator:`
- `,issueSeparator:`
- `})}var r$4=class extends Error{name="MUDError"},z$1=16,g$2=14;function d$1(ee,ne){/^\w+$/.test(ee)||ne.addIssue({code:ZodIssueCode.custom,message:"Name must contain only alphanumeric & underscore characters"})}function x$3(ee,ne){d$1(ee,ne),/^[A-Z]/.test(ee)||ne.addIssue({code:ZodIssueCode.custom,message:"Name must start with a capital letter"})}function C$1(ee,ne){d$1(ee,ne),/^[a-z]/.test(ee)||ne.addIssue({code:ZodIssueCode.custom,message:"Name must start with a lowercase letter"})}function h$1(ee,ne){ee.length===0&&ne.addIssue({code:ZodIssueCode.custom,message:"Enum must not be empty"}),ee.length>=256&&ne.addIssue({code:ZodIssueCode.custom,message:"Length of enum must be < 256"});let oe=M$3(ee);oe.length>0&&ne.addIssue({code:ZodIssueCode.custom,message:`Enum must not have duplicate names for: ${oe.join(", ")}`})}function c$2(ee,ne){return(oe,ae)=>{if(oe===""){ee&&ae.addIssue({code:ZodIssueCode.custom,message:"Route must not be empty"});return}oe[0]!=="/"&&ae.addIssue({code:ZodIssueCode.custom,message:'Route must start with "/"'}),oe[oe.length-1]==="/"&&ae.addIssue({code:ZodIssueCode.custom,message:'Route must not end with "/"'});let de=oe.split("/");ne&&de.length>2&&ae.addIssue({code:ZodIssueCode.custom,message:'Route must only have one level (e.g. "/foo")'});for(let fe=1;fe<de.length;fe++)de[fe]===""&&ae.addIssue({code:ZodIssueCode.custom,message:'Route must not contain empty route fragments (e.g. "//")'}),/^\w+$/.test(de[fe])||ae.addIssue({code:ZodIssueCode.custom,message:"Route must contain only alphanumeric & underscore characters"})}}var R$3=c$2(!0,!1),y$3=c$2(!1,!1),b$3=c$2(!0,!0);function D$1(ee,ne){isAddress(ee)||ne.addIssue({code:ZodIssueCode.custom,message:"Address must be a valid Ethereum address"})}function M$3(ee){let ne=new Set,oe=new Set;for(let ae of ee)ne.has(ae)&&oe.add(ae),ne.add(ae);return[...oe]}function E$2(ee,ne){ee.length>g$2&&ne.addIssue({code:ZodIssueCode.custom,message:`Namespace must be <= ${g$2} characters`}),/^\w*$/.test(ee)||ne.addIssue({code:ZodIssueCode.custom,message:"Selector must contain only alphanumeric & underscore characters"})}function S$2(ee){let ne=ee.match(/^(\w+)\[(\d+)\]$/);return ne?{elementType:ne[1],staticLength:Number.parseInt(ne[2])}:null}var v$2=z$2.string().superRefine(x$3),B$2=z$2.string().superRefine(C$1),G$1=z$2.string().superRefine(d$1),O$3=z$2.string().superRefine(E$2),V$2=z$2.array(v$2).superRefine(h$1);z$2.string().superRefine(R$3);z$2.string().superRefine(b$3);z$2.string().superRefine(y$3);var P$3=z$2.string().superRefine(D$1),l$5=class{static isCreated(){return this._global.__mudCoreContext!==void 0}static createContext(){if(this.isCreated())throw new t$3;let ne=this._global,oe=new l$5;return ne.__mudCoreContext=oe,oe}static getContext(){let ne=this._global.__mudCoreContext;if(ne===void 0)throw new s$4;return ne}configExtenders=[]},i$2=l$5;p$3(i$2,"_global",typeof global>"u"?window.global??{}:global);function q$3(ee){let ne=ee,oe=i$2.getContext();for(let ae of oe.configExtenders)ne=ae(ne);return ne}function K$1(ee){i$2.getContext().configExtenders.push(ee)}var N$2=(ee=>(ee[ee.TABLE_ID=0]="TABLE_ID",ee[ee.SYSTEM_ADDRESS=1]="SYSTEM_ADDRESS",ee))(N$2||{}),n=/\[\]$/;function b$2(ee){return n.test(ee)}function r$3(ee){return ee.replace(n,"")}var i$1=["uint8","uint16","uint24","uint32","uint40","uint48","uint56","uint64","uint72","uint80","uint88","uint96","uint104","uint112","uint120","uint128","uint136","uint144","uint152","uint160","uint168","uint176","uint184","uint192","uint200","uint208","uint216","uint224","uint232","uint240","uint248","uint256","int8","int16","int24","int32","int40","int48","int56","int64","int72","int80","int88","int96","int104","int112","int120","int128","int136","int144","int152","int160","int168","int176","int184","int192","int200","int208","int216","int224","int232","int240","int248","int256","bytes1","bytes2","bytes3","bytes4","bytes5","bytes6","bytes7","bytes8","bytes9","bytes10","bytes11","bytes12","bytes13","bytes14","bytes15","bytes16","bytes17","bytes18","bytes19","bytes20","bytes21","bytes22","bytes23","bytes24","bytes25","bytes26","bytes27","bytes28","bytes29","bytes30","bytes31","bytes32","bool","address","uint8[]","uint16[]","uint24[]","uint32[]","uint40[]","uint48[]","uint56[]","uint64[]","uint72[]","uint80[]","uint88[]","uint96[]","uint104[]","uint112[]","uint120[]","uint128[]","uint136[]","uint144[]","uint152[]","uint160[]","uint168[]","uint176[]","uint184[]","uint192[]","uint200[]","uint208[]","uint216[]","uint224[]","uint232[]","uint240[]","uint248[]","uint256[]","int8[]","int16[]","int24[]","int32[]","int40[]","int48[]","int56[]","int64[]","int72[]","int80[]","int88[]","int96[]","int104[]","int112[]","int120[]","int128[]","int136[]","int144[]","int152[]","int160[]","int168[]","int176[]","int184[]","int192[]","int200[]","int208[]","int216[]","int224[]","int232[]","int240[]","int248[]","int256[]","bytes1[]","bytes2[]","bytes3[]","bytes4[]","bytes5[]","bytes6[]","bytes7[]","bytes8[]","bytes9[]","bytes10[]","bytes11[]","bytes12[]","bytes13[]","bytes14[]","bytes15[]","bytes16[]","bytes17[]","bytes18[]","bytes19[]","bytes20[]","bytes21[]","bytes22[]","bytes23[]","bytes24[]","bytes25[]","bytes26[]","bytes27[]","bytes28[]","bytes29[]","bytes30[]","bytes31[]","bytes32[]","bool[]","address[]","bytes","string"],e$1=i$1.slice(0,98),y$2=i$1.slice(98),s$3={"uint8[]":[],"uint16[]":[],"uint24[]":[],"uint32[]":[],"uint40[]":[],"uint48[]":[],"uint56[]":[],"uint64[]":[],"uint72[]":[],"uint80[]":[],"uint88[]":[],"uint96[]":[],"uint104[]":[],"uint112[]":[],"uint120[]":[],"uint128[]":[],"uint136[]":[],"uint144[]":[],"uint152[]":[],"uint160[]":[],"uint168[]":[],"uint176[]":[],"uint184[]":[],"uint192[]":[],"uint200[]":[],"uint208[]":[],"uint216[]":[],"uint224[]":[],"uint232[]":[],"uint240[]":[],"uint248[]":[],"uint256[]":[],"int8[]":[],"int16[]":[],"int24[]":[],"int32[]":[],"int40[]":[],"int48[]":[],"int56[]":[],"int64[]":[],"int72[]":[],"int80[]":[],"int88[]":[],"int96[]":[],"int104[]":[],"int112[]":[],"int120[]":[],"int128[]":[],"int136[]":[],"int144[]":[],"int152[]":[],"int160[]":[],"int168[]":[],"int176[]":[],"int184[]":[],"int192[]":[],"int200[]":[],"int208[]":[],"int216[]":[],"int224[]":[],"int232[]":[],"int240[]":[],"int248[]":[],"int256[]":[],"bytes1[]":[],"bytes2[]":[],"bytes3[]":[],"bytes4[]":[],"bytes5[]":[],"bytes6[]":[],"bytes7[]":[],"bytes8[]":[],"bytes9[]":[],"bytes10[]":[],"bytes11[]":[],"bytes12[]":[],"bytes13[]":[],"bytes14[]":[],"bytes15[]":[],"bytes16[]":[],"bytes17[]":[],"bytes18[]":[],"bytes19[]":[],"bytes20[]":[],"bytes21[]":[],"bytes22[]":[],"bytes23[]":[],"bytes24[]":[],"bytes25[]":[],"bytes26[]":[],"bytes27[]":[],"bytes28[]":[],"bytes29[]":[],"bytes30[]":[],"bytes31[]":[],"bytes32[]":[],"bool[]":[],"address[]":[],bytes:"0x",string:""};function x$2(ee){return y$2.includes(ee)}var a$2={uint8:0,uint16:0,uint24:0,uint32:0,uint40:0,uint48:0,uint56:0n,uint64:0n,uint72:0n,uint80:0n,uint88:0n,uint96:0n,uint104:0n,uint112:0n,uint120:0n,uint128:0n,uint136:0n,uint144:0n,uint152:0n,uint160:0n,uint168:0n,uint176:0n,uint184:0n,uint192:0n,uint200:0n,uint208:0n,uint216:0n,uint224:0n,uint232:0n,uint240:0n,uint248:0n,uint256:0n,int8:0,int16:0,int24:0,int32:0,int40:0,int48:0,int56:0n,int64:0n,int72:0n,int80:0n,int88:0n,int96:0n,int104:0n,int112:0n,int120:0n,int128:0n,int136:0n,int144:0n,int152:0n,int160:0n,int168:0n,int176:0n,int184:0n,int192:0n,int200:0n,int208:0n,int216:0n,int224:0n,int232:0n,int240:0n,int248:0n,int256:0n,bytes1:"0x00",bytes2:"0x0000",bytes3:"0x000000",bytes4:"0x00000000",bytes5:"0x0000000000",bytes6:"0x000000000000",bytes7:"0x00000000000000",bytes8:"0x0000000000000000",bytes9:"0x000000000000000000",bytes10:"0x00000000000000000000",bytes11:"0x0000000000000000000000",bytes12:"0x000000000000000000000000",bytes13:"0x00000000000000000000000000",bytes14:"0x0000000000000000000000000000",bytes15:"0x000000000000000000000000000000",bytes16:"0x00000000000000000000000000000000",bytes17:"0x0000000000000000000000000000000000",bytes18:"0x000000000000000000000000000000000000",bytes19:"0x00000000000000000000000000000000000000",bytes20:"0x0000000000000000000000000000000000000000",bytes21:"0x000000000000000000000000000000000000000000",bytes22:"0x00000000000000000000000000000000000000000000",bytes23:"0x0000000000000000000000000000000000000000000000",bytes24:"0x000000000000000000000000000000000000000000000000",bytes25:"0x00000000000000000000000000000000000000000000000000",bytes26:"0x0000000000000000000000000000000000000000000000000000",bytes27:"0x000000000000000000000000000000000000000000000000000000",bytes28:"0x00000000000000000000000000000000000000000000000000000000",bytes29:"0x0000000000000000000000000000000000000000000000000000000000",bytes30:"0x000000000000000000000000000000000000000000000000000000000000",bytes31:"0x00000000000000000000000000000000000000000000000000000000000000",bytes32:"0x0000000000000000000000000000000000000000000000000000000000000000",bool:!1,address:"0x0000000000000000000000000000000000000000"},g$1={uint8:1,uint16:2,uint24:3,uint32:4,uint40:5,uint48:6,uint56:7,uint64:8,uint72:9,uint80:10,uint88:11,uint96:12,uint104:13,uint112:14,uint120:15,uint128:16,uint136:17,uint144:18,uint152:19,uint160:20,uint168:21,uint176:22,uint184:23,uint192:24,uint200:25,uint208:26,uint216:27,uint224:28,uint232:29,uint240:30,uint248:31,uint256:32,int8:1,int16:2,int24:3,int32:4,int40:5,int48:6,int56:7,int64:8,int72:9,int80:10,int88:11,int96:12,int104:13,int112:14,int120:15,int128:16,int136:17,int144:18,int152:19,int160:20,int168:21,int176:22,int184:23,int192:24,int200:25,int208:26,int216:27,int224:28,int232:29,int240:30,int248:31,int256:32,bytes1:1,bytes2:2,bytes3:3,bytes4:4,bytes5:5,bytes6:6,bytes7:7,bytes8:8,bytes9:9,bytes10:10,bytes11:11,bytes12:12,bytes13:13,bytes14:14,bytes15:15,bytes16:16,bytes17:17,bytes18:18,bytes19:19,bytes20:20,bytes21:21,bytes22:22,bytes23:23,bytes24:24,bytes25:25,bytes26:26,bytes27:27,bytes28:28,bytes29:29,bytes30:30,bytes31:31,bytes32:32,bool:1,address:20};function f$3(ee){return e$1.includes(ee)}function o$2(ee,ne){throw new Error(ne??`Unexpected value: ${ee}`)}function s$2(...ee){return ee.reduce((ne,oe)=>oe<ne?oe:ne)}function m$3(ee,ne){return ee<ne?-1:ee>ne?1:0}function*c$1(ee,ne){for(let oe=0;oe<ee.length;oe+=ne)yield ee.slice(oe,oe+ne)}function P$2(ee){return ee!==void 0}function S$1(ee,ne){return Object.fromEntries(Object.entries(ee).map(([oe,ae])=>[oe,ne(ae,oe)]))}function R$2(ee){return new Promise(ne=>setTimeout(()=>ne(),ee))}var browserExports={},browser={get exports(){return browserExports},set exports(ee){browserExports=ee}},ms,hasRequiredMs;function requireMs(){if(hasRequiredMs)return ms;hasRequiredMs=1;var ee=1e3,ne=ee*60,oe=ne*60,ae=oe*24,de=ae*7,fe=ae*365.25;ms=function(ve,we){we=we||{};var _e=typeof ve;if(_e==="string"&&ve.length>0)return pe(ve);if(_e==="number"&&isFinite(ve))return we.long?be(ve):he(ve);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(ve))};function pe(ve){if(ve=String(ve),!(ve.length>100)){var we=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(ve);if(we){var _e=parseFloat(we[1]),Te=(we[2]||"ms").toLowerCase();switch(Te){case"years":case"year":case"yrs":case"yr":case"y":return _e*fe;case"weeks":case"week":case"w":return _e*de;case"days":case"day":case"d":return _e*ae;case"hours":case"hour":case"hrs":case"hr":case"h":return _e*oe;case"minutes":case"minute":case"mins":case"min":case"m":return _e*ne;case"seconds":case"second":case"secs":case"sec":case"s":return _e*ee;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return _e;default:return}}}}function he(ve){var we=Math.abs(ve);return we>=ae?Math.round(ve/ae)+"d":we>=oe?Math.round(ve/oe)+"h":we>=ne?Math.round(ve/ne)+"m":we>=ee?Math.round(ve/ee)+"s":ve+"ms"}function be(ve){var we=Math.abs(ve);return we>=ae?ge(ve,we,ae,"day"):we>=oe?ge(ve,we,oe,"hour"):we>=ne?ge(ve,we,ne,"minute"):we>=ee?ge(ve,we,ee,"second"):ve+" ms"}function ge(ve,we,_e,Te){var Ee=we>=_e*1.5;return Math.round(ve/_e)+" "+Te+(Ee?"s":"")}return ms}function setup$1(ee){oe.debug=oe,oe.default=oe,oe.coerce=be,oe.disable=fe,oe.enable=de,oe.enabled=pe,oe.humanize=requireMs(),oe.destroy=ge,Object.keys(ee).forEach(ve=>{oe[ve]=ee[ve]}),oe.names=[],oe.skips=[],oe.formatters={};function ne(ve){let we=0;for(let _e=0;_e<ve.length;_e++)we=(we<<5)-we+ve.charCodeAt(_e),we|=0;return oe.colors[Math.abs(we)%oe.colors.length]}oe.selectColor=ne;function oe(ve){let we,_e=null,Te,Ee;function Ie(...Pe){if(!Ie.enabled)return;const xe=Ie,Ae=Number(new Date),$e=Ae-(we||Ae);xe.diff=$e,xe.prev=we,xe.curr=Ae,we=Ae,Pe[0]=oe.coerce(Pe[0]),typeof Pe[0]!="string"&&Pe.unshift("%O");let Se=0;Pe[0]=Pe[0].replace(/%([a-zA-Z%])/g,(Be,Ze)=>{if(Be==="%%")return"%";Se++;const Fe=oe.formatters[Ze];if(typeof Fe=="function"){const He=Pe[Se];Be=Fe.call(xe,He),Pe.splice(Se,1),Se--}return Be}),oe.formatArgs.call(xe,Pe),(xe.log||oe.log).apply(xe,Pe)}return Ie.namespace=ve,Ie.useColors=oe.useColors(),Ie.color=oe.selectColor(ve),Ie.extend=ae,Ie.destroy=oe.destroy,Object.defineProperty(Ie,"enabled",{enumerable:!0,configurable:!1,get:()=>_e!==null?_e:(Te!==oe.namespaces&&(Te=oe.namespaces,Ee=oe.enabled(ve)),Ee),set:Pe=>{_e=Pe}}),typeof oe.init=="function"&&oe.init(Ie),Ie}function ae(ve,we){const _e=oe(this.namespace+(typeof we>"u"?":":we)+ve);return _e.log=this.log,_e}function de(ve){oe.save(ve),oe.namespaces=ve,oe.names=[],oe.skips=[];let we;const _e=(typeof ve=="string"?ve:"").split(/[\s,]+/),Te=_e.length;for(we=0;we<Te;we++)_e[we]&&(ve=_e[we].replace(/\*/g,".*?"),ve[0]==="-"?oe.skips.push(new RegExp("^"+ve.slice(1)+"$")):oe.names.push(new RegExp("^"+ve+"$")))}function fe(){const ve=[...oe.names.map(he),...oe.skips.map(he).map(we=>"-"+we)].join(",");return oe.enable(""),ve}function pe(ve){if(ve[ve.length-1]==="*")return!0;let we,_e;for(we=0,_e=oe.skips.length;we<_e;we++)if(oe.skips[we].test(ve))return!1;for(we=0,_e=oe.names.length;we<_e;we++)if(oe.names[we].test(ve))return!0;return!1}function he(ve){return ve.toString().substring(2,ve.toString().length-2).replace(/\.\*\?$/,"*")}function be(ve){return ve instanceof Error?ve.stack||ve.message:ve}function ge(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return oe.enable(oe.load()),oe}var common=setup$1;(function(ee,ne){ne.formatArgs=ae,ne.save=de,ne.load=fe,ne.useColors=oe,ne.storage=pe(),ne.destroy=(()=>{let be=!1;return()=>{be||(be=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),ne.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function oe(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function ae(be){if(be[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+be[0]+(this.useColors?"%c ":" ")+"+"+ee.exports.humanize(this.diff),!this.useColors)return;const ge="color: "+this.color;be.splice(1,0,ge,"color: inherit");let ve=0,we=0;be[0].replace(/%[a-zA-Z%]/g,_e=>{_e!=="%%"&&(ve++,_e==="%c"&&(we=ve))}),be.splice(we,0,ge)}ne.log=console.debug||console.log||(()=>{});function de(be){try{be?ne.storage.setItem("debug",be):ne.storage.removeItem("debug")}catch{}}function fe(){let be;try{be=ne.storage.getItem("debug")}catch{}return!be&&typeof process<"u"&&"env"in process&&(be={}.DEBUG),be}function pe(){try{return localStorage}catch{}}ee.exports=common(ne);const{formatters:he}=ee.exports;he.j=function(be){try{return JSON.stringify(be)}catch(ge){return"[UnexpectedJSONParseError]: "+ge.message}}})(browser,browserExports);const Y$1=browserExports;var m$2=Y$1("mud:common");function generatePrivateKey(){return toHex(secp256k1.utils.randomPrivateKey())}function toAccount(ee){if(typeof ee=="string"){if(!isAddress(ee))throw new InvalidAddressError({address:ee});return{address:ee,type:"json-rpc"}}if(!isAddress(ee.address))throw new InvalidAddressError({address:ee.address});return{address:ee.address,signMessage:ee.signMessage,signTransaction:ee.signTransaction,signTypedData:ee.signTypedData,source:"custom",type:"local"}}async function sign({hash:ee,privateKey:ne}){const{r:oe,s:ae,recovery:de}=secp256k1.sign(ee.slice(2),ne.slice(2));return{r:toHex(oe),s:toHex(ae),v:de?28n:27n}}async function signMessage({message:ee,privateKey:ne}){const oe=await sign({hash:hashMessage(ee),privateKey:ne});return signatureToHex(oe)}async function signTransaction({privateKey:ee,transaction:ne,serializer:oe=serializeTransaction}){const ae=await sign({hash:keccak256(oe(ne)),privateKey:ee});return oe(ne,ae)}async function signTypedData({privateKey:ee,...ne}){const oe=await sign({hash:hashTypedData(ne),privateKey:ee});return signatureToHex(oe)}function privateKeyToAccount(ee){const ne=toHex(secp256k1.getPublicKey(ee.slice(2),!1)),oe=publicKeyToAddress(ne);return{...toAccount({address:oe,async signMessage({message:de}){return signMessage({message:de,privateKey:ee})},async signTransaction(de,{serializer:fe}={}){return signTransaction({privateKey:ee,transaction:de,serializer:fe})},async signTypedData(de){return signTypedData({...de,privateKey:ee})}}),publicKey:ne,source:"privateKey"}}var eventemitter3Exports={},eventemitter3={get exports(){return eventemitter3Exports},set exports(ee){eventemitter3Exports=ee}};(function(ee){var ne=Object.prototype.hasOwnProperty,oe="~";function ae(){}Object.create&&(ae.prototype=Object.create(null),new ae().__proto__||(oe=!1));function de(be,ge,ve){this.fn=be,this.context=ge,this.once=ve||!1}function fe(be,ge,ve,we,_e){if(typeof ve!="function")throw new TypeError("The listener must be a function");var Te=new de(ve,we||be,_e),Ee=oe?oe+ge:ge;return be._events[Ee]?be._events[Ee].fn?be._events[Ee]=[be._events[Ee],Te]:be._events[Ee].push(Te):(be._events[Ee]=Te,be._eventsCount++),be}function pe(be,ge){--be._eventsCount===0?be._events=new ae:delete be._events[ge]}function he(){this._events=new ae,this._eventsCount=0}he.prototype.eventNames=function(){var ge=[],ve,we;if(this._eventsCount===0)return ge;for(we in ve=this._events)ne.call(ve,we)&&ge.push(oe?we.slice(1):we);return Object.getOwnPropertySymbols?ge.concat(Object.getOwnPropertySymbols(ve)):ge},he.prototype.listeners=function(ge){var ve=oe?oe+ge:ge,we=this._events[ve];if(!we)return[];if(we.fn)return[we.fn];for(var _e=0,Te=we.length,Ee=new Array(Te);_e<Te;_e++)Ee[_e]=we[_e].fn;return Ee},he.prototype.listenerCount=function(ge){var ve=oe?oe+ge:ge,we=this._events[ve];return we?we.fn?1:we.length:0},he.prototype.emit=function(ge,ve,we,_e,Te,Ee){var Ie=oe?oe+ge:ge;if(!this._events[Ie])return!1;var Pe=this._events[Ie],xe=arguments.length,Ae,$e;if(Pe.fn){switch(Pe.once&&this.removeListener(ge,Pe.fn,void 0,!0),xe){case 1:return Pe.fn.call(Pe.context),!0;case 2:return Pe.fn.call(Pe.context,ve),!0;case 3:return Pe.fn.call(Pe.context,ve,we),!0;case 4:return Pe.fn.call(Pe.context,ve,we,_e),!0;case 5:return Pe.fn.call(Pe.context,ve,we,_e,Te),!0;case 6:return Pe.fn.call(Pe.context,ve,we,_e,Te,Ee),!0}for($e=1,Ae=new Array(xe-1);$e<xe;$e++)Ae[$e-1]=arguments[$e];Pe.fn.apply(Pe.context,Ae)}else{var Se=Pe.length,Re;for($e=0;$e<Se;$e++)switch(Pe[$e].once&&this.removeListener(ge,Pe[$e].fn,void 0,!0),xe){case 1:Pe[$e].fn.call(Pe[$e].context);break;case 2:Pe[$e].fn.call(Pe[$e].context,ve);break;case 3:Pe[$e].fn.call(Pe[$e].context,ve,we);break;case 4:Pe[$e].fn.call(Pe[$e].context,ve,we,_e);break;default:if(!Ae)for(Re=1,Ae=new Array(xe-1);Re<xe;Re++)Ae[Re-1]=arguments[Re];Pe[$e].fn.apply(Pe[$e].context,Ae)}}return!0},he.prototype.on=function(ge,ve,we){return fe(this,ge,ve,we,!1)},he.prototype.once=function(ge,ve,we){return fe(this,ge,ve,we,!0)},he.prototype.removeListener=function(ge,ve,we,_e){var Te=oe?oe+ge:ge;if(!this._events[Te])return this;if(!ve)return pe(this,Te),this;var Ee=this._events[Te];if(Ee.fn)Ee.fn===ve&&(!_e||Ee.once)&&(!we||Ee.context===we)&&pe(this,Te);else{for(var Ie=0,Pe=[],xe=Ee.length;Ie<xe;Ie++)(Ee[Ie].fn!==ve||_e&&!Ee[Ie].once||we&&Ee[Ie].context!==we)&&Pe.push(Ee[Ie]);Pe.length?this._events[Te]=Pe.length===1?Pe[0]:Pe:pe(this,Te)}return this},he.prototype.removeAllListeners=function(ge){var ve;return ge?(ve=oe?oe+ge:ge,this._events[ve]&&pe(this,ve)):(this._events=new ae,this._eventsCount=0),this},he.prototype.off=he.prototype.removeListener,he.prototype.addListener=he.prototype.on,he.prefixed=oe,he.EventEmitter=he,ee.exports=he})(eventemitter3);class TimeoutError extends Error{constructor(ne){super(ne),this.name="TimeoutError"}}let AbortError$3=class extends Error{constructor(ne){super(),this.name="AbortError",this.message=ne}};const getDOMException$1=ee=>globalThis.DOMException===void 0?new AbortError$3(ee):new DOMException(ee),getAbortedReason=ee=>{const ne=ee.reason===void 0?getDOMException$1("This operation was aborted."):ee.reason;return ne instanceof Error?ne:getDOMException$1(ne)};function pTimeout(ee,ne,oe,ae){let de;const fe=new Promise((pe,he)=>{if(typeof ne!="number"||Math.sign(ne)!==1)throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${ne}\``);if(ne===Number.POSITIVE_INFINITY){pe(ee);return}if(ae={customTimers:{setTimeout,clearTimeout},...ae},ae.signal){const{signal:be}=ae;be.aborted&&he(getAbortedReason(be)),be.addEventListener("abort",()=>{he(getAbortedReason(be))})}de=ae.customTimers.setTimeout.call(void 0,()=>{if(typeof oe=="function"){try{pe(oe())}catch(ve){he(ve)}return}const be=typeof oe=="string"?oe:`Promise timed out after ${ne} milliseconds`,ge=oe instanceof Error?oe:new TimeoutError(be);typeof ee.cancel=="function"&&ee.cancel(),he(ge)},ne),(async()=>{try{pe(await ee)}catch(be){he(be)}finally{ae.customTimers.clearTimeout.call(void 0,de)}})()});return fe.clear=()=>{clearTimeout(de),de=void 0},fe}function lowerBound(ee,ne,oe){let ae=0,de=ee.length;for(;de>0;){const fe=Math.trunc(de/2);let pe=ae+fe;oe(ee[pe],ne)<=0?(ae=++pe,de-=fe+1):de=fe}return ae}var __classPrivateFieldGet$1=globalThis&&globalThis.__classPrivateFieldGet||function(ee,ne,oe,ae){if(oe==="a"&&!ae)throw new TypeError("Private accessor was defined without a getter");if(typeof ne=="function"?ee!==ne||!ae:!ne.has(ee))throw new TypeError("Cannot read private member from an object whose class did not declare it");return oe==="m"?ae:oe==="a"?ae.call(ee):ae?ae.value:ne.get(ee)},_PriorityQueue_queue;class PriorityQueue{constructor(){_PriorityQueue_queue.set(this,[])}enqueue(ne,oe){oe={priority:0,...oe};const ae={priority:oe.priority,run:ne};if(this.size&&__classPrivateFieldGet$1(this,_PriorityQueue_queue,"f")[this.size-1].priority>=oe.priority){__classPrivateFieldGet$1(this,_PriorityQueue_queue,"f").push(ae);return}const de=lowerBound(__classPrivateFieldGet$1(this,_PriorityQueue_queue,"f"),ae,(fe,pe)=>pe.priority-fe.priority);__classPrivateFieldGet$1(this,_PriorityQueue_queue,"f").splice(de,0,ae)}dequeue(){const ne=__classPrivateFieldGet$1(this,_PriorityQueue_queue,"f").shift();return ne?.run}filter(ne){return __classPrivateFieldGet$1(this,_PriorityQueue_queue,"f").filter(oe=>oe.priority===ne.priority).map(oe=>oe.run)}get size(){return __classPrivateFieldGet$1(this,_PriorityQueue_queue,"f").length}}_PriorityQueue_queue=new WeakMap;var __classPrivateFieldSet=globalThis&&globalThis.__classPrivateFieldSet||function(ee,ne,oe,ae,de){if(ae==="m")throw new TypeError("Private method is not writable");if(ae==="a"&&!de)throw new TypeError("Private accessor was defined without a setter");if(typeof ne=="function"?ee!==ne||!de:!ne.has(ee))throw new TypeError("Cannot write private member to an object whose class did not declare it");return ae==="a"?de.call(ee,oe):de?de.value=oe:ne.set(ee,oe),oe},__classPrivateFieldGet=globalThis&&globalThis.__classPrivateFieldGet||function(ee,ne,oe,ae){if(oe==="a"&&!ae)throw new TypeError("Private accessor was defined without a getter");if(typeof ne=="function"?ee!==ne||!ae:!ne.has(ee))throw new TypeError("Cannot read private member from an object whose class did not declare it");return oe==="m"?ae:oe==="a"?ae.call(ee):ae?ae.value:ne.get(ee)},_PQueue_instances,_PQueue_carryoverConcurrencyCount,_PQueue_isIntervalIgnored,_PQueue_intervalCount,_PQueue_intervalCap,_PQueue_interval,_PQueue_intervalEnd,_PQueue_intervalId,_PQueue_timeoutId,_PQueue_queue,_PQueue_queueClass,_PQueue_pending,_PQueue_concurrency,_PQueue_isPaused,_PQueue_throwOnTimeout,_PQueue_doesIntervalAllowAnother_get,_PQueue_doesConcurrentAllowAnother_get,_PQueue_next,_PQueue_onResumeInterval,_PQueue_isIntervalPaused_get,_PQueue_tryToStartAnother,_PQueue_initializeIntervalIfNeeded,_PQueue_onInterval,_PQueue_processQueue,_PQueue_throwOnAbort,_PQueue_onEvent;let AbortError$2=class extends Error{};class PQueue extends eventemitter3Exports{constructor(ne){var oe,ae,de,fe;if(super(),_PQueue_instances.add(this),_PQueue_carryoverConcurrencyCount.set(this,void 0),_PQueue_isIntervalIgnored.set(this,void 0),_PQueue_intervalCount.set(this,0),_PQueue_intervalCap.set(this,void 0),_PQueue_interval.set(this,void 0),_PQueue_intervalEnd.set(this,0),_PQueue_intervalId.set(this,void 0),_PQueue_timeoutId.set(this,void 0),_PQueue_queue.set(this,void 0),_PQueue_queueClass.set(this,void 0),_PQueue_pending.set(this,0),_PQueue_concurrency.set(this,void 0),_PQueue_isPaused.set(this,void 0),_PQueue_throwOnTimeout.set(this,void 0),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),ne={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:PriorityQueue,...ne},!(typeof ne.intervalCap=="number"&&ne.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(ae=(oe=ne.intervalCap)===null||oe===void 0?void 0:oe.toString())!==null&&ae!==void 0?ae:""}\` (${typeof ne.intervalCap})`);if(ne.interval===void 0||!(Number.isFinite(ne.interval)&&ne.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(fe=(de=ne.interval)===null||de===void 0?void 0:de.toString())!==null&&fe!==void 0?fe:""}\` (${typeof ne.interval})`);__classPrivateFieldSet(this,_PQueue_carryoverConcurrencyCount,ne.carryoverConcurrencyCount,"f"),__classPrivateFieldSet(this,_PQueue_isIntervalIgnored,ne.intervalCap===Number.POSITIVE_INFINITY||ne.interval===0,"f"),__classPrivateFieldSet(this,_PQueue_intervalCap,ne.intervalCap,"f"),__classPrivateFieldSet(this,_PQueue_interval,ne.interval,"f"),__classPrivateFieldSet(this,_PQueue_queue,new ne.queueClass,"f"),__classPrivateFieldSet(this,_PQueue_queueClass,ne.queueClass,"f"),this.concurrency=ne.concurrency,this.timeout=ne.timeout,__classPrivateFieldSet(this,_PQueue_throwOnTimeout,ne.throwOnTimeout===!0,"f"),__classPrivateFieldSet(this,_PQueue_isPaused,ne.autoStart===!1,"f")}get concurrency(){return __classPrivateFieldGet(this,_PQueue_concurrency,"f")}set concurrency(ne){if(!(typeof ne=="number"&&ne>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${ne}\` (${typeof ne})`);__classPrivateFieldSet(this,_PQueue_concurrency,ne,"f"),__classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_processQueue).call(this)}async add(ne,oe={}){return oe={timeout:this.timeout,throwOnTimeout:__classPrivateFieldGet(this,_PQueue_throwOnTimeout,"f"),...oe},new Promise((ae,de)=>{__classPrivateFieldGet(this,_PQueue_queue,"f").enqueue(async()=>{var fe,pe,he;__classPrivateFieldSet(this,_PQueue_pending,(pe=__classPrivateFieldGet(this,_PQueue_pending,"f"),pe++,pe),"f"),__classPrivateFieldSet(this,_PQueue_intervalCount,(he=__classPrivateFieldGet(this,_PQueue_intervalCount,"f"),he++,he),"f");try{if(!((fe=oe.signal)===null||fe===void 0)&&fe.aborted)throw new AbortError$2("The task was aborted.");let be=ne({signal:oe.signal});oe.timeout&&(be=pTimeout(Promise.resolve(be),oe.timeout)),oe.signal&&(be=Promise.race([be,__classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_throwOnAbort).call(this,oe.signal)]));const ge=await be;ae(ge),this.emit("completed",ge)}catch(be){if(be instanceof TimeoutError&&!oe.throwOnTimeout){ae();return}de(be),this.emit("error",be)}finally{__classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_next).call(this)}},oe),this.emit("add"),__classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_tryToStartAnother).call(this)})}async addAll(ne,oe){return Promise.all(ne.map(async ae=>this.add(ae,oe)))}start(){return __classPrivateFieldGet(this,_PQueue_isPaused,"f")?(__classPrivateFieldSet(this,_PQueue_isPaused,!1,"f"),__classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_processQueue).call(this),this):this}pause(){__classPrivateFieldSet(this,_PQueue_isPaused,!0,"f")}clear(){__classPrivateFieldSet(this,_PQueue_queue,new(__classPrivateFieldGet(this,_PQueue_queueClass,"f")),"f")}async onEmpty(){__classPrivateFieldGet(this,_PQueue_queue,"f").size!==0&&await __classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_onEvent).call(this,"empty")}async onSizeLessThan(ne){__classPrivateFieldGet(this,_PQueue_queue,"f").size<ne||await __classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_onEvent).call(this,"next",()=>__classPrivateFieldGet(this,_PQueue_queue,"f").size<ne)}async onIdle(){__classPrivateFieldGet(this,_PQueue_pending,"f")===0&&__classPrivateFieldGet(this,_PQueue_queue,"f").size===0||await __classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_onEvent).call(this,"idle")}get size(){return __classPrivateFieldGet(this,_PQueue_queue,"f").size}sizeBy(ne){return __classPrivateFieldGet(this,_PQueue_queue,"f").filter(ne).length}get pending(){return __classPrivateFieldGet(this,_PQueue_pending,"f")}get isPaused(){return __classPrivateFieldGet(this,_PQueue_isPaused,"f")}}_PQueue_carryoverConcurrencyCount=new WeakMap,_PQueue_isIntervalIgnored=new WeakMap,_PQueue_intervalCount=new WeakMap,_PQueue_intervalCap=new WeakMap,_PQueue_interval=new WeakMap,_PQueue_intervalEnd=new WeakMap,_PQueue_intervalId=new WeakMap,_PQueue_timeoutId=new WeakMap,_PQueue_queue=new WeakMap,_PQueue_queueClass=new WeakMap,_PQueue_pending=new WeakMap,_PQueue_concurrency=new WeakMap,_PQueue_isPaused=new WeakMap,_PQueue_throwOnTimeout=new WeakMap,_PQueue_instances=new WeakSet,_PQueue_doesIntervalAllowAnother_get=function(){return __classPrivateFieldGet(this,_PQueue_isIntervalIgnored,"f")||__classPrivateFieldGet(this,_PQueue_intervalCount,"f")<__classPrivateFieldGet(this,_PQueue_intervalCap,"f")},_PQueue_doesConcurrentAllowAnother_get=function(){return __classPrivateFieldGet(this,_PQueue_pending,"f")<__classPrivateFieldGet(this,_PQueue_concurrency,"f")},_PQueue_next=function(){var ne;__classPrivateFieldSet(this,_PQueue_pending,(ne=__classPrivateFieldGet(this,_PQueue_pending,"f"),ne--,ne),"f"),__classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_tryToStartAnother).call(this),this.emit("next")},_PQueue_onResumeInterval=function(){__classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_onInterval).call(this),__classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_initializeIntervalIfNeeded).call(this),__classPrivateFieldSet(this,_PQueue_timeoutId,void 0,"f")},_PQueue_isIntervalPaused_get=function(){const ne=Date.now();if(__classPrivateFieldGet(this,_PQueue_intervalId,"f")===void 0){const oe=__classPrivateFieldGet(this,_PQueue_intervalEnd,"f")-ne;if(oe<0)__classPrivateFieldSet(this,_PQueue_intervalCount,__classPrivateFieldGet(this,_PQueue_carryoverConcurrencyCount,"f")?__classPrivateFieldGet(this,_PQueue_pending,"f"):0,"f");else return __classPrivateFieldGet(this,_PQueue_timeoutId,"f")===void 0&&__classPrivateFieldSet(this,_PQueue_timeoutId,setTimeout(()=>{__classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_onResumeInterval).call(this)},oe),"f"),!0}return!1},_PQueue_tryToStartAnother=function(){if(__classPrivateFieldGet(this,_PQueue_queue,"f").size===0)return __classPrivateFieldGet(this,_PQueue_intervalId,"f")&&clearInterval(__classPrivateFieldGet(this,_PQueue_intervalId,"f")),__classPrivateFieldSet(this,_PQueue_intervalId,void 0,"f"),this.emit("empty"),__classPrivateFieldGet(this,_PQueue_pending,"f")===0&&this.emit("idle"),!1;if(!__classPrivateFieldGet(this,_PQueue_isPaused,"f")){const ne=!__classPrivateFieldGet(this,_PQueue_instances,"a",_PQueue_isIntervalPaused_get);if(__classPrivateFieldGet(this,_PQueue_instances,"a",_PQueue_doesIntervalAllowAnother_get)&&__classPrivateFieldGet(this,_PQueue_instances,"a",_PQueue_doesConcurrentAllowAnother_get)){const oe=__classPrivateFieldGet(this,_PQueue_queue,"f").dequeue();return oe?(this.emit("active"),oe(),ne&&__classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_initializeIntervalIfNeeded).call(this),!0):!1}}return!1},_PQueue_initializeIntervalIfNeeded=function(){__classPrivateFieldGet(this,_PQueue_isIntervalIgnored,"f")||__classPrivateFieldGet(this,_PQueue_intervalId,"f")!==void 0||(__classPrivateFieldSet(this,_PQueue_intervalId,setInterval(()=>{__classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_onInterval).call(this)},__classPrivateFieldGet(this,_PQueue_interval,"f")),"f"),__classPrivateFieldSet(this,_PQueue_intervalEnd,Date.now()+__classPrivateFieldGet(this,_PQueue_interval,"f"),"f"))},_PQueue_onInterval=function(){__classPrivateFieldGet(this,_PQueue_intervalCount,"f")===0&&__classPrivateFieldGet(this,_PQueue_pending,"f")===0&&__classPrivateFieldGet(this,_PQueue_intervalId,"f")&&(clearInterval(__classPrivateFieldGet(this,_PQueue_intervalId,"f")),__classPrivateFieldSet(this,_PQueue_intervalId,void 0,"f")),__classPrivateFieldSet(this,_PQueue_intervalCount,__classPrivateFieldGet(this,_PQueue_carryoverConcurrencyCount,"f")?__classPrivateFieldGet(this,_PQueue_pending,"f"):0,"f"),__classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_processQueue).call(this)},_PQueue_processQueue=function(){for(;__classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_tryToStartAnother).call(this););},_PQueue_throwOnAbort=async function(ne){return new Promise((oe,ae)=>{ne.addEventListener("abort",()=>{ae(new AbortError$2("The task was aborted."))},{once:!0})})},_PQueue_onEvent=async function(ne,oe){return new Promise(ae=>{const de=()=>{oe&&!oe()||(this.off(ne,de),ae())};this.on(ne,de)})};var retryExports={},retry$3={get exports(){return retryExports},set exports(ee){retryExports=ee}},retry$2={};function RetryOperation(ee,ne){typeof ne=="boolean"&&(ne={forever:ne}),this._originalTimeouts=JSON.parse(JSON.stringify(ee)),this._timeouts=ee,this._options=ne||{},this._maxRetryTime=ne&&ne.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var retry_operation=RetryOperation;RetryOperation.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};RetryOperation.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};RetryOperation.prototype.retry=function(ee){if(this._timeout&&clearTimeout(this._timeout),!ee)return!1;var ne=new Date().getTime();if(ee&&ne-this._operationStart>=this._maxRetryTime)return this._errors.push(ee),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(ee);var oe=this._timeouts.shift();if(oe===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),oe=this._cachedTimeouts.slice(-1);else return!1;var ae=this;return this._timer=setTimeout(function(){ae._attempts++,ae._operationTimeoutCb&&(ae._timeout=setTimeout(function(){ae._operationTimeoutCb(ae._attempts)},ae._operationTimeout),ae._options.unref&&ae._timeout.unref()),ae._fn(ae._attempts)},oe),this._options.unref&&this._timer.unref(),!0};RetryOperation.prototype.attempt=function(ee,ne){this._fn=ee,ne&&(ne.timeout&&(this._operationTimeout=ne.timeout),ne.cb&&(this._operationTimeoutCb=ne.cb));var oe=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){oe._operationTimeoutCb()},oe._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};RetryOperation.prototype.try=function(ee){console.log("Using RetryOperation.try() is deprecated"),this.attempt(ee)};RetryOperation.prototype.start=function(ee){console.log("Using RetryOperation.start() is deprecated"),this.attempt(ee)};RetryOperation.prototype.start=RetryOperation.prototype.try;RetryOperation.prototype.errors=function(){return this._errors};RetryOperation.prototype.attempts=function(){return this._attempts};RetryOperation.prototype.mainError=function(){if(this._errors.length===0)return null;for(var ee={},ne=null,oe=0,ae=0;ae<this._errors.length;ae++){var de=this._errors[ae],fe=de.message,pe=(ee[fe]||0)+1;ee[fe]=pe,pe>=oe&&(ne=de,oe=pe)}return ne};(function(ee){var ne=retry_operation;ee.operation=function(oe){var ae=ee.timeouts(oe);return new ne(ae,{forever:oe&&(oe.forever||oe.retries===1/0),unref:oe&&oe.unref,maxRetryTime:oe&&oe.maxRetryTime})},ee.timeouts=function(oe){if(oe instanceof Array)return[].concat(oe);var ae={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var de in oe)ae[de]=oe[de];if(ae.minTimeout>ae.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var fe=[],pe=0;pe<ae.retries;pe++)fe.push(this.createTimeout(pe,ae));return oe&&oe.forever&&!fe.length&&fe.push(this.createTimeout(pe,ae)),fe.sort(function(he,be){return he-be}),fe},ee.createTimeout=function(oe,ae){var de=ae.randomize?Math.random()+1:1,fe=Math.round(de*Math.max(ae.minTimeout,1)*Math.pow(ae.factor,oe));return fe=Math.min(fe,ae.maxTimeout),fe},ee.wrap=function(oe,ae,de){if(ae instanceof Array&&(de=ae,ae=null),!de){de=[];for(var fe in oe)typeof oe[fe]=="function"&&de.push(fe)}for(var pe=0;pe<de.length;pe++){var he=de[pe],be=oe[he];oe[he]=function(ve){var we=ee.operation(ae),_e=Array.prototype.slice.call(arguments,1),Te=_e.pop();_e.push(function(Ee){we.retry(Ee)||(Ee&&(arguments[0]=we.mainError()),Te.apply(this,arguments))}),we.attempt(function(){ve.apply(oe,_e)})}.bind(oe,be),oe[he].options=ae}}})(retry$2);(function(ee){ee.exports=retry$2})(retry$3);const retry$1=getDefaultExportFromCjs(retryExports),networkErrorMsgs=new Set(["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed"]);let AbortError$1=class extends Error{constructor(ne){super(),ne instanceof Error?(this.originalError=ne,{message:ne}=ne):(this.originalError=new Error(ne),this.originalError.stack=this.stack),this.name="AbortError",this.message=ne}};const decorateErrorWithCounts=(ee,ne,oe)=>{const ae=oe.retries-(ne-1);return ee.attemptNumber=ne,ee.retriesLeft=ae,ee},isNetworkError=ee=>networkErrorMsgs.has(ee),getDOMException=ee=>globalThis.DOMException===void 0?new Error(ee):new DOMException(ee);async function pRetry(ee,ne){return new Promise((oe,ae)=>{ne={onFailedAttempt(){},retries:10,...ne};const de=retry$1.operation(ne);de.attempt(async fe=>{try{oe(await ee(fe))}catch(pe){if(!(pe instanceof Error)){ae(new TypeError(`Non-error was thrown: "${pe}". You should only throw errors.`));return}if(pe instanceof AbortError$1)de.stop(),ae(pe.originalError);else if(pe instanceof TypeError&&!isNetworkError(pe.message))de.stop(),ae(pe);else{decorateErrorWithCounts(pe,fe,ne);try{await ne.onFailedAttempt(pe)}catch(he){ae(he);return}de.retry(pe)||ae(de.mainError())}}}),ne.signal&&!ne.signal.aborted&&ne.signal.addEventListener("abort",()=>{de.stop();const fe=ne.signal.reason===void 0?getDOMException("The operation was aborted."):ne.signal.reason;ae(fe instanceof Error?fe:getDOMException(fe))},{once:!0})})}function me(ee){return{...privateKeyToAccount(ee)}}async function T$2({client:ee,address:ne,blockTag:oe}){return`mud:createNonceManager:${ee.chain?.id??await getChainId(ee)}:${getAddress(ne)}:${oe}`}var P$1=m$2.extend("createNonceManager");function R$1({client:ee,address:ne,blockTag:oe="pending",broadcastChannelName:ae}){let de={current:-1},fe=null;typeof BroadcastChannel<"u"&&(ae?Promise.resolve(ae):T$2({client:ee,address:ne,blockTag:oe})).then(we=>{fe=new BroadcastChannel(we),fe.addEventListener("message",_e=>{let Te=JSON.parse(_e.data);P$1("got nonce from broadcast channel",Te),de.current=Te})});function pe(){return de.current>=0}function he(){if(!pe())throw new Error("call resetNonce before using nextNonce");let we=de.current++;return fe?.postMessage(JSON.stringify(de.current)),we}async function be(){let we=await getTransactionCount(ee,{address:ne,blockTag:oe});de.current=we,fe?.postMessage(JSON.stringify(de.current)),P$1("reset nonce to",de.current)}function ge(we){return we instanceof BaseError&&we.walk(_e=>_e instanceof NonceTooLowError||_e instanceof NonceTooHighError)!=null}let ve=new PQueue({concurrency:1});return{hasNonce:pe,nextNonce:he,resetNonce:be,shouldResetNonce:ge,mempoolQueue:ve}}var H$2=new Map;async function l$4({client:ee,address:ne,blockTag:oe="pending"}){let ae=await T$2({client:ee,address:ne,blockTag:oe}),de=H$2.get(ae);if(de)return de;let fe=R$1({client:ee,address:ne,blockTag:oe});return H$2.set(ae,fe),fe}var f$2=m$2.extend("writeContract");async function v$1(ee,ne){let oe=ne.account??ee.account;if(!oe)throw new Error("No account provided");let ae=parseAccount(oe),de=await l$4({client:ee,address:ae.address,blockTag:"pending"});async function fe(){return ne.gas?(f$2("gas provided, skipping simulate",ne.functionName,ne.address),ne):(f$2("simulating",ne.functionName,"at",ne.address),(await simulateContract(ee,{...ne,blockTag:"pending",account:ae})).request)}let pe=await fe();return de.mempoolQueue.add(()=>pRetry(async()=>{de.hasNonce()||await de.resetNonce();let he=de.nextNonce();return f$2("calling",pe.functionName,"with nonce",he,"at",pe.address),await writeContract(ee,{nonce:he,...pe})},{retries:3,onFailedAttempt:async he=>{if(de.shouldResetNonce(he)){f$2("got nonce error, retrying",he.message),await de.resetNonce();return}throw he}}),{throwOnTimeout:!0})}function U(ee){let ne=ee.length&&Array.isArray(ee[0]),oe=ne?ee[0]:[],ae=(ne?ee[1]:ee[0])??{};return{args:oe,options:ae}}function W$3({abi:ee,address:ne,publicClient:oe,walletClient:ae,onWrite:de}){let fe=getContract({abi:ee,address:ne,publicClient:oe,walletClient:ae});if(fe.write){let pe=0;fe.write=new Proxy({},{get(he,be){return(...ge)=>{let{args:ve,options:we}=U(ge),_e={abi:ee,address:ne,functionName:be,args:ve,...we,onWrite:de},Te=v$1(ae,_e),Ee=`${ae.chain.id}:${ae.account.address}:${pe++}`;return de?.({id:Ee,request:_e,result:Te}),Te}}})}return fe}function X$2(ee,ne){if(!isHex(ee))throw console.error("Private key found in cache is not valid hex",{privateKey:ee,cacheKey:ne}),new Error(`Private key found in cache (${ne}) is not valid hex`);privateKeyToAccount(ee)}function nt(ee="mud:burnerWallet"){let ne=localStorage.getItem(ee);if(ne!=null)return X$2(ne,ee),ne;let oe=generatePrivateKey();return console.log("New burner wallet created:",privateKeyToAccount(oe)),localStorage.setItem(ee,oe),oe}var k$1=["table","offchainTable","namespace","module","system"],b$1={table:"tb",offchainTable:"ot",namespace:"ns",module:"md",system:"sy"};function O$2(ee){let ne=b$1[ee.type];return concatHex([stringToHex(ne,{size:2}),stringToHex(ee.namespace.slice(0,14),{size:14}),stringToHex(ee.name.slice(0,16),{size:16})])}var Z$1=Object.fromEntries(Object.entries(b$1).map(([ee,ne])=>[ne,ee]));function q$2(ee){let ne=Z$1[ee];if(k$1.includes(ne))return ne}function I$1(ee){let ne=hexToString(sliceHex(ee,0,2)).replace(/\0+$/,""),oe=q$2(ne),ae=hexToString(sliceHex(ee,2,16)).replace(/\0+$/,""),de=hexToString(sliceHex(ee,16,32)).replace(/\0+$/,"");if(!oe)throw new Error(`Unknown type (${ne}) for resource (${ne}:${ae}:${de})`);return{resourceId:ee,type:oe,namespace:ae,name:de}}function N$1(ee,ne,oe){return`0x${ee.replace(/^0x/,"").slice(ne*2,oe!=null?oe*2:void 0).padEnd(((oe??ne)-ne)*2,"0")}`}m$2.extend("sendTransaction");function Pt(ee,ne,oe=0,ae="0x"){return concatHex([N$1(ee,0,ne),ae,N$1(ee,ne+oe)])}var ce=m$2.extend("transportObserver");function kt(ee){return ne=>{let oe=ee(ne);return{...oe,request:async ae=>{if(ae.method==="eth_sendRawTransaction"&&ae.params instanceof Array){let de=ae.params.map(fe=>keccak256(fe));ce("saw txs",de)}return oe.request(ae)}}}}var l$3={storeImportPath:"@latticexyz/store/src/",userTypesFilename:"common.sol",codegenDirectory:"codegen",codegenIndexFilename:"index.sol"},p$2={namespace:"",enums:{},userTypes:{}},c={directory:"tables",keySchema:{key:"bytes32"},tableIdArgument:!1,storeArgument:!1,offchainOnly:!1},L$1=v$2,V$1=B$2,_=B$2,P=v$2,$=v$2,u$3=z$2.string(),q$1=z$2.string(),B$1=z$2.record(V$1,q$1).default(c.keySchema),h=z$2.record(_,u$3).refine(ee=>Object.keys(ee).length>0,"Table schema may not be empty"),M$2=u$3.transform(ee=>h.parse({value:ee})),w$3=h.or(M$2),x$1=z$2.object({directory:z$2.string().default(c.directory),name:G$1.optional(),tableIdArgument:z$2.boolean().default(c.tableIdArgument),storeArgument:z$2.boolean().default(c.storeArgument),dataStruct:z$2.boolean().optional(),keySchema:B$1,valueSchema:w$3,offchainOnly:z$2.boolean().default(c.offchainOnly)}).transform(ee=>(Object.keys(ee.valueSchema).length===1?ee.dataStruct??=!1:ee.dataStruct??=!0,ee)),H$1=u$3.transform(ee=>x$1.parse({valueSchema:{value:ee}})),G=x$1.or(H$1),X$1=z$2.record(L$1,G).transform(ee=>{for(let ne of Object.keys(ee)){let oe=ee[ne];oe.name=ne.slice(0,z$1),ee[ne]=oe}return ee}),Z=z$2.object({enums:z$2.record(P,V$2).default(p$2.enums)}),J=z$2.object({filePath:z$2.string(),internalType:z$2.enum(i$1)}),Q$1=z$2.object({userTypes:z$2.record($,J).default(p$2.userTypes)}),C=z$2.object({namespace:O$3.default(p$2.namespace),storeImportPath:z$2.string().default(l$3.storeImportPath),tables:X$1,userTypesFilename:z$2.string().default(l$3.userTypesFilename),codegenDirectory:z$2.string().default(l$3.codegenDirectory),codegenIndexFilename:z$2.string().default(l$3.codegenIndexFilename)}).merge(Z).merge(Q$1);C.superRefine(E$1);var Ue=C.catchall(z$2.any()).superRefine(E$1);function E$1(ee,ne){for(let ge of Object.values(ee.tables)){let ve=Object.keys(ge.keySchema),we=Object.keys(ge.valueSchema),_e=M$3([...ve,...we]);_e.length>0&&ne.addIssue({code:ZodIssueCode.custom,message:`Field and key names within one table must be unique: ${_e.join(", ")}`})}let oe=Object.keys(ee.tables),ae=[...Object.keys(ee.enums),...Object.keys(ee.userTypes)],de=ae,fe=[...oe,...de],pe=M$3(fe);pe.length>0&&ne.addIssue({code:ZodIssueCode.custom,message:`Table library names, enum names, user type names must be globally unique: ${pe.join(", ")}`});let he=Object.values(ee.tables).map(({name:ge})=>ge),be=M$3(he);be.length>0&&ne.addIssue({code:ZodIssueCode.custom,message:`Table names must be unique: ${be.join(", ")}`});for(let ge of Object.values(ee.tables)){for(let ve of Object.values(ge.keySchema))F$3(ae,ve,ne);for(let ve of Object.values(ge.valueSchema))W$2(de,ae,ve,ne)}}function W$2(ee,ne,oe,ae){if(!s$5.includes(oe)&&!ee.includes(oe)){let de=S$2(oe);de?Y(ne,de.elementType,de.staticLength,ae):ae.addIssue({code:ZodIssueCode.custom,message:`${oe} is not a valid abi type, and is not defined in userTypes`})}}function F$3(ee,ne,oe){!U$1.includes(ne)&&!ee.includes(ne)&&oe.addIssue({code:ZodIssueCode.custom,message:`${ne} is not a static type`})}function Y(ee,ne,oe,ae){F$3(ee,ne,ae),oe===0?ae.addIssue({code:ZodIssueCode.custom,message:"Static array length must not be 0"}):oe>=2**16&&ae.addIssue({code:ZodIssueCode.custom,message:"Static array length must be less than 2**16"})}function Ce(ee){let ne={};for(let oe of Object.keys(ee.tables))ne[oe]=se(ee.tables[oe],ee.userTypes,Object.keys(ee.enums),ee.namespace,oe);return{tables:ne}}function se(ee,ne,oe,ae,de){let{keySchema:fe,valueSchema:pe}=ee;return{keySchema:te(fe,ne,oe),valueSchema:re(pe,ne,oe),namespace:ae,name:de,tableId:O$2({type:ee.offchainOnly?"offchainTable":"table",namespace:ae,name:de})}}function te(ee,ne,oe){let ae=ee==null?{key:"bytes32"}:typeof ee=="string"?{key:ee}:ee;return N(ae,ne,oe)}function re(ee,ne,oe){return N(typeof ee=="string"?{value:ee}:ee,ne,oe)}function N(ee,ne,oe){return S$1(ee,(ae,de)=>{let fe=ne&&ae in ne,pe=oe.includes(ae);return{type:fe?ne[ae].internalType:pe?"uint8":ae,internalType:ae}})}var t$2="event Store_SetRecord(bytes32 indexed tableId, bytes32[] keyTuple, bytes staticData, bytes32 encodedLengths, bytes dynamicData)",o$1="event Store_SpliceStaticData(bytes32 indexed tableId, bytes32[] keyTuple, uint48 start, bytes data)",s$1="event Store_SpliceDynamicData(bytes32 indexed tableId, bytes32[] keyTuple, uint48 start, uint40 deleteCount, bytes32 encodedLengths, bytes data)",r$2="event Store_DeleteRecord(bytes32 indexed tableId, bytes32[] keyTuple)",e=[t$2,o$1,s$1,r$2],I=parseAbi(e);i$2.isCreated()||i$2.createContext();K$1(ee=>{try{return Ue.parse(ee)}catch(ne){throw ne instanceof ZodError?f$4(ne,"StoreConfig Validation Error"):ne}});function m$1(ee){return q$3(ee)}var s=m$1({storeImportPath:"../../",namespace:"store",userTypes:{ResourceId:{filePath:"./src/ResourceId.sol",internalType:"bytes32"},FieldLayout:{filePath:"./src/FieldLayout.sol",internalType:"bytes32"},Schema:{filePath:"./src/Schema.sol",internalType:"bytes32"}},tables:{StoreHooks:{keySchema:{tableId:"ResourceId"},valueSchema:{hooks:"bytes21[]"}},Tables:{keySchema:{tableId:"ResourceId"},valueSchema:{fieldLayout:"FieldLayout",keySchema:"Schema",valueSchema:"Schema",abiEncodedKeyNames:"bytes",abiEncodedFieldNames:"bytes"}},ResourceIds:{keySchema:{resourceId:"ResourceId"},valueSchema:{exists:"bool"}},Hooks:{keySchema:{resourceId:"ResourceId"},valueSchema:{hooks:"bytes21[]"},tableIdArgument:!0}}}),o={registerFunctionSelector:!0,openAccess:!0,accessList:[]},t$1={worldContractName:void 0,worldInterfaceName:"IWorld",systems:{},excludeSystems:[],postDeployScript:"PostDeploy",deploysDirectory:"./deploys",worldsFile:"./worlds.json",worldgenDirectory:"world",worldImportPath:"@latticexyz/world/src/",modules:[]},r$1=v$2,a$1=v$2,i=z$2.array(r$1.or(P$3)).default(o.accessList),d=z$2.intersection(z$2.object({name:G$1.optional(),registerFunctionSelectors:z$2.boolean().default(o.registerFunctionSelector)}),z$2.discriminatedUnion("openAccess",[z$2.object({openAccess:z$2.literal(!0).default(o.openAccess)}),z$2.object({openAccess:z$2.literal(!1),accessList:i})])),u$2=z$2.object({value:z$2.union([z$2.string(),z$2.number(),z$2.instanceof(Uint8Array)]),type:z$2.string()}),m=z$2.object({type:z$2.nativeEnum(N$2),input:z$2.string()}),p$1=z$2.object({name:a$1,root:z$2.boolean().default(!1),args:z$2.array(z$2.union([u$2,m])).default([])}),y$1=z$2.object({worldContractName:z$2.string().optional(),worldInterfaceName:z$2.string().default(t$1.worldInterfaceName),systems:z$2.record(r$1,d).default(t$1.systems),excludeSystems:z$2.array(r$1).default(t$1.excludeSystems),postDeployScript:z$2.string().default(t$1.postDeployScript),deploysDirectory:z$2.string().default(t$1.deploysDirectory),worldsFile:z$2.string().default(t$1.worldsFile),worldgenDirectory:z$2.string().default(t$1.worldgenDirectory),worldImportPath:z$2.string().default(t$1.worldImportPath),modules:z$2.array(p$1).default(t$1.modules)}),w$2=y$1.catchall(z$2.any());K$1(ee=>{try{return w$2.parse(ee)}catch(ne){throw ne instanceof ZodError?f$4(ne,"WorldConfig Validation Error"):ne}});var a=m$1({worldImportPath:"../../",worldgenDirectory:"interfaces",worldInterfaceName:"IBaseWorld",namespace:"world",userTypes:{ResourceId:{filePath:"@latticexyz/store/src/ResourceId.sol",internalType:"bytes32"}},tables:{NamespaceOwner:{keySchema:{namespaceId:"ResourceId"},valueSchema:{owner:"address"}},ResourceAccess:{keySchema:{resourceId:"ResourceId",caller:"address"},valueSchema:{access:"bool"}},InstalledModules:{keySchema:{moduleName:"bytes16",argumentsHash:"bytes32"},valueSchema:{moduleAddress:"address"}},UserDelegationControl:{keySchema:{delegator:"address",delegatee:"address"},valueSchema:{delegationControlId:"ResourceId"}},NamespaceDelegationControl:{keySchema:{namespaceId:"ResourceId"},valueSchema:{delegationControlId:"ResourceId"}},Balances:{keySchema:{namespaceId:"ResourceId"},valueSchema:{balance:"uint256"}},Systems:{keySchema:{systemId:"ResourceId"},valueSchema:{system:"address",publicAccess:"bool"},dataStruct:!1},SystemRegistry:{keySchema:{system:"address"},valueSchema:{systemId:"ResourceId"}},SystemHooks:{keySchema:{systemId:"ResourceId"},valueSchema:"bytes21[]"},FunctionSelectors:{keySchema:{functionSelector:"bytes4"},valueSchema:{systemId:"ResourceId",systemFunctionSelector:"bytes4"},dataStruct:!1},FunctionSignatures:{keySchema:{functionSelector:"bytes4"},valueSchema:{functionSignature:"string"},offchainOnly:!0}},excludeSystems:["StoreRegistrationSystem"]}),u$1=Y$1("mud:block-events-stream");async function*b({maxBlockRange:ee=1000n,maxRetryCount:ne=3,publicClient:oe,...ae}){let de=ae.fromBlock,fe=s$2(ee,ae.toBlock-de),pe=0;for(;de<=ae.toBlock;)try{let he=de+fe;u$1("getting logs",{fromBlock:de,toBlock:he});let be=await oe.getLogs({...ae,fromBlock:de,toBlock:he,strict:!0});yield{fromBlock:de,toBlock:he,logs:be},de=he+1n,fe=s$2(ee,ae.toBlock-de)}catch(he){if(u$1("error getting logs:",String(he)),!(he instanceof Error))throw he;if(he.message.includes("rate limit exceeded")&&pe<ne){let be=2*pe;u$1(`too many requests, retrying in ${be}s`,he),await R$2(1e3*be),pe+=1;continue}if(he.message.includes("block range exceeded")){if(fe/=2n,fe<=0n)throw new Error("can't reduce block range any further");u$1("block range exceeded, trying a smaller block range",he);continue}throw he}}function F$2({publicClient:ee,address:ne,events:oe,maxBlockRange:ae}){let de,fe;return pipe(tap(({endBlock:pe,startBlock:he})=>{de??=he,fe=pe}),concatMap(()=>de>fe?EMPTY:(u$1("fetching logs for block range",{fromBlock:de,toBlock:fe}),from(b({publicClient:ee,address:ne,events:oe,fromBlock:de,toBlock:fe,maxBlockRange:ae})).pipe(tap(({toBlock:pe})=>{de=pe+1n})))))}function O$1({publicClient:ee,blockTag:ne}){return new Observable(function(oe){return ee.watchBlocks({blockTag:ne,emitOnBegin:!0,onBlock:ae=>oe.next(ae),onError:ae=>oe.error(ae)})})}function D(ee,ne){let oe=Array.from(new Set(ee.map(fe=>fe.blockNumber)));oe.sort(m$3);let ae=oe.map(fe=>{let pe=ee.filter(he=>he.blockNumber===fe);if(pe.length&&(pe.sort((he,be)=>he.logIndex<be.logIndex?-1:he.logIndex>be.logIndex?1:0),!!pe.length))return{blockNumber:fe,logs:pe}}).filter(P$2),de=oe.length>0?oe[oe.length-1]:null;return ne!=null&&(de==null||ne>de)&&ae.push({blockNumber:ne,logs:[]}),ae}var l$2=class extends r$4{name="InvalidHexValueError";constructor(ne){super(`Hex value "${ne}" is an odd length (${ne.length-2}). It must be an even length.`)}},S=class extends r$4{name="InvalidHexLengthForSchemaError";constructor(ee){super(`Hex value "${ee}" has length of ${ee.length-2}, but expected length of 64 for a schema.`)}},g=class extends r$4{name="InvalidHexLengthForPackedCounterError";constructor(ee){super(`Hex value "${ee}" has length of ${ee.length-2}, but expected length of 64 for a packed counter.`)}},A=class extends r$4{name="InvalidHexLengthForStaticFieldError";constructor(ee,ne){super(`Hex value "${ne}" has length of ${ne.length-2}, but expected length of ${g$1[ee]*2} for ${ee} type.`)}},v=class extends r$4{name="InvalidHexLengthForArrayFieldError";constructor(ee,ne){super(`Hex value "${ne}" has length of ${ne.length-2}, but expected a multiple of ${g$1[ee]*2} for ${ee}[] type.`)}},H=class extends r$4{name="SchemaStaticLengthMismatchError";constructor(ee,ne,oe){super(`Schema "${ee}" static data length (${ne}) did not match the summed length of all static fields (${oe}). Is \`staticAbiTypeToByteLength\` up to date with Solidity schema types?`)}},F$1=class extends r$4{name="PackedCounterLengthMismatchError";constructor(ne,oe,ae){super(`PackedCounter "${ne}" total bytes length (${oe}) did not match the summed length of all field byte lengths (${ae}).`)}};function y(ee,ne){if(ne.length>3&&ne.length%2!==0)throw new l$2(ne);if((ne.length-2)/2!==g$1[ee])throw new A(ee,ne);switch(ee){case"uint8":case"uint16":case"uint24":case"uint32":case"uint40":case"uint48":case"uint56":case"uint64":case"uint72":case"uint80":case"uint88":case"uint96":case"uint104":case"uint112":case"uint120":case"uint128":case"uint136":case"uint144":case"uint152":case"uint160":case"uint168":case"uint176":case"uint184":case"uint192":case"uint200":case"uint208":case"uint216":case"uint224":case"uint232":case"uint240":case"uint248":case"uint256":case"int8":case"int16":case"int24":case"int32":case"int40":case"int48":case"int56":case"int64":case"int72":case"int80":case"int88":case"int96":case"int104":case"int112":case"int120":case"int128":case"int136":case"int144":case"int152":case"int160":case"int168":case"int176":case"int184":case"int192":case"int200":case"int208":case"int216":case"int224":case"int232":case"int240":case"int248":case"int256":{let oe=hexToBigInt(ne,{signed:ee.startsWith("int")}),ae=typeof a$2[ee];if(ae==="number")return Number(oe);if(ae==="bigint")return oe;throw new Error(`Unexpected default value type (${ae}) for ABI type (${ee})`)}case"bytes1":case"bytes2":case"bytes3":case"bytes4":case"bytes5":case"bytes6":case"bytes7":case"bytes8":case"bytes9":case"bytes10":case"bytes11":case"bytes12":case"bytes13":case"bytes14":case"bytes15":case"bytes16":case"bytes17":case"bytes18":case"bytes19":case"bytes20":case"bytes21":case"bytes22":case"bytes23":case"bytes24":case"bytes25":case"bytes26":case"bytes27":case"bytes28":case"bytes29":case"bytes30":case"bytes31":case"bytes32":return ne;case"bool":return hexToBool(ne);case"address":return getAddress(ne)}return o$2(ee,`Unsupported static ABI type: ${ee}`)}function f$1(ee,ne){if(ee==="bytes")return ne;if(ee==="string")return hexToString(ne);if(ne.length>3&&ne.length%2!==0)throw new l$2(ne);let oe=(ne.length-2)/2;switch(ee){case"uint8[]":case"uint16[]":case"uint24[]":case"uint32[]":case"uint40[]":case"uint48[]":case"uint56[]":case"uint64[]":case"uint72[]":case"uint80[]":case"uint88[]":case"uint96[]":case"uint104[]":case"uint112[]":case"uint120[]":case"uint128[]":case"uint136[]":case"uint144[]":case"uint152[]":case"uint160[]":case"uint168[]":case"uint176[]":case"uint184[]":case"uint192[]":case"uint200[]":case"uint208[]":case"uint216[]":case"uint224[]":case"uint232[]":case"uint240[]":case"uint248[]":case"uint256[]":case"int8[]":case"int16[]":case"int24[]":case"int32[]":case"int40[]":case"int48[]":case"int56[]":case"int64[]":case"int72[]":case"int80[]":case"int88[]":case"int96[]":case"int104[]":case"int112[]":case"int120[]":case"int128[]":case"int136[]":case"int144[]":case"int152[]":case"int160[]":case"int168[]":case"int176[]":case"int184[]":case"int192[]":case"int200[]":case"int208[]":case"int216[]":case"int224[]":case"int232[]":case"int240[]":case"int248[]":case"int256[]":case"bytes1[]":case"bytes2[]":case"bytes3[]":case"bytes4[]":case"bytes5[]":case"bytes6[]":case"bytes7[]":case"bytes8[]":case"bytes9[]":case"bytes10[]":case"bytes11[]":case"bytes12[]":case"bytes13[]":case"bytes14[]":case"bytes15[]":case"bytes16[]":case"bytes17[]":case"bytes18[]":case"bytes19[]":case"bytes20[]":case"bytes21[]":case"bytes22[]":case"bytes23[]":case"bytes24[]":case"bytes25[]":case"bytes26[]":case"bytes27[]":case"bytes28[]":case"bytes29[]":case"bytes30[]":case"bytes31[]":case"bytes32[]":case"bool[]":case"address[]":{let ae=r$3(ee),de=g$1[ae];if(oe%de!==0)throw new v(ae,ne);return new Array(oe/de).fill(void 0).map((fe,pe)=>{let he=sliceHex(ne,pe*de,(pe+1)*de);return y(ae,he)})}}return o$2(ee,`Unsupported dynamic ABI type: ${ee}`)}function w$1(ee){if(ee.length!==66)throw new g(ee);let ne=y("uint56",N$1(ee,32-7,32)),oe=f$1("uint40[]",N$1(ee,0,32-7)),ae=Object.freeze([...oe].reverse()),de=BigInt(ae.reduce((fe,pe)=>fe+pe,0));if(de!==ne)throw new F$1(ee,ne,de);return{totalByteLength:ne,fieldByteLengths:ae}}function T$1(ee){return ee.reduce((ne,oe)=>ne+g$1[oe],0)}function j$1(ee,ne){let oe=[],ae=0;ee.staticFields.forEach(pe=>{let he=g$1[pe],be=y(pe,N$1(ne,ae,ae+he));ae+=he,oe.push(be)});let de=T$1(ee.staticFields),fe=ae;if(fe!==de&&console.warn("Decoded static data length does not match value schema's expected static data length. Data may get corrupted. Is `getStaticByteLength` outdated?",{expectedLength:de,actualLength:fe,bytesOffset:ae}),ee.dynamicFields.length>0){let pe=w$1(N$1(ne,ae,ae+32));ae+=32,ee.dynamicFields.forEach((be,ge)=>{let ve=pe.fieldByteLengths[ge];if(ve>0){let we=f$1(be,N$1(ne,ae,ae+ve));ae+=ve,oe.push(we)}else oe.push(s$3[be])});let he=ae-32-fe;BigInt(he)!==pe.totalByteLength&&console.warn("Decoded dynamic data length does not match data layout's expected data length. Data may get corrupted. Did the data layout change?",{expectedLength:pe.totalByteLength,actualLength:he,bytesOffset:ae})}return oe}function E(ee,ne){let oe=Object.values(ee).filter(f$3),ae=Object.values(ee).filter(x$2),de=j$1({staticFields:oe,dynamicFields:ae},ne);return Object.fromEntries(Object.keys(ee).map((fe,pe)=>[fe,de[pe]]))}function zt(ee,{staticData:ne,encodedLengths:oe,dynamicData:ae}){return E(ee,concatHex([N$1(ne,0,T$1(Object.values(ee).filter(f$3))),oe,ae]))}function p(ee,ne){if(b$2(ee)&&Array.isArray(ne)){let oe=r$3(ee);return ne.length===0?"0x":encodePacked(ne.map(()=>oe),ne)}return encodePacked([ee],[ne])}function O(ee,ne){return ne.map((oe,ae)=>encodeAbiParameters([{type:ee.staticFields[ae]}],[oe]))}function Xt(ee,ne){let oe=Object.values(ee).filter(f$3);return O({staticFields:oe,dynamicFields:[]},Object.values(ne))}function K(ee){let ne=ee.map(size$1).reverse(),oe=ne.reduce((ae,de)=>ae+BigInt(de),0n);return padHex(concatHex([...ne.map(ae=>p("uint40",ae)),p("uint56",oe)]),{size:32,dir:"left"})}function z(ee,ne){let oe=Object.entries(ee),ae=oe.filter(([,be])=>f$3(be)),de=oe.filter(([,be])=>x$2(be)),fe=ae.map(([be,ge])=>p(ge,ne[be])),pe=de.map(([be,ge])=>p(ge,ne[be])),he=K(pe);return{staticData:concatHex(fe),encodedLengths:he,dynamicData:concatHex(pe)}}function L(ee){if(ee.length!==66)throw new S(ee);let ne=hexToNumber$1(sliceHex(ee,0,2)),oe=hexToNumber$1(sliceHex(ee,2,3)),ae=hexToNumber$1(sliceHex(ee,3,4)),de=[],fe=[];for(let he=4;he<4+oe;he++){let be=hexToNumber$1(sliceHex(ee,he,he+1));de.push(i$1[be])}for(let he=4+oe;he<4+oe+ae;he++){let be=hexToNumber$1(sliceHex(ee,he,he+1));fe.push(i$1[be])}let pe=de.reduce((he,be)=>he+g$1[be],0);if(pe!==ne)throw console.warn(`Schema "${ee}" static data length (${ne}) did not match the summed length of all static fields (${pe}). Is \`staticAbiTypeToByteLength\` up to date with Solidity schema types?`),new H(ee,ne,pe);return{staticFields:de,dynamicFields:fe}}function T(ee){return S$1(ee,ne=>ne.type)}var k=Ce(s).tables;Ce(a).tables;k.Tables.tableId;var Oe={...k.Tables,keySchema:T(k.Tables.keySchema),valueSchema:T(k.Tables.valueSchema)},F=(ee=>(ee.INITIALIZE="initialize",ee.SNAPSHOT="snapshot",ee.RPC="rpc",ee.LIVE="live",ee))(F||{}),Q=Object.keys(s.tables).map(ee=>O$2({type:s.tables[ee].offchainOnly?"offchainTable":"table",namespace:s.namespace,name:ee})),X=Object.keys(a.tables).map(ee=>O$2({type:a.tables[ee].offchainOnly?"offchainTable":"table",namespace:a.namespace,name:ee})),W$1=[...Q,...X],M$1=Y$1("mud:store-sync"),l$1=M$1.extend("createStoreSync"),ye=W$1.map(ee=>({tableId:ee}));async function Xe({storageAdapter:ee,onProgress:ne,publicClient:oe,address:ae,filters:de=[],tableIds:fe=[],startBlock:pe=0n,maxBlockRange:he,initialState:be,indexerUrl:ge}){let ve=de.length||fe.length?[...de,...fe.map(Fe=>({tableId:Fe})),...ye]:[],we=defer(async()=>{if(be)return be;if(!ge)return;l$1("fetching initial state from indexer",ge),ne?.({step:"snapshot",percentage:0,latestBlockNumber:0n,lastBlockNumberProcessed:0n,message:"Fetching snapshot from indexer"});let Fe=T$3({url:ge}),He=oe.chain?.id??await oe.getChainId(),ze=await Fe.findAll.query({chainId:He,address:ae,filters:ve});return ne?.({step:"snapshot",percentage:100,latestBlockNumber:0n,lastBlockNumberProcessed:0n,message:"Fetched snapshot from indexer"}),ze}).pipe(catchError(Fe=>(l$1("error fetching initial state from indexer",Fe),ne?.({step:"snapshot",percentage:100,latestBlockNumber:0n,lastBlockNumberProcessed:pe,message:"Failed to fetch snapshot from indexer"}),of(void 0))),shareReplay(1)),_e=we.pipe(map(Fe=>Fe?.blockNumber??pe),tap(Fe=>l$1("starting sync from block",Fe))),Te=we.pipe(filter(Fe=>Fe!=null&&Fe.blockNumber!=null&&Fe.tables.length>0),concatMap(async({blockNumber:Fe,tables:He})=>{l$1("hydrating from initial state to block",Fe),ne?.({step:"snapshot",percentage:0,latestBlockNumber:0n,lastBlockNumberProcessed:Fe,message:"Hydrating from snapshot"});let ze=He.flatMap(Qe=>Qe.records.map(tt=>({eventName:"Store_SetRecord",address:Qe.address,args:{tableId:Qe.tableId,keyTuple:Xt(Qe.keySchema,tt.key),...z(Qe.valueSchema,tt.value)}}))),je=Math.max(100,Math.floor(ze.length/50)),Ye=Array.from(c$1(ze,je));for(let[Qe,tt]of Ye.entries())await ee({blockNumber:Fe,logs:tt}),ne?.({step:"snapshot",percentage:(Qe+tt.length)/Ye.length*100,latestBlockNumber:0n,lastBlockNumberProcessed:Fe,message:"Hydrating from snapshot"});return ne?.({step:"snapshot",percentage:100,latestBlockNumber:0n,lastBlockNumberProcessed:Fe,message:"Hydrated from snapshot"}),{blockNumber:Fe,logs:ze}}),shareReplay(1)),Ee=O$1({publicClient:oe,blockTag:"latest"}).pipe(shareReplay(1)),Ie=Ee.pipe(map(Fe=>Fe.number),tap(Fe=>{l$1("latest block number",Fe)}),shareReplay(1)),Pe=null,xe=null,Ae=combineLatest([_e,Ie]).pipe(map(([Fe,He])=>({startBlock:Fe,endBlock:He})),tap(Fe=>{Pe=Fe.startBlock,xe=Fe.endBlock}),F$2({publicClient:oe,address:ae,events:I,maxBlockRange:he}),map(({toBlock:Fe,logs:He})=>{if(!ve.length)return{toBlock:Fe,logs:He};let ze=He.filter(je=>ve.some(Ye=>Ye.tableId===je.args.tableId&&(Ye.key0==null||Ye.key0===je.args.keyTuple[0])&&(Ye.key1==null||Ye.key1===je.args.keyTuple[1])));return{toBlock:Fe,logs:ze}}),mergeMap(({toBlock:Fe,logs:He})=>from(D(He,Fe))),share$1()),$e=null,Se=concat$1(Te,Ae.pipe(concatMap(async Fe=>(await ee(Fe),Fe)),tap(({blockNumber:Fe,logs:He})=>{if(l$1("stored",He.length,"logs for block",Fe),$e=Fe,Pe!=null&&xe!=null)if(Fe<xe){let ze=xe-Pe,je=$e-Pe;ne?.({step:"rpc",percentage:Number(je*1000n/ze)/10,latestBlockNumber:xe,lastBlockNumberProcessed:$e,message:"Hydrating from RPC"})}else ne?.({step:"live",percentage:100,latestBlockNumber:xe,lastBlockNumberProcessed:$e,message:"All caught up!"})}))).pipe(share$1()),Re=10,Be=Se.pipe(scan((Fe,He)=>[He,...Fe].slice(0,Re),[]),filter(Fe=>Fe.length>0),shareReplay(1));async function Ze(Fe){l$1("waiting for tx",Fe);let He=Be.pipe(concatMap(async ze=>{if(ze.flatMap(je=>je.logs.map(Ye=>Ye.transactionHash).filter(P$2)).includes(Fe))return!0;try{let je=ze[0];l$1("fetching tx receipt for block",je.blockNumber);let Ye=await oe.getTransactionReceipt({hash:Fe});return je.blockNumber>=Ye.blockNumber}catch(je){if(je instanceof TransactionReceiptNotFoundError)return!1;throw je}}),tap(ze=>l$1("has tx?",Fe,ze)));await firstValueFrom(He.pipe(filter(identity$1)))}return{latestBlock$:Ee,latestBlockNumber$:Ie,blockLogs$:Ae,storedBlockLogs$:Se,waitForTransaction:Ze}}function x(ee){return ee.eventName==="Store_SetRecord"&&ee.args.tableId===k.Tables.tableId}function V(ee){let[ne,...oe]=ee.args.keyTuple;oe.length&&console.warn("registerSchema event is expected to have only one key in key tuple, but got multiple",ee);let ae=I$1(ne),de=E(Oe.valueSchema,concatHex([ee.args.staticData,ee.args.encodedLengths,ee.args.dynamicData])),fe=L(de.keySchema),pe=L(de.valueSchema),he=decodeAbiParameters(parseAbiParameters("string[]"),de.abiEncodedKeyNames)[0],be=decodeAbiParameters(parseAbiParameters("string[]"),de.abiEncodedFieldNames)[0],ge=[...pe.staticFields,...pe.dynamicFields];return{address:ee.address,tableId:ne,namespace:ae.namespace,name:ae.name,keySchema:Object.fromEntries(fe.staticFields.map((ve,we)=>[he[we],ve])),valueSchema:Object.fromEntries(ge.map((ve,we)=>[be[we],ve]))}}function u(ee){return concatHex(ee)}function w(ee,ne){if(Object.keys(ee).length!==Object.keys(ne).length)throw new Error(`key length ${Object.keys(ne).length} does not match key schema length ${Object.keys(ee).length}`);return u(Object.entries(ee).map(([oe,ae])=>encodeAbiParameters([{type:ae}],[ne[oe]])))}var l=M$1.extend("recs");function j(ee){return{RegisteredTables:ie(ee,{table:P$4.T},{metadata:{componentName:"RegisteredTables"}}),SyncProgress:ie(ee,{step:P$4.String,message:P$4.String,percentage:P$4.Number,latestBlockNumber:P$4.BigInt,lastBlockNumberProcessed:P$4.BigInt},{metadata:{componentName:"SyncProgress"}})}}function R(ee){return w({address:"address",namespace:"bytes16",name:"bytes16"},{address:ee.address,namespace:stringToHex(ee.namespace,{size:16}),name:stringToHex(ee.name,{size:16})})}var f=u([]),W={uint8:P$4.Number,uint16:P$4.Number,uint24:P$4.Number,uint32:P$4.Number,uint40:P$4.Number,uint48:P$4.Number,uint56:P$4.BigInt,uint64:P$4.BigInt,uint72:P$4.BigInt,uint80:P$4.BigInt,uint88:P$4.BigInt,uint96:P$4.BigInt,uint104:P$4.BigInt,uint112:P$4.BigInt,uint120:P$4.BigInt,uint128:P$4.BigInt,uint136:P$4.BigInt,uint144:P$4.BigInt,uint152:P$4.BigInt,uint160:P$4.BigInt,uint168:P$4.BigInt,uint176:P$4.BigInt,uint184:P$4.BigInt,uint192:P$4.BigInt,uint200:P$4.BigInt,uint208:P$4.BigInt,uint216:P$4.BigInt,uint224:P$4.BigInt,uint232:P$4.BigInt,uint240:P$4.BigInt,uint248:P$4.BigInt,uint256:P$4.BigInt,int8:P$4.Number,int16:P$4.Number,int24:P$4.Number,int32:P$4.Number,int40:P$4.Number,int48:P$4.Number,int56:P$4.BigInt,int64:P$4.BigInt,int72:P$4.BigInt,int80:P$4.BigInt,int88:P$4.BigInt,int96:P$4.BigInt,int104:P$4.BigInt,int112:P$4.BigInt,int120:P$4.BigInt,int128:P$4.BigInt,int136:P$4.BigInt,int144:P$4.BigInt,int152:P$4.BigInt,int160:P$4.BigInt,int168:P$4.BigInt,int176:P$4.BigInt,int184:P$4.BigInt,int192:P$4.BigInt,int200:P$4.BigInt,int208:P$4.BigInt,int216:P$4.BigInt,int224:P$4.BigInt,int232:P$4.BigInt,int240:P$4.BigInt,int248:P$4.BigInt,int256:P$4.BigInt,bytes1:P$4.String,bytes2:P$4.String,bytes3:P$4.String,bytes4:P$4.String,bytes5:P$4.String,bytes6:P$4.String,bytes7:P$4.String,bytes8:P$4.String,bytes9:P$4.String,bytes10:P$4.String,bytes11:P$4.String,bytes12:P$4.String,bytes13:P$4.String,bytes14:P$4.String,bytes15:P$4.String,bytes16:P$4.String,bytes17:P$4.String,bytes18:P$4.String,bytes19:P$4.String,bytes20:P$4.String,bytes21:P$4.String,bytes22:P$4.String,bytes23:P$4.String,bytes24:P$4.String,bytes25:P$4.String,bytes26:P$4.String,bytes27:P$4.String,bytes28:P$4.String,bytes29:P$4.String,bytes30:P$4.String,bytes31:P$4.String,bytes32:P$4.String,bool:P$4.Boolean,address:P$4.String,"uint8[]":P$4.NumberArray,"uint16[]":P$4.NumberArray,"uint24[]":P$4.NumberArray,"uint32[]":P$4.NumberArray,"uint40[]":P$4.NumberArray,"uint48[]":P$4.NumberArray,"uint56[]":P$4.BigIntArray,"uint64[]":P$4.BigIntArray,"uint72[]":P$4.BigIntArray,"uint80[]":P$4.BigIntArray,"uint88[]":P$4.BigIntArray,"uint96[]":P$4.BigIntArray,"uint104[]":P$4.BigIntArray,"uint112[]":P$4.BigIntArray,"uint120[]":P$4.BigIntArray,"uint128[]":P$4.BigIntArray,"uint136[]":P$4.BigIntArray,"uint144[]":P$4.BigIntArray,"uint152[]":P$4.BigIntArray,"uint160[]":P$4.BigIntArray,"uint168[]":P$4.BigIntArray,"uint176[]":P$4.BigIntArray,"uint184[]":P$4.BigIntArray,"uint192[]":P$4.BigIntArray,"uint200[]":P$4.BigIntArray,"uint208[]":P$4.BigIntArray,"uint216[]":P$4.BigIntArray,"uint224[]":P$4.BigIntArray,"uint232[]":P$4.BigIntArray,"uint240[]":P$4.BigIntArray,"uint248[]":P$4.BigIntArray,"uint256[]":P$4.BigIntArray,"int8[]":P$4.NumberArray,"int16[]":P$4.NumberArray,"int24[]":P$4.NumberArray,"int32[]":P$4.NumberArray,"int40[]":P$4.NumberArray,"int48[]":P$4.NumberArray,"int56[]":P$4.BigIntArray,"int64[]":P$4.BigIntArray,"int72[]":P$4.BigIntArray,"int80[]":P$4.BigIntArray,"int88[]":P$4.BigIntArray,"int96[]":P$4.BigIntArray,"int104[]":P$4.BigIntArray,"int112[]":P$4.BigIntArray,"int120[]":P$4.BigIntArray,"int128[]":P$4.BigIntArray,"int136[]":P$4.BigIntArray,"int144[]":P$4.BigIntArray,"int152[]":P$4.BigIntArray,"int160[]":P$4.BigIntArray,"int168[]":P$4.BigIntArray,"int176[]":P$4.BigIntArray,"int184[]":P$4.BigIntArray,"int192[]":P$4.BigIntArray,"int200[]":P$4.BigIntArray,"int208[]":P$4.BigIntArray,"int216[]":P$4.BigIntArray,"int224[]":P$4.BigIntArray,"int232[]":P$4.BigIntArray,"int240[]":P$4.BigIntArray,"int248[]":P$4.BigIntArray,"int256[]":P$4.BigIntArray,"bytes1[]":P$4.StringArray,"bytes2[]":P$4.StringArray,"bytes3[]":P$4.StringArray,"bytes4[]":P$4.StringArray,"bytes5[]":P$4.StringArray,"bytes6[]":P$4.StringArray,"bytes7[]":P$4.StringArray,"bytes8[]":P$4.StringArray,"bytes9[]":P$4.StringArray,"bytes10[]":P$4.StringArray,"bytes11[]":P$4.StringArray,"bytes12[]":P$4.StringArray,"bytes13[]":P$4.StringArray,"bytes14[]":P$4.StringArray,"bytes15[]":P$4.StringArray,"bytes16[]":P$4.StringArray,"bytes17[]":P$4.StringArray,"bytes18[]":P$4.StringArray,"bytes19[]":P$4.StringArray,"bytes20[]":P$4.StringArray,"bytes21[]":P$4.StringArray,"bytes22[]":P$4.StringArray,"bytes23[]":P$4.StringArray,"bytes24[]":P$4.StringArray,"bytes25[]":P$4.StringArray,"bytes26[]":P$4.StringArray,"bytes27[]":P$4.StringArray,"bytes28[]":P$4.StringArray,"bytes29[]":P$4.StringArray,"bytes30[]":P$4.StringArray,"bytes31[]":P$4.StringArray,"bytes32[]":P$4.StringArray,"bool[]":P$4.T,"address[]":P$4.StringArray,bytes:P$4.String,string:P$4.String};function M(ee,ne){return ie(ee,{...Object.fromEntries(Object.entries(ne.valueSchema).map(([oe,{type:ae}])=>[oe,W[ae]])),__staticData:P$4.OptionalString,__encodedLengths:P$4.OptionalString,__dynamicData:P$4.OptionalString},{id:ne.tableId,metadata:{componentName:ne.name,tableName:`${ne.namespace}:${ne.name}`,keySchema:S$1(ne.keySchema,({type:oe})=>oe),valueSchema:S$1(ne.valueSchema,({type:oe})=>oe)}})}function B(ee,ne){return S$1(ne,oe=>M(ee,oe))}var st=Ce(s).tables,mt=Ce(a).tables;function q({world:ee,tables:ne,shouldSkipUpdateStream:oe}){ee.registerEntity({id:f});let ae={...B(ee,ne),...B(ee,st),...B(ee,mt),...j(ee)};async function de({logs:fe}){let pe=fe.filter(x).map(V);for(let he of pe){let be=R(he);le(ae.RegisteredTables,be)?console.warn("table already registered, ignoring",{newTable:he,existingTable:g$3(ae.RegisteredTables,be)?.table}):E$3(ae.RegisteredTables,be,{table:he},{skipUpdateStream:oe?.()})}for(let he of fe){let{namespace:be,name:ge}=I$1(he.args.tableId),ve=g$3(ae.RegisteredTables,R({address:he.address,namespace:be,name:ge}))?.table;if(!ve){l(`skipping update for unknown table: ${be}:${ge} at ${he.address}`);continue}let we=ee.components.find(Te=>Te.id===ve.tableId);if(!we){l(`skipping update for unknown component: ${ve.tableId} (${ve.namespace}:${ve.name}). Available components: ${Object.keys(ae)}`);continue}let _e=u(he.args.keyTuple);if(he.eventName==="Store_SetRecord"){let Te=zt(ve.valueSchema,he.args);l("setting component",{namespace:ve.namespace,name:ve.name,entity:_e,value:Te}),E$3(we,_e,{...Te,__staticData:he.args.staticData,__encodedLengths:he.args.encodedLengths,__dynamicData:he.args.dynamicData},{skipUpdateStream:oe?.()})}else if(he.eventName==="Store_SpliceStaticData"){let Te=g$3(we,_e),Ee=Te?.__staticData??"0x",Ie=Pt(Ee,he.args.start,size$1(he.args.data),he.args.data),Pe=zt(ve.valueSchema,{staticData:Ie,encodedLengths:Te?.__encodedLengths??"0x",dynamicData:Te?.__dynamicData??"0x"});l("setting component via splice static",{namespace:ve.namespace,name:ve.name,entity:_e,previousStaticData:Ee,newStaticData:Ie,previousValue:Te,newValue:Pe}),E$3(we,_e,{...Pe,__staticData:Ie},{skipUpdateStream:oe?.()})}else if(he.eventName==="Store_SpliceDynamicData"){let Te=g$3(we,_e),Ee=Te?.__dynamicData??"0x",Ie=Pt(Ee,he.args.start,he.args.deleteCount,he.args.data),Pe=zt(ve.valueSchema,{staticData:Te?.__staticData??"0x",encodedLengths:he.args.encodedLengths,dynamicData:Ie});l("setting component via splice dynamic",{namespace:ve.namespace,name:ve.name,entity:_e,previousDynamicData:Ee,newDynamicData:Ie,previousValue:Te,newValue:Pe}),E$3(we,_e,{...Pe,__encodedLengths:he.args.encodedLengths,__dynamicData:Ie},{skipUpdateStream:oe?.()})}else he.eventName==="Store_DeleteRecord"&&(l("deleting component",{namespace:ve.namespace,name:ve.name,entity:_e}),ue(we,_e,{skipUpdateStream:oe?.()}))}}return{storageAdapter:de,components:ae}}async function ke({world:ee,config:ne,tables:oe,startSync:ae=!0,...de}){let fe={...Ce(ne).tables,...oe},{storageAdapter:pe,components:he}=q({world:ee,tables:fe,shouldSkipUpdateStream:()=>g$3(he.SyncProgress,f)?.step!=="live"}),be=await Xe({storageAdapter:pe,config:ne,...de,onProgress:({step:we,percentage:_e,latestBlockNumber:Te,lastBlockNumberProcessed:Ee,message:Ie})=>{if(g$3(he.SyncProgress,f)?.step!=="live"&&(E$3(he.SyncProgress,f,{step:we,percentage:_e,latestBlockNumber:Te,lastBlockNumberProcessed:Ee,message:Ie}),we==="live"))for(let Pe of Object.values(he)){let xe=Pe;for(let Ae of xe.entities()){let $e=g$3(xe,Ae);xe.update$.next({component:xe,entity:Ae,value:[$e,$e]})}}}}),ge=ae?be.storedBlockLogs$.subscribe():null,ve=()=>{ge?.unsubscribe()};return ee.registerDisposer(ve),{...be,components:he,stopSync:ve}}function createSystemCalls(ee,ne){const{worldContract:oe,waitForTransaction:ae}=ee;let de=oe;const fe=ge=>{ge&&(de=ge)},pe=()=>de?.write?de.write:de,he=async ge=>{const ve=typeof ge=="string"?ge:ge.hash;await ae(ve)};return{setWorld:fe,waitForTransactionComplete:he,getComponentValue:g$3,singletonEntity:f,increment:async()=>{const ge=await pe().increment();return await he(ge),g$3(ne.Counter,f)}}}/**
 * @license
 * Copyright 2009 The Closure Library Authors
 * Copyright 2020 Daniel Wirtz / The long.js Authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * SPDX-License-Identifier: Apache-2.0
 */var wasm=null;try{wasm=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Long(ee,ne,oe){this.low=ee|0,this.high=ne|0,this.unsigned=!!oe}Long.prototype.__isLong__;Object.defineProperty(Long.prototype,"__isLong__",{value:!0});function isLong(ee){return(ee&&ee.__isLong__)===!0}function ctz32(ee){var ne=Math.clz32(ee&-ee);return ee?31-ne:ne}Long.isLong=isLong;var INT_CACHE={},UINT_CACHE={};function fromInt(ee,ne){var oe,ae,de;return ne?(ee>>>=0,(de=0<=ee&&ee<256)&&(ae=UINT_CACHE[ee],ae)?ae:(oe=fromBits(ee,0,!0),de&&(UINT_CACHE[ee]=oe),oe)):(ee|=0,(de=-128<=ee&&ee<128)&&(ae=INT_CACHE[ee],ae)?ae:(oe=fromBits(ee,ee<0?-1:0,!1),de&&(INT_CACHE[ee]=oe),oe))}Long.fromInt=fromInt;function fromNumber(ee,ne){if(isNaN(ee))return ne?UZERO:ZERO;if(ne){if(ee<0)return UZERO;if(ee>=TWO_PWR_64_DBL)return MAX_UNSIGNED_VALUE}else{if(ee<=-TWO_PWR_63_DBL)return MIN_VALUE;if(ee+1>=TWO_PWR_63_DBL)return MAX_VALUE}return ee<0?fromNumber(-ee,ne).neg():fromBits(ee%TWO_PWR_32_DBL|0,ee/TWO_PWR_32_DBL|0,ne)}Long.fromNumber=fromNumber;function fromBits(ee,ne,oe){return new Long(ee,ne,oe)}Long.fromBits=fromBits;var pow_dbl=Math.pow;function fromString(ee,ne,oe){if(ee.length===0)throw Error("empty string");if(typeof ne=="number"?(oe=ne,ne=!1):ne=!!ne,ee==="NaN"||ee==="Infinity"||ee==="+Infinity"||ee==="-Infinity")return ne?UZERO:ZERO;if(oe=oe||10,oe<2||36<oe)throw RangeError("radix");var ae;if((ae=ee.indexOf("-"))>0)throw Error("interior hyphen");if(ae===0)return fromString(ee.substring(1),ne,oe).neg();for(var de=fromNumber(pow_dbl(oe,8)),fe=ZERO,pe=0;pe<ee.length;pe+=8){var he=Math.min(8,ee.length-pe),be=parseInt(ee.substring(pe,pe+he),oe);if(he<8){var ge=fromNumber(pow_dbl(oe,he));fe=fe.mul(ge).add(fromNumber(be))}else fe=fe.mul(de),fe=fe.add(fromNumber(be))}return fe.unsigned=ne,fe}Long.fromString=fromString;function fromValue(ee,ne){return typeof ee=="number"?fromNumber(ee,ne):typeof ee=="string"?fromString(ee,ne):fromBits(ee.low,ee.high,typeof ne=="boolean"?ne:ee.unsigned)}Long.fromValue=fromValue;var TWO_PWR_16_DBL=65536,TWO_PWR_24_DBL=1<<24,TWO_PWR_32_DBL=TWO_PWR_16_DBL*TWO_PWR_16_DBL,TWO_PWR_64_DBL=TWO_PWR_32_DBL*TWO_PWR_32_DBL,TWO_PWR_63_DBL=TWO_PWR_64_DBL/2,TWO_PWR_24=fromInt(TWO_PWR_24_DBL),ZERO=fromInt(0);Long.ZERO=ZERO;var UZERO=fromInt(0,!0);Long.UZERO=UZERO;var ONE=fromInt(1);Long.ONE=ONE;var UONE=fromInt(1,!0);Long.UONE=UONE;var NEG_ONE=fromInt(-1);Long.NEG_ONE=NEG_ONE;var MAX_VALUE=fromBits(-1,2147483647,!1);Long.MAX_VALUE=MAX_VALUE;var MAX_UNSIGNED_VALUE=fromBits(-1,-1,!0);Long.MAX_UNSIGNED_VALUE=MAX_UNSIGNED_VALUE;var MIN_VALUE=fromBits(0,-2147483648,!1);Long.MIN_VALUE=MIN_VALUE;var LongPrototype=Long.prototype;LongPrototype.toInt=function(){return this.unsigned?this.low>>>0:this.low};LongPrototype.toNumber=function(){return this.unsigned?(this.high>>>0)*TWO_PWR_32_DBL+(this.low>>>0):this.high*TWO_PWR_32_DBL+(this.low>>>0)};LongPrototype.toString=function(ne){if(ne=ne||10,ne<2||36<ne)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(MIN_VALUE)){var oe=fromNumber(ne),ae=this.div(oe),de=ae.mul(oe).sub(this);return ae.toString(ne)+de.toInt().toString(ne)}else return"-"+this.neg().toString(ne);for(var fe=fromNumber(pow_dbl(ne,6),this.unsigned),pe=this,he="";;){var be=pe.div(fe),ge=pe.sub(be.mul(fe)).toInt()>>>0,ve=ge.toString(ne);if(pe=be,pe.isZero())return ve+he;for(;ve.length<6;)ve="0"+ve;he=""+ve+he}};LongPrototype.getHighBits=function(){return this.high};LongPrototype.getHighBitsUnsigned=function(){return this.high>>>0};LongPrototype.getLowBits=function(){return this.low};LongPrototype.getLowBitsUnsigned=function(){return this.low>>>0};LongPrototype.getNumBitsAbs=function(){if(this.isNegative())return this.eq(MIN_VALUE)?64:this.neg().getNumBitsAbs();for(var ne=this.high!=0?this.high:this.low,oe=31;oe>0&&!(ne&1<<oe);oe--);return this.high!=0?oe+33:oe+1};LongPrototype.isZero=function(){return this.high===0&&this.low===0};LongPrototype.eqz=LongPrototype.isZero;LongPrototype.isNegative=function(){return!this.unsigned&&this.high<0};LongPrototype.isPositive=function(){return this.unsigned||this.high>=0};LongPrototype.isOdd=function(){return(this.low&1)===1};LongPrototype.isEven=function(){return(this.low&1)===0};LongPrototype.equals=function(ne){return isLong(ne)||(ne=fromValue(ne)),this.unsigned!==ne.unsigned&&this.high>>>31===1&&ne.high>>>31===1?!1:this.high===ne.high&&this.low===ne.low};LongPrototype.eq=LongPrototype.equals;LongPrototype.notEquals=function(ne){return!this.eq(ne)};LongPrototype.neq=LongPrototype.notEquals;LongPrototype.ne=LongPrototype.notEquals;LongPrototype.lessThan=function(ne){return this.comp(ne)<0};LongPrototype.lt=LongPrototype.lessThan;LongPrototype.lessThanOrEqual=function(ne){return this.comp(ne)<=0};LongPrototype.lte=LongPrototype.lessThanOrEqual;LongPrototype.le=LongPrototype.lessThanOrEqual;LongPrototype.greaterThan=function(ne){return this.comp(ne)>0};LongPrototype.gt=LongPrototype.greaterThan;LongPrototype.greaterThanOrEqual=function(ne){return this.comp(ne)>=0};LongPrototype.gte=LongPrototype.greaterThanOrEqual;LongPrototype.ge=LongPrototype.greaterThanOrEqual;LongPrototype.compare=function(ne){if(isLong(ne)||(ne=fromValue(ne)),this.eq(ne))return 0;var oe=this.isNegative(),ae=ne.isNegative();return oe&&!ae?-1:!oe&&ae?1:this.unsigned?ne.high>>>0>this.high>>>0||ne.high===this.high&&ne.low>>>0>this.low>>>0?-1:1:this.sub(ne).isNegative()?-1:1};LongPrototype.comp=LongPrototype.compare;LongPrototype.negate=function(){return!this.unsigned&&this.eq(MIN_VALUE)?MIN_VALUE:this.not().add(ONE)};LongPrototype.neg=LongPrototype.negate;LongPrototype.add=function(ne){isLong(ne)||(ne=fromValue(ne));var oe=this.high>>>16,ae=this.high&65535,de=this.low>>>16,fe=this.low&65535,pe=ne.high>>>16,he=ne.high&65535,be=ne.low>>>16,ge=ne.low&65535,ve=0,we=0,_e=0,Te=0;return Te+=fe+ge,_e+=Te>>>16,Te&=65535,_e+=de+be,we+=_e>>>16,_e&=65535,we+=ae+he,ve+=we>>>16,we&=65535,ve+=oe+pe,ve&=65535,fromBits(_e<<16|Te,ve<<16|we,this.unsigned)};LongPrototype.subtract=function(ne){return isLong(ne)||(ne=fromValue(ne)),this.add(ne.neg())};LongPrototype.sub=LongPrototype.subtract;LongPrototype.multiply=function(ne){if(this.isZero())return this;if(isLong(ne)||(ne=fromValue(ne)),wasm){var oe=wasm.mul(this.low,this.high,ne.low,ne.high);return fromBits(oe,wasm.get_high(),this.unsigned)}if(ne.isZero())return this.unsigned?UZERO:ZERO;if(this.eq(MIN_VALUE))return ne.isOdd()?MIN_VALUE:ZERO;if(ne.eq(MIN_VALUE))return this.isOdd()?MIN_VALUE:ZERO;if(this.isNegative())return ne.isNegative()?this.neg().mul(ne.neg()):this.neg().mul(ne).neg();if(ne.isNegative())return this.mul(ne.neg()).neg();if(this.lt(TWO_PWR_24)&&ne.lt(TWO_PWR_24))return fromNumber(this.toNumber()*ne.toNumber(),this.unsigned);var ae=this.high>>>16,de=this.high&65535,fe=this.low>>>16,pe=this.low&65535,he=ne.high>>>16,be=ne.high&65535,ge=ne.low>>>16,ve=ne.low&65535,we=0,_e=0,Te=0,Ee=0;return Ee+=pe*ve,Te+=Ee>>>16,Ee&=65535,Te+=fe*ve,_e+=Te>>>16,Te&=65535,Te+=pe*ge,_e+=Te>>>16,Te&=65535,_e+=de*ve,we+=_e>>>16,_e&=65535,_e+=fe*ge,we+=_e>>>16,_e&=65535,_e+=pe*be,we+=_e>>>16,_e&=65535,we+=ae*ve+de*ge+fe*be+pe*he,we&=65535,fromBits(Te<<16|Ee,we<<16|_e,this.unsigned)};LongPrototype.mul=LongPrototype.multiply;LongPrototype.divide=function(ne){if(isLong(ne)||(ne=fromValue(ne)),ne.isZero())throw Error("division by zero");if(wasm){if(!this.unsigned&&this.high===-2147483648&&ne.low===-1&&ne.high===-1)return this;var oe=(this.unsigned?wasm.div_u:wasm.div_s)(this.low,this.high,ne.low,ne.high);return fromBits(oe,wasm.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?UZERO:ZERO;var ae,de,fe;if(this.unsigned){if(ne.unsigned||(ne=ne.toUnsigned()),ne.gt(this))return UZERO;if(ne.gt(this.shru(1)))return UONE;fe=UZERO}else{if(this.eq(MIN_VALUE)){if(ne.eq(ONE)||ne.eq(NEG_ONE))return MIN_VALUE;if(ne.eq(MIN_VALUE))return ONE;var pe=this.shr(1);return ae=pe.div(ne).shl(1),ae.eq(ZERO)?ne.isNegative()?ONE:NEG_ONE:(de=this.sub(ne.mul(ae)),fe=ae.add(de.div(ne)),fe)}else if(ne.eq(MIN_VALUE))return this.unsigned?UZERO:ZERO;if(this.isNegative())return ne.isNegative()?this.neg().div(ne.neg()):this.neg().div(ne).neg();if(ne.isNegative())return this.div(ne.neg()).neg();fe=ZERO}for(de=this;de.gte(ne);){ae=Math.max(1,Math.floor(de.toNumber()/ne.toNumber()));for(var he=Math.ceil(Math.log(ae)/Math.LN2),be=he<=48?1:pow_dbl(2,he-48),ge=fromNumber(ae),ve=ge.mul(ne);ve.isNegative()||ve.gt(de);)ae-=be,ge=fromNumber(ae,this.unsigned),ve=ge.mul(ne);ge.isZero()&&(ge=ONE),fe=fe.add(ge),de=de.sub(ve)}return fe};LongPrototype.div=LongPrototype.divide;LongPrototype.modulo=function(ne){if(isLong(ne)||(ne=fromValue(ne)),wasm){var oe=(this.unsigned?wasm.rem_u:wasm.rem_s)(this.low,this.high,ne.low,ne.high);return fromBits(oe,wasm.get_high(),this.unsigned)}return this.sub(this.div(ne).mul(ne))};LongPrototype.mod=LongPrototype.modulo;LongPrototype.rem=LongPrototype.modulo;LongPrototype.not=function(){return fromBits(~this.low,~this.high,this.unsigned)};LongPrototype.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};LongPrototype.clz=LongPrototype.countLeadingZeros;LongPrototype.countTrailingZeros=function(){return this.low?ctz32(this.low):ctz32(this.high)+32};LongPrototype.ctz=LongPrototype.countTrailingZeros;LongPrototype.and=function(ne){return isLong(ne)||(ne=fromValue(ne)),fromBits(this.low&ne.low,this.high&ne.high,this.unsigned)};LongPrototype.or=function(ne){return isLong(ne)||(ne=fromValue(ne)),fromBits(this.low|ne.low,this.high|ne.high,this.unsigned)};LongPrototype.xor=function(ne){return isLong(ne)||(ne=fromValue(ne)),fromBits(this.low^ne.low,this.high^ne.high,this.unsigned)};LongPrototype.shiftLeft=function(ne){return isLong(ne)&&(ne=ne.toInt()),(ne&=63)===0?this:ne<32?fromBits(this.low<<ne,this.high<<ne|this.low>>>32-ne,this.unsigned):fromBits(0,this.low<<ne-32,this.unsigned)};LongPrototype.shl=LongPrototype.shiftLeft;LongPrototype.shiftRight=function(ne){return isLong(ne)&&(ne=ne.toInt()),(ne&=63)===0?this:ne<32?fromBits(this.low>>>ne|this.high<<32-ne,this.high>>ne,this.unsigned):fromBits(this.high>>ne-32,this.high>=0?0:-1,this.unsigned)};LongPrototype.shr=LongPrototype.shiftRight;LongPrototype.shiftRightUnsigned=function(ne){return isLong(ne)&&(ne=ne.toInt()),(ne&=63)===0?this:ne<32?fromBits(this.low>>>ne|this.high<<32-ne,this.high>>>ne,this.unsigned):ne===32?fromBits(this.high,0,this.unsigned):fromBits(this.high>>>ne-32,0,this.unsigned)};LongPrototype.shru=LongPrototype.shiftRightUnsigned;LongPrototype.shr_u=LongPrototype.shiftRightUnsigned;LongPrototype.rotateLeft=function(ne){var oe;return isLong(ne)&&(ne=ne.toInt()),(ne&=63)===0?this:ne===32?fromBits(this.high,this.low,this.unsigned):ne<32?(oe=32-ne,fromBits(this.low<<ne|this.high>>>oe,this.high<<ne|this.low>>>oe,this.unsigned)):(ne-=32,oe=32-ne,fromBits(this.high<<ne|this.low>>>oe,this.low<<ne|this.high>>>oe,this.unsigned))};LongPrototype.rotl=LongPrototype.rotateLeft;LongPrototype.rotateRight=function(ne){var oe;return isLong(ne)&&(ne=ne.toInt()),(ne&=63)===0?this:ne===32?fromBits(this.high,this.low,this.unsigned):ne<32?(oe=32-ne,fromBits(this.high<<oe|this.low>>>ne,this.low<<oe|this.high>>>ne,this.unsigned)):(ne-=32,oe=32-ne,fromBits(this.low<<oe|this.high>>>ne,this.high<<oe|this.low>>>ne,this.unsigned))};LongPrototype.rotr=LongPrototype.rotateRight;LongPrototype.toSigned=function(){return this.unsigned?fromBits(this.low,this.high,!1):this};LongPrototype.toUnsigned=function(){return this.unsigned?this:fromBits(this.low,this.high,!0)};LongPrototype.toBytes=function(ne){return ne?this.toBytesLE():this.toBytesBE()};LongPrototype.toBytesLE=function(){var ne=this.high,oe=this.low;return[oe&255,oe>>>8&255,oe>>>16&255,oe>>>24,ne&255,ne>>>8&255,ne>>>16&255,ne>>>24]};LongPrototype.toBytesBE=function(){var ne=this.high,oe=this.low;return[ne>>>24,ne>>>16&255,ne>>>8&255,ne&255,oe>>>24,oe>>>16&255,oe>>>8&255,oe&255]};Long.fromBytes=function(ne,oe,ae){return ae?Long.fromBytesLE(ne,oe):Long.fromBytesBE(ne,oe)};Long.fromBytesLE=function(ne,oe){return new Long(ne[0]|ne[1]<<8|ne[2]<<16|ne[3]<<24,ne[4]|ne[5]<<8|ne[6]<<16|ne[7]<<24,oe)};Long.fromBytesBE=function(ne,oe){return new Long(ne[4]<<24|ne[5]<<16|ne[6]<<8|ne[7],ne[0]<<24|ne[1]<<16|ne[2]<<8|ne[3],oe)};var minimalExports={},minimal$1={get exports(){return minimalExports},set exports(ee){minimalExports=ee}},indexMinimal={},minimal={},aspromise=asPromise;function asPromise(ee,ne){for(var oe=new Array(arguments.length-1),ae=0,de=2,fe=!0;de<arguments.length;)oe[ae++]=arguments[de++];return new Promise(function(he,be){oe[ae]=function(ve){if(fe)if(fe=!1,ve)be(ve);else{for(var we=new Array(arguments.length-1),_e=0;_e<we.length;)we[_e++]=arguments[_e];he.apply(null,we)}};try{ee.apply(ne||null,oe)}catch(ge){fe&&(fe=!1,be(ge))}})}var base64$2={};(function(ee){var ne=ee;ne.length=function(he){var be=he.length;if(!be)return 0;for(var ge=0;--be%4>1&&he.charAt(be)==="=";)++ge;return Math.ceil(he.length*3)/4-ge};for(var oe=new Array(64),ae=new Array(123),de=0;de<64;)ae[oe[de]=de<26?de+65:de<52?de+71:de<62?de-4:de-59|43]=de++;ne.encode=function(he,be,ge){for(var ve=null,we=[],_e=0,Te=0,Ee;be<ge;){var Ie=he[be++];switch(Te){case 0:we[_e++]=oe[Ie>>2],Ee=(Ie&3)<<4,Te=1;break;case 1:we[_e++]=oe[Ee|Ie>>4],Ee=(Ie&15)<<2,Te=2;break;case 2:we[_e++]=oe[Ee|Ie>>6],we[_e++]=oe[Ie&63],Te=0;break}_e>8191&&((ve||(ve=[])).push(String.fromCharCode.apply(String,we)),_e=0)}return Te&&(we[_e++]=oe[Ee],we[_e++]=61,Te===1&&(we[_e++]=61)),ve?(_e&&ve.push(String.fromCharCode.apply(String,we.slice(0,_e))),ve.join("")):String.fromCharCode.apply(String,we.slice(0,_e))};var fe="invalid encoding";ne.decode=function(he,be,ge){for(var ve=ge,we=0,_e,Te=0;Te<he.length;){var Ee=he.charCodeAt(Te++);if(Ee===61&&we>1)break;if((Ee=ae[Ee])===void 0)throw Error(fe);switch(we){case 0:_e=Ee,we=1;break;case 1:be[ge++]=_e<<2|(Ee&48)>>4,_e=Ee,we=2;break;case 2:be[ge++]=(_e&15)<<4|(Ee&60)>>2,_e=Ee,we=3;break;case 3:be[ge++]=(_e&3)<<6|Ee,we=0;break}}if(we===1)throw Error(fe);return ge-ve},ne.test=function(he){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(he)}})(base64$2);var eventemitter=EventEmitter;function EventEmitter(){this._listeners={}}EventEmitter.prototype.on=function(ne,oe,ae){return(this._listeners[ne]||(this._listeners[ne]=[])).push({fn:oe,ctx:ae||this}),this};EventEmitter.prototype.off=function(ne,oe){if(ne===void 0)this._listeners={};else if(oe===void 0)this._listeners[ne]=[];else for(var ae=this._listeners[ne],de=0;de<ae.length;)ae[de].fn===oe?ae.splice(de,1):++de;return this};EventEmitter.prototype.emit=function(ne){var oe=this._listeners[ne];if(oe){for(var ae=[],de=1;de<arguments.length;)ae.push(arguments[de++]);for(de=0;de<oe.length;)oe[de].fn.apply(oe[de++].ctx,ae)}return this};var float=factory(factory);function factory(ee){return typeof Float32Array<"u"?function(){var ne=new Float32Array([-0]),oe=new Uint8Array(ne.buffer),ae=oe[3]===128;function de(be,ge,ve){ne[0]=be,ge[ve]=oe[0],ge[ve+1]=oe[1],ge[ve+2]=oe[2],ge[ve+3]=oe[3]}function fe(be,ge,ve){ne[0]=be,ge[ve]=oe[3],ge[ve+1]=oe[2],ge[ve+2]=oe[1],ge[ve+3]=oe[0]}ee.writeFloatLE=ae?de:fe,ee.writeFloatBE=ae?fe:de;function pe(be,ge){return oe[0]=be[ge],oe[1]=be[ge+1],oe[2]=be[ge+2],oe[3]=be[ge+3],ne[0]}function he(be,ge){return oe[3]=be[ge],oe[2]=be[ge+1],oe[1]=be[ge+2],oe[0]=be[ge+3],ne[0]}ee.readFloatLE=ae?pe:he,ee.readFloatBE=ae?he:pe}():function(){function ne(ae,de,fe,pe){var he=de<0?1:0;if(he&&(de=-de),de===0)ae(1/de>0?0:2147483648,fe,pe);else if(isNaN(de))ae(2143289344,fe,pe);else if(de>34028234663852886e22)ae((he<<31|2139095040)>>>0,fe,pe);else if(de<11754943508222875e-54)ae((he<<31|Math.round(de/1401298464324817e-60))>>>0,fe,pe);else{var be=Math.floor(Math.log(de)/Math.LN2),ge=Math.round(de*Math.pow(2,-be)*8388608)&8388607;ae((he<<31|be+127<<23|ge)>>>0,fe,pe)}}ee.writeFloatLE=ne.bind(null,writeUintLE),ee.writeFloatBE=ne.bind(null,writeUintBE);function oe(ae,de,fe){var pe=ae(de,fe),he=(pe>>31)*2+1,be=pe>>>23&255,ge=pe&8388607;return be===255?ge?NaN:he*(1/0):be===0?he*1401298464324817e-60*ge:he*Math.pow(2,be-150)*(ge+8388608)}ee.readFloatLE=oe.bind(null,readUintLE),ee.readFloatBE=oe.bind(null,readUintBE)}(),typeof Float64Array<"u"?function(){var ne=new Float64Array([-0]),oe=new Uint8Array(ne.buffer),ae=oe[7]===128;function de(be,ge,ve){ne[0]=be,ge[ve]=oe[0],ge[ve+1]=oe[1],ge[ve+2]=oe[2],ge[ve+3]=oe[3],ge[ve+4]=oe[4],ge[ve+5]=oe[5],ge[ve+6]=oe[6],ge[ve+7]=oe[7]}function fe(be,ge,ve){ne[0]=be,ge[ve]=oe[7],ge[ve+1]=oe[6],ge[ve+2]=oe[5],ge[ve+3]=oe[4],ge[ve+4]=oe[3],ge[ve+5]=oe[2],ge[ve+6]=oe[1],ge[ve+7]=oe[0]}ee.writeDoubleLE=ae?de:fe,ee.writeDoubleBE=ae?fe:de;function pe(be,ge){return oe[0]=be[ge],oe[1]=be[ge+1],oe[2]=be[ge+2],oe[3]=be[ge+3],oe[4]=be[ge+4],oe[5]=be[ge+5],oe[6]=be[ge+6],oe[7]=be[ge+7],ne[0]}function he(be,ge){return oe[7]=be[ge],oe[6]=be[ge+1],oe[5]=be[ge+2],oe[4]=be[ge+3],oe[3]=be[ge+4],oe[2]=be[ge+5],oe[1]=be[ge+6],oe[0]=be[ge+7],ne[0]}ee.readDoubleLE=ae?pe:he,ee.readDoubleBE=ae?he:pe}():function(){function ne(ae,de,fe,pe,he,be){var ge=pe<0?1:0;if(ge&&(pe=-pe),pe===0)ae(0,he,be+de),ae(1/pe>0?0:2147483648,he,be+fe);else if(isNaN(pe))ae(0,he,be+de),ae(2146959360,he,be+fe);else if(pe>17976931348623157e292)ae(0,he,be+de),ae((ge<<31|2146435072)>>>0,he,be+fe);else{var ve;if(pe<22250738585072014e-324)ve=pe/5e-324,ae(ve>>>0,he,be+de),ae((ge<<31|ve/4294967296)>>>0,he,be+fe);else{var we=Math.floor(Math.log(pe)/Math.LN2);we===1024&&(we=1023),ve=pe*Math.pow(2,-we),ae(ve*4503599627370496>>>0,he,be+de),ae((ge<<31|we+1023<<20|ve*1048576&1048575)>>>0,he,be+fe)}}}ee.writeDoubleLE=ne.bind(null,writeUintLE,0,4),ee.writeDoubleBE=ne.bind(null,writeUintBE,4,0);function oe(ae,de,fe,pe,he){var be=ae(pe,he+de),ge=ae(pe,he+fe),ve=(ge>>31)*2+1,we=ge>>>20&2047,_e=4294967296*(ge&1048575)+be;return we===2047?_e?NaN:ve*(1/0):we===0?ve*5e-324*_e:ve*Math.pow(2,we-1075)*(_e+4503599627370496)}ee.readDoubleLE=oe.bind(null,readUintLE,0,4),ee.readDoubleBE=oe.bind(null,readUintBE,4,0)}(),ee}function writeUintLE(ee,ne,oe){ne[oe]=ee&255,ne[oe+1]=ee>>>8&255,ne[oe+2]=ee>>>16&255,ne[oe+3]=ee>>>24}function writeUintBE(ee,ne,oe){ne[oe]=ee>>>24,ne[oe+1]=ee>>>16&255,ne[oe+2]=ee>>>8&255,ne[oe+3]=ee&255}function readUintLE(ee,ne){return(ee[ne]|ee[ne+1]<<8|ee[ne+2]<<16|ee[ne+3]<<24)>>>0}function readUintBE(ee,ne){return(ee[ne]<<24|ee[ne+1]<<16|ee[ne+2]<<8|ee[ne+3])>>>0}var inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(ee){}return null}var utf8$2={};(function(ee){var ne=ee;ne.length=function(ae){for(var de=0,fe=0,pe=0;pe<ae.length;++pe)fe=ae.charCodeAt(pe),fe<128?de+=1:fe<2048?de+=2:(fe&64512)===55296&&(ae.charCodeAt(pe+1)&64512)===56320?(++pe,de+=4):de+=3;return de},ne.read=function(ae,de,fe){var pe=fe-de;if(pe<1)return"";for(var he=null,be=[],ge=0,ve;de<fe;)ve=ae[de++],ve<128?be[ge++]=ve:ve>191&&ve<224?be[ge++]=(ve&31)<<6|ae[de++]&63:ve>239&&ve<365?(ve=((ve&7)<<18|(ae[de++]&63)<<12|(ae[de++]&63)<<6|ae[de++]&63)-65536,be[ge++]=55296+(ve>>10),be[ge++]=56320+(ve&1023)):be[ge++]=(ve&15)<<12|(ae[de++]&63)<<6|ae[de++]&63,ge>8191&&((he||(he=[])).push(String.fromCharCode.apply(String,be)),ge=0);return he?(ge&&he.push(String.fromCharCode.apply(String,be.slice(0,ge))),he.join("")):String.fromCharCode.apply(String,be.slice(0,ge))},ne.write=function(ae,de,fe){for(var pe=fe,he,be,ge=0;ge<ae.length;++ge)he=ae.charCodeAt(ge),he<128?de[fe++]=he:he<2048?(de[fe++]=he>>6|192,de[fe++]=he&63|128):(he&64512)===55296&&((be=ae.charCodeAt(ge+1))&64512)===56320?(he=65536+((he&1023)<<10)+(be&1023),++ge,de[fe++]=he>>18|240,de[fe++]=he>>12&63|128,de[fe++]=he>>6&63|128,de[fe++]=he&63|128):(de[fe++]=he>>12|224,de[fe++]=he>>6&63|128,de[fe++]=he&63|128);return fe-pe}})(utf8$2);var pool_1=pool;function pool(ee,ne,oe){var ae=oe||8192,de=ae>>>1,fe=null,pe=ae;return function(be){if(be<1||be>de)return ee(be);pe+be>ae&&(fe=ee(ae),pe=0);var ge=ne.call(fe,pe,pe+=be);return pe&7&&(pe=(pe|7)+1),ge}}var longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=ne;var ee=requireMinimal();function ne(fe,pe){this.lo=fe>>>0,this.hi=pe>>>0}var oe=ne.zero=new ne(0,0);oe.toNumber=function(){return 0},oe.zzEncode=oe.zzDecode=function(){return this},oe.length=function(){return 1};var ae=ne.zeroHash="\0\0\0\0\0\0\0\0";ne.fromNumber=function(pe){if(pe===0)return oe;var he=pe<0;he&&(pe=-pe);var be=pe>>>0,ge=(pe-be)/4294967296>>>0;return he&&(ge=~ge>>>0,be=~be>>>0,++be>4294967295&&(be=0,++ge>4294967295&&(ge=0))),new ne(be,ge)},ne.from=function(pe){if(typeof pe=="number")return ne.fromNumber(pe);if(ee.isString(pe))if(ee.Long)pe=ee.Long.fromString(pe);else return ne.fromNumber(parseInt(pe,10));return pe.low||pe.high?new ne(pe.low>>>0,pe.high>>>0):oe},ne.prototype.toNumber=function(pe){if(!pe&&this.hi>>>31){var he=~this.lo+1>>>0,be=~this.hi>>>0;return he||(be=be+1>>>0),-(he+be*4294967296)}return this.lo+this.hi*4294967296},ne.prototype.toLong=function(pe){return ee.Long?new ee.Long(this.lo|0,this.hi|0,!!pe):{low:this.lo|0,high:this.hi|0,unsigned:!!pe}};var de=String.prototype.charCodeAt;return ne.fromHash=function(pe){return pe===ae?oe:new ne((de.call(pe,0)|de.call(pe,1)<<8|de.call(pe,2)<<16|de.call(pe,3)<<24)>>>0,(de.call(pe,4)|de.call(pe,5)<<8|de.call(pe,6)<<16|de.call(pe,7)<<24)>>>0)},ne.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},ne.prototype.zzEncode=function(){var pe=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^pe)>>>0,this.lo=(this.lo<<1^pe)>>>0,this},ne.prototype.zzDecode=function(){var pe=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^pe)>>>0,this.hi=(this.hi>>>1^pe)>>>0,this},ne.prototype.length=function(){var pe=this.lo,he=(this.lo>>>28|this.hi<<4)>>>0,be=this.hi>>>24;return be===0?he===0?pe<16384?pe<128?1:2:pe<2097152?3:4:he<16384?he<128?5:6:he<2097152?7:8:be<128?9:10},longbits}var hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,function(ee){var ne=ee;ne.asPromise=aspromise,ne.base64=base64$2,ne.EventEmitter=eventemitter,ne.float=float,ne.inquire=inquire_1,ne.utf8=utf8$2,ne.pool=pool_1,ne.LongBits=requireLongbits(),ne.isNode=!!(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),ne.global=ne.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||commonjsGlobal,ne.emptyArray=Object.freeze?Object.freeze([]):[],ne.emptyObject=Object.freeze?Object.freeze({}):{},ne.isInteger=Number.isInteger||function(fe){return typeof fe=="number"&&isFinite(fe)&&Math.floor(fe)===fe},ne.isString=function(fe){return typeof fe=="string"||fe instanceof String},ne.isObject=function(fe){return fe&&typeof fe=="object"},ne.isset=ne.isSet=function(fe,pe){var he=fe[pe];return he!=null&&fe.hasOwnProperty(pe)?typeof he!="object"||(Array.isArray(he)?he.length:Object.keys(he).length)>0:!1},ne.Buffer=function(){try{var de=ne.inquire("buffer").Buffer;return de.prototype.utf8Write?de:null}catch{return null}}(),ne._Buffer_from=null,ne._Buffer_allocUnsafe=null,ne.newBuffer=function(fe){return typeof fe=="number"?ne.Buffer?ne._Buffer_allocUnsafe(fe):new ne.Array(fe):ne.Buffer?ne._Buffer_from(fe):typeof Uint8Array>"u"?fe:new Uint8Array(fe)},ne.Array=typeof Uint8Array<"u"?Uint8Array:Array,ne.Long=ne.global.dcodeIO&&ne.global.dcodeIO.Long||ne.global.Long||ne.inquire("long"),ne.key2Re=/^true|false|0|1$/,ne.key32Re=/^-?(?:0|[1-9][0-9]*)$/,ne.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,ne.longToHash=function(fe){return fe?ne.LongBits.from(fe).toHash():ne.LongBits.zeroHash},ne.longFromHash=function(fe,pe){var he=ne.LongBits.fromHash(fe);return ne.Long?ne.Long.fromBits(he.lo,he.hi,pe):he.toNumber(!!pe)};function oe(de,fe,pe){for(var he=Object.keys(fe),be=0;be<he.length;++be)(de[he[be]]===void 0||!pe)&&(de[he[be]]=fe[he[be]]);return de}ne.merge=oe,ne.lcFirst=function(fe){return fe.charAt(0).toLowerCase()+fe.substring(1)};function ae(de){function fe(pe,he){if(!(this instanceof fe))return new fe(pe,he);Object.defineProperty(this,"message",{get:function(){return pe}}),Error.captureStackTrace?Error.captureStackTrace(this,fe):Object.defineProperty(this,"stack",{value:new Error().stack||""}),he&&oe(this,he)}return fe.prototype=Object.create(Error.prototype,{constructor:{value:fe,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return de},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),fe}ne.newError=ae,ne.ProtocolError=ae("ProtocolError"),ne.oneOfGetter=function(fe){for(var pe={},he=0;he<fe.length;++he)pe[fe[he]]=1;return function(){for(var be=Object.keys(this),ge=be.length-1;ge>-1;--ge)if(pe[be[ge]]===1&&this[be[ge]]!==void 0&&this[be[ge]]!==null)return be[ge]}},ne.oneOfSetter=function(fe){return function(pe){for(var he=0;he<fe.length;++he)fe[he]!==pe&&delete this[fe[he]]}},ne.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},ne._configure=function(){var de=ne.Buffer;if(!de){ne._Buffer_from=ne._Buffer_allocUnsafe=null;return}ne._Buffer_from=de.from!==Uint8Array.from&&de.from||function(pe,he){return new de(pe,he)},ne._Buffer_allocUnsafe=de.allocUnsafe||function(pe){return new de(pe)}}}(minimal)),minimal}var writer=Writer$1,util$4=requireMinimal(),BufferWriter$1,LongBits$1=util$4.LongBits,base64$1=util$4.base64,utf8$1=util$4.utf8;function Op(ee,ne,oe){this.fn=ee,this.len=ne,this.next=void 0,this.val=oe}function noop(){}function State(ee){this.head=ee.head,this.tail=ee.tail,this.len=ee.len,this.next=ee.states}function Writer$1(){this.len=0,this.head=new Op(noop,0,0),this.tail=this.head,this.states=null}var create$1=function ee(){return util$4.Buffer?function(){return(Writer$1.create=function(){return new BufferWriter$1})()}:function(){return new Writer$1}};Writer$1.create=create$1();Writer$1.alloc=function ee(ne){return new util$4.Array(ne)};util$4.Array!==Array&&(Writer$1.alloc=util$4.pool(Writer$1.alloc,util$4.Array.prototype.subarray));Writer$1.prototype._push=function ee(ne,oe,ae){return this.tail=this.tail.next=new Op(ne,oe,ae),this.len+=oe,this};function writeByte(ee,ne,oe){ne[oe]=ee&255}function writeVarint32(ee,ne,oe){for(;ee>127;)ne[oe++]=ee&127|128,ee>>>=7;ne[oe]=ee}function VarintOp(ee,ne){this.len=ee,this.next=void 0,this.val=ne}VarintOp.prototype=Object.create(Op.prototype);VarintOp.prototype.fn=writeVarint32;Writer$1.prototype.uint32=function ee(ne){return this.len+=(this.tail=this.tail.next=new VarintOp((ne=ne>>>0)<128?1:ne<16384?2:ne<2097152?3:ne<268435456?4:5,ne)).len,this};Writer$1.prototype.int32=function ee(ne){return ne<0?this._push(writeVarint64,10,LongBits$1.fromNumber(ne)):this.uint32(ne)};Writer$1.prototype.sint32=function ee(ne){return this.uint32((ne<<1^ne>>31)>>>0)};function writeVarint64(ee,ne,oe){for(;ee.hi;)ne[oe++]=ee.lo&127|128,ee.lo=(ee.lo>>>7|ee.hi<<25)>>>0,ee.hi>>>=7;for(;ee.lo>127;)ne[oe++]=ee.lo&127|128,ee.lo=ee.lo>>>7;ne[oe++]=ee.lo}Writer$1.prototype.uint64=function ee(ne){var oe=LongBits$1.from(ne);return this._push(writeVarint64,oe.length(),oe)};Writer$1.prototype.int64=Writer$1.prototype.uint64;Writer$1.prototype.sint64=function ee(ne){var oe=LongBits$1.from(ne).zzEncode();return this._push(writeVarint64,oe.length(),oe)};Writer$1.prototype.bool=function ee(ne){return this._push(writeByte,1,ne?1:0)};function writeFixed32(ee,ne,oe){ne[oe]=ee&255,ne[oe+1]=ee>>>8&255,ne[oe+2]=ee>>>16&255,ne[oe+3]=ee>>>24}Writer$1.prototype.fixed32=function ee(ne){return this._push(writeFixed32,4,ne>>>0)};Writer$1.prototype.sfixed32=Writer$1.prototype.fixed32;Writer$1.prototype.fixed64=function ee(ne){var oe=LongBits$1.from(ne);return this._push(writeFixed32,4,oe.lo)._push(writeFixed32,4,oe.hi)};Writer$1.prototype.sfixed64=Writer$1.prototype.fixed64;Writer$1.prototype.float=function ee(ne){return this._push(util$4.float.writeFloatLE,4,ne)};Writer$1.prototype.double=function ee(ne){return this._push(util$4.float.writeDoubleLE,8,ne)};var writeBytes=util$4.Array.prototype.set?function ee(ne,oe,ae){oe.set(ne,ae)}:function ee(ne,oe,ae){for(var de=0;de<ne.length;++de)oe[ae+de]=ne[de]};Writer$1.prototype.bytes=function ee(ne){var oe=ne.length>>>0;if(!oe)return this._push(writeByte,1,0);if(util$4.isString(ne)){var ae=Writer$1.alloc(oe=base64$1.length(ne));base64$1.decode(ne,ae,0),ne=ae}return this.uint32(oe)._push(writeBytes,oe,ne)};Writer$1.prototype.string=function ee(ne){var oe=utf8$1.length(ne);return oe?this.uint32(oe)._push(utf8$1.write,oe,ne):this._push(writeByte,1,0)};Writer$1.prototype.fork=function ee(){return this.states=new State(this),this.head=this.tail=new Op(noop,0,0),this.len=0,this};Writer$1.prototype.reset=function ee(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop,0,0),this.len=0),this};Writer$1.prototype.ldelim=function ee(){var ne=this.head,oe=this.tail,ae=this.len;return this.reset().uint32(ae),ae&&(this.tail.next=ne.next,this.tail=oe,this.len+=ae),this};Writer$1.prototype.finish=function ee(){for(var ne=this.head.next,oe=this.constructor.alloc(this.len),ae=0;ne;)ne.fn(ne.val,oe,ae),ae+=ne.len,ne=ne.next;return oe};Writer$1._configure=function(ee){BufferWriter$1=ee,Writer$1.create=create$1(),BufferWriter$1._configure()};var writer_buffer=BufferWriter,Writer=writer;(BufferWriter.prototype=Object.create(Writer.prototype)).constructor=BufferWriter;var util$3=requireMinimal();function BufferWriter(){Writer.call(this)}BufferWriter._configure=function(){BufferWriter.alloc=util$3._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=util$3.Buffer&&util$3.Buffer.prototype instanceof Uint8Array&&util$3.Buffer.prototype.set.name==="set"?function(ne,oe,ae){oe.set(ne,ae)}:function(ne,oe,ae){if(ne.copy)ne.copy(oe,ae,0,ne.length);else for(var de=0;de<ne.length;)oe[ae++]=ne[de++]}};BufferWriter.prototype.bytes=function ee(ne){util$3.isString(ne)&&(ne=util$3._Buffer_from(ne,"base64"));var oe=ne.length>>>0;return this.uint32(oe),oe&&this._push(BufferWriter.writeBytesBuffer,oe,ne),this};function writeStringBuffer(ee,ne,oe){ee.length<40?util$3.utf8.write(ee,ne,oe):ne.utf8Write?ne.utf8Write(ee,oe):ne.write(ee,oe)}BufferWriter.prototype.string=function ee(ne){var oe=util$3.Buffer.byteLength(ne);return this.uint32(oe),oe&&this._push(writeStringBuffer,oe,ne),this};BufferWriter._configure();var reader=Reader$1,util$2=requireMinimal(),BufferReader$1,LongBits=util$2.LongBits,utf8=util$2.utf8;function indexOutOfRange(ee,ne){return RangeError("index out of range: "+ee.pos+" + "+(ne||1)+" > "+ee.len)}function Reader$1(ee){this.buf=ee,this.pos=0,this.len=ee.length}var create_array=typeof Uint8Array<"u"?function ee(ne){if(ne instanceof Uint8Array||Array.isArray(ne))return new Reader$1(ne);throw Error("illegal buffer")}:function ee(ne){if(Array.isArray(ne))return new Reader$1(ne);throw Error("illegal buffer")},create=function ee(){return util$2.Buffer?function(oe){return(Reader$1.create=function(de){return util$2.Buffer.isBuffer(de)?new BufferReader$1(de):create_array(de)})(oe)}:create_array};Reader$1.create=create();Reader$1.prototype._slice=util$2.Array.prototype.subarray||util$2.Array.prototype.slice;Reader$1.prototype.uint32=function ee(){var ne=4294967295;return function(){if(ne=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(ne=(ne|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(ne=(ne|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(ne=(ne|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(ne=(ne|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return ne;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return ne}}();Reader$1.prototype.int32=function ee(){return this.uint32()|0};Reader$1.prototype.sint32=function ee(){var ne=this.uint32();return ne>>>1^-(ne&1)|0};function readLongVarint(){var ee=new LongBits(0,0),ne=0;if(this.len-this.pos>4){for(;ne<4;++ne)if(ee.lo=(ee.lo|(this.buf[this.pos]&127)<<ne*7)>>>0,this.buf[this.pos++]<128)return ee;if(ee.lo=(ee.lo|(this.buf[this.pos]&127)<<28)>>>0,ee.hi=(ee.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return ee;ne=0}else{for(;ne<3;++ne){if(this.pos>=this.len)throw indexOutOfRange(this);if(ee.lo=(ee.lo|(this.buf[this.pos]&127)<<ne*7)>>>0,this.buf[this.pos++]<128)return ee}return ee.lo=(ee.lo|(this.buf[this.pos++]&127)<<ne*7)>>>0,ee}if(this.len-this.pos>4){for(;ne<5;++ne)if(ee.hi=(ee.hi|(this.buf[this.pos]&127)<<ne*7+3)>>>0,this.buf[this.pos++]<128)return ee}else for(;ne<5;++ne){if(this.pos>=this.len)throw indexOutOfRange(this);if(ee.hi=(ee.hi|(this.buf[this.pos]&127)<<ne*7+3)>>>0,this.buf[this.pos++]<128)return ee}throw Error("invalid varint encoding")}Reader$1.prototype.bool=function ee(){return this.uint32()!==0};function readFixed32_end(ee,ne){return(ee[ne-4]|ee[ne-3]<<8|ee[ne-2]<<16|ee[ne-1]<<24)>>>0}Reader$1.prototype.fixed32=function ee(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)};Reader$1.prototype.sfixed32=function ee(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)|0};function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader$1.prototype.float=function ee(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var ne=util$2.float.readFloatLE(this.buf,this.pos);return this.pos+=4,ne};Reader$1.prototype.double=function ee(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var ne=util$2.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,ne};Reader$1.prototype.bytes=function ee(){var ne=this.uint32(),oe=this.pos,ae=this.pos+ne;if(ae>this.len)throw indexOutOfRange(this,ne);if(this.pos+=ne,Array.isArray(this.buf))return this.buf.slice(oe,ae);if(oe===ae){var de=util$2.Buffer;return de?de.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,oe,ae)};Reader$1.prototype.string=function ee(){var ne=this.bytes();return utf8.read(ne,0,ne.length)};Reader$1.prototype.skip=function ee(ne){if(typeof ne=="number"){if(this.pos+ne>this.len)throw indexOutOfRange(this,ne);this.pos+=ne}else do if(this.pos>=this.len)throw indexOutOfRange(this);while(this.buf[this.pos++]&128);return this};Reader$1.prototype.skipType=function(ee){switch(ee){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(ee=this.uint32()&7)!==4;)this.skipType(ee);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+ee+" at offset "+this.pos)}return this};Reader$1._configure=function(ee){BufferReader$1=ee,Reader$1.create=create(),BufferReader$1._configure();var ne=util$2.Long?"toLong":"toNumber";util$2.merge(Reader$1.prototype,{int64:function(){return readLongVarint.call(this)[ne](!1)},uint64:function(){return readLongVarint.call(this)[ne](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[ne](!1)},fixed64:function(){return readFixed64.call(this)[ne](!0)},sfixed64:function(){return readFixed64.call(this)[ne](!1)}})};var reader_buffer=BufferReader,Reader=reader;(BufferReader.prototype=Object.create(Reader.prototype)).constructor=BufferReader;var util$1=requireMinimal();function BufferReader(ee){Reader.call(this,ee)}BufferReader._configure=function(){util$1.Buffer&&(BufferReader.prototype._slice=util$1.Buffer.prototype.slice)};BufferReader.prototype.string=function ee(){var ne=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+ne,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+ne,this.len))};BufferReader._configure();var rpc={},service=Service,util=requireMinimal();(Service.prototype=Object.create(util.EventEmitter.prototype)).constructor=Service;function Service(ee,ne,oe){if(typeof ee!="function")throw TypeError("rpcImpl must be a function");util.EventEmitter.call(this),this.rpcImpl=ee,this.requestDelimited=!!ne,this.responseDelimited=!!oe}Service.prototype.rpcCall=function ee(ne,oe,ae,de,fe){if(!de)throw TypeError("request must be specified");var pe=this;if(!fe)return util.asPromise(ee,pe,ne,oe,ae,de);if(!pe.rpcImpl){setTimeout(function(){fe(Error("already ended"))},0);return}try{return pe.rpcImpl(ne,oe[pe.requestDelimited?"encodeDelimited":"encode"](de).finish(),function(be,ge){if(be)return pe.emit("error",be,ne),fe(be);if(ge===null){pe.end(!0);return}if(!(ge instanceof ae))try{ge=ae[pe.responseDelimited?"decodeDelimited":"decode"](ge)}catch(ve){return pe.emit("error",ve,ne),fe(ve)}return pe.emit("data",ge,ne),fe(null,ge)})}catch(he){pe.emit("error",he,ne),setTimeout(function(){fe(he)},0);return}};Service.prototype.end=function ee(ne){return this.rpcImpl&&(ne||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};(function(ee){var ne=ee;ne.Service=service})(rpc);var roots={};(function(ee){var ne=ee;ne.build="minimal",ne.Writer=writer,ne.BufferWriter=writer_buffer,ne.Reader=reader,ne.BufferReader=reader_buffer,ne.util=requireMinimal(),ne.rpc=rpc,ne.roots=roots,ne.configure=oe;function oe(){ne.util._configure(),ne.Writer._configure(ne.BufferWriter),ne.Reader._configure(ne.BufferReader)}oe()})(indexMinimal);(function(ee){ee.exports=indexMinimal})(minimal$1);const _m0=getDefaultExportFromCjs(minimalExports);var lib$1={},lib={},Metadata={};Object.defineProperty(Metadata,"__esModule",{value:!0});Metadata.Metadata=void 0;Metadata.Metadata=function ee(ne){const oe=new Map,ae={set(de,fe){if(de=normalizeKey(de),Array.isArray(fe))if(fe.length===0)oe.delete(de);else{for(const pe of fe)validate(de,pe);oe.set(de,de.endsWith("-bin")?fe:[fe.join(", ")])}else validate(de,fe),oe.set(de,[fe]);return ae},append(de,fe){de=normalizeKey(de),validate(de,fe);let pe=oe.get(de);return pe==null&&(pe=[],oe.set(de,pe)),pe.push(fe),de.endsWith("-bin")||oe.set(de,[pe.join(", ")]),ae},delete(de){de=normalizeKey(de),oe.delete(de)},get(de){var fe;return de=normalizeKey(de),(fe=oe.get(de))===null||fe===void 0?void 0:fe[0]},getAll(de){var fe;return de=normalizeKey(de),(fe=oe.get(de))!==null&&fe!==void 0?fe:[]},has(de){return de=normalizeKey(de),oe.has(de)},[Symbol.iterator](){return oe[Symbol.iterator]()}};if(ne!=null){const de=isIterable(ne)?ne:Object.entries(ne);for(const[fe,pe]of de)ae.set(fe,pe)}return ae};function normalizeKey(ee){return ee.toLowerCase()}function validate(ee,ne){if(!/^[0-9a-z_.-]+$/.test(ee))throw new Error(`Metadata key '${ee}' contains illegal characters`);if(ee.endsWith("-bin")){if(!(ne instanceof Uint8Array))throw new Error(`Metadata key '${ee}' ends with '-bin', thus it must have binary value`)}else{if(typeof ne!="string")throw new Error(`Metadata key '${ee}' doesn't end with '-bin', thus it must have string value`);if(!/^[ -~]*$/.test(ne))throw new Error(`Metadata value '${ne}' of key '${ee}' contains illegal characters`)}}function isIterable(ee){return Symbol.iterator in ee}var Status={};(function(ee){Object.defineProperty(ee,"__esModule",{value:!0}),ee.Status=void 0,function(ne){ne[ne.OK=0]="OK",ne[ne.CANCELLED=1]="CANCELLED",ne[ne.UNKNOWN=2]="UNKNOWN",ne[ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ne[ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ne[ne.NOT_FOUND=5]="NOT_FOUND",ne[ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",ne[ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",ne[ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ne[ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ne[ne.ABORTED=10]="ABORTED",ne[ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",ne[ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",ne[ne.INTERNAL=13]="INTERNAL",ne[ne.UNAVAILABLE=14]="UNAVAILABLE",ne[ne.DATA_LOSS=15]="DATA_LOSS",ne[ne.UNAUTHENTICATED=16]="UNAUTHENTICATED"}(ee.Status||(ee.Status={}))})(Status);var MethodDescriptor={};Object.defineProperty(MethodDescriptor,"__esModule",{value:!0});var CallOptions={};Object.defineProperty(CallOptions,"__esModule",{value:!0});var ClientMiddleware={};Object.defineProperty(ClientMiddleware,"__esModule",{value:!0});var composeClientMiddleware$1={};Object.defineProperty(composeClientMiddleware$1,"__esModule",{value:!0});composeClientMiddleware$1.composeClientMiddleware=void 0;function composeClientMiddleware(ee,ne){return(oe,ae)=>ne(Object.assign(Object.assign({},oe),{next:(de,fe)=>ee(Object.assign(Object.assign({},oe),{request:de}),fe)}),ae)}composeClientMiddleware$1.composeClientMiddleware=composeClientMiddleware;var ClientError$1={},cjs={},helpers={};helpers.__esModule=void 0;helpers.__esModule=!0;var objectSetPrototypeOfIsDefined=typeof Object.setPrototypeOf=="function",objectGetPrototypeOfIsDefined=typeof Object.getPrototypeOf=="function",objectDefinePropertyIsDefined=typeof Object.defineProperty=="function",objectCreateIsDefined=typeof Object.create=="function",objectHasOwnPropertyIsDefined=typeof Object.prototype.hasOwnProperty=="function",setPrototypeOf=function ee(ne,oe){objectSetPrototypeOfIsDefined?Object.setPrototypeOf(ne,oe):ne.__proto__=oe};helpers.setPrototypeOf=setPrototypeOf;var getPrototypeOf=function ee(ne){return objectGetPrototypeOfIsDefined?Object.getPrototypeOf(ne):ne.__proto__||ne.prototype};helpers.getPrototypeOf=getPrototypeOf;var ie8ObjectDefinePropertyBug=!1,defineProperty=function ee(ne,oe,ae){if(objectDefinePropertyIsDefined&&!ie8ObjectDefinePropertyBug)try{Object.defineProperty(ne,oe,ae)}catch{ie8ObjectDefinePropertyBug=!0,ee(ne,oe,ae)}else ne[oe]=ae.value};helpers.defineProperty=defineProperty;var hasOwnProperty=function ee(ne,oe){return objectHasOwnPropertyIsDefined?ne.hasOwnProperty(ne,oe):ne[oe]===void 0};helpers.hasOwnProperty=hasOwnProperty;var objectCreate=function ee(ne,oe){if(objectCreateIsDefined)return Object.create(ne,oe);var ae=function(){};ae.prototype=ne;var de=new ae;if(typeof oe>"u")return de;if(typeof oe=="null")throw new Error("PropertyDescriptors must not be null.");if(typeof oe=="object")for(var fe in oe)hasOwnProperty(oe,fe)&&(de[fe]=oe[fe].value);return de};helpers.objectCreate=objectCreate;(function(ee){ee.__esModule=void 0,ee.__esModule=!0;var ne=helpers,oe=ne.setPrototypeOf,ae=ne.getPrototypeOf,de=ne.defineProperty,fe=ne.objectCreate,pe=new Error().toString()==="[object Error]",he="";function be(ge){var ve=this.constructor,we=ve.name||function(){var Pe=ve.toString().match(/^function\s*([^\s(]+)/);return Pe===null?he||"Error":Pe[1]}(),_e=we==="Error",Te=_e?he:we,Ee=Error.apply(this,arguments);if(oe(Ee,ae(this)),!(Ee instanceof ve)||!(Ee instanceof be)){var Ee=this;Error.apply(this,arguments),de(Ee,"message",{configurable:!0,enumerable:!1,value:ge,writable:!0})}if(de(Ee,"name",{configurable:!0,enumerable:!1,value:Te,writable:!0}),Error.captureStackTrace&&Error.captureStackTrace(Ee,_e?be:ve),Ee.stack===void 0){var Ie=new Error(ge);Ie.name=Ee.name,Ee.stack=Ie.stack}return pe&&de(Ee,"toString",{configurable:!0,enumerable:!1,value:function(){return(this.name||"Error")+(typeof this.message>"u"?"":": "+this.message)},writable:!0}),Ee}he=be.name||"ExtendableError",be.prototype=fe(Error.prototype,{constructor:{value:Error,enumerable:!1,writable:!0,configurable:!0}}),ee.ExtendableError=be,ee.default=ee.ExtendableError})(cjs);Object.defineProperty(ClientError$1,"__esModule",{value:!0});ClientError$1.ClientError=void 0;const ts_error_1$1=cjs,Status_1$1=Status;class ClientError extends ts_error_1$1.ExtendableError{constructor(ne,oe,ae){super(`${ne} ${Status_1$1.Status[oe]}: ${ae}`),this.path=ne,this.code=oe,this.details=ae,this.name="ClientError",Object.defineProperty(this,"@@nice-grpc",{value:!0}),Object.defineProperty(this,"@@nice-grpc:ClientError",{value:!0})}static[Symbol.hasInstance](ne){return this!==ClientError?this.prototype.isPrototypeOf(ne):typeof ne=="object"&&ne!==null&&(ne.constructor===ClientError||ne["@@nice-grpc:ClientError"]===!0||ne.name==="ClientError"&&ne["@@nice-grpc"]===!0)}}ClientError$1.ClientError=ClientError;var CallContext={};Object.defineProperty(CallContext,"__esModule",{value:!0});var ServerMiddleware={};Object.defineProperty(ServerMiddleware,"__esModule",{value:!0});var composeServerMiddleware$1={};Object.defineProperty(composeServerMiddleware$1,"__esModule",{value:!0});composeServerMiddleware$1.composeServerMiddleware=void 0;function composeServerMiddleware(ee,ne){return(oe,ae)=>ee(Object.assign(Object.assign({},oe),{next:(de,fe)=>ne(Object.assign(Object.assign({},oe),{request:de}),fe)}),ae)}composeServerMiddleware$1.composeServerMiddleware=composeServerMiddleware;var ServerError$1={};Object.defineProperty(ServerError$1,"__esModule",{value:!0});ServerError$1.ServerError=void 0;const ts_error_1=cjs,Status_1=Status;class ServerError extends ts_error_1.ExtendableError{constructor(ne,oe){super(`${Status_1.Status[ne]}: ${oe}`),this.code=ne,this.details=oe,this.name="ServerError",Object.defineProperty(this,"@@nice-grpc",{value:!0}),Object.defineProperty(this,"@@nice-grpc:ServerError",{value:!0})}static[Symbol.hasInstance](ne){return this!==ServerError?this.prototype.isPrototypeOf(ne):typeof ne=="object"&&ne!==null&&(ne.constructor===ServerError||ne["@@nice-grpc:ServerError"]===!0||ne.name==="ServerError"&&ne["@@nice-grpc"]===!0)}}ServerError$1.ServerError=ServerError;(function(ee){var ne=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(ae,de,fe,pe){pe===void 0&&(pe=fe);var he=Object.getOwnPropertyDescriptor(de,fe);(!he||("get"in he?!de.__esModule:he.writable||he.configurable))&&(he={enumerable:!0,get:function(){return de[fe]}}),Object.defineProperty(ae,pe,he)}:function(ae,de,fe,pe){pe===void 0&&(pe=fe),ae[pe]=de[fe]}),oe=commonjsGlobal&&commonjsGlobal.__exportStar||function(ae,de){for(var fe in ae)fe!=="default"&&!Object.prototype.hasOwnProperty.call(de,fe)&&ne(de,ae,fe)};Object.defineProperty(ee,"__esModule",{value:!0}),oe(Metadata,ee),oe(Status,ee),oe(MethodDescriptor,ee),oe(CallOptions,ee),oe(ClientMiddleware,ee),oe(composeClientMiddleware$1,ee),oe(ClientError$1,ee),oe(CallContext,ee),oe(ServerMiddleware,ee),oe(composeServerMiddleware$1,ee),oe(ServerError$1,ee)})(lib);var serviceDefinitions={},grpcWeb={};Object.defineProperty(grpcWeb,"__esModule",{value:!0});grpcWeb.isGrpcWebServiceDefinition=grpcWeb.fromGrpcWebServiceDefinition=void 0;function fromGrpcWebServiceDefinition(ee){const ne={};for(const[oe,ae]of Object.entries(ee)){if(oe==="serviceName")continue;const de=ae;ne[uncapitalize(oe)]={path:`/${ee.serviceName}/${oe}`,requestStream:de.requestStream,responseStream:de.responseStream,requestDeserialize:de.requestType.deserializeBinary,requestSerialize:fe=>fe.serializeBinary(),responseDeserialize:de.responseType.deserializeBinary,responseSerialize:fe=>fe.serializeBinary(),options:{}}}return ne}grpcWeb.fromGrpcWebServiceDefinition=fromGrpcWebServiceDefinition;function isGrpcWebServiceDefinition(ee){return"prototype"in ee}grpcWeb.isGrpcWebServiceDefinition=isGrpcWebServiceDefinition;function uncapitalize(ee){return ee.length===0?ee:ee[0].toLowerCase()+ee.slice(1)}var tsProto={};Object.defineProperty(tsProto,"__esModule",{value:!0});tsProto.isTsProtoServiceDefinition=tsProto.fromTsProtoServiceDefinition=void 0;function fromTsProtoServiceDefinition(ee){const ne={};for(const[oe,ae]of Object.entries(ee.methods)){const de=ae.requestType.encode,fe=ae.requestType.fromPartial,pe=ae.responseType.encode,he=ae.responseType.fromPartial;ne[oe]={path:`/${ee.fullName}/${ae.name}`,requestStream:ae.requestStream,responseStream:ae.responseStream,requestDeserialize:ae.requestType.decode,requestSerialize:fe!=null?be=>de(fe(be)).finish():be=>de(be).finish(),responseDeserialize:ae.responseType.decode,responseSerialize:he!=null?be=>pe(he(be)).finish():be=>pe(be).finish(),options:ae.options}}return ne}tsProto.fromTsProtoServiceDefinition=fromTsProtoServiceDefinition;function isTsProtoServiceDefinition(ee){return"name"in ee&&"fullName"in ee&&"methods"in ee}tsProto.isTsProtoServiceDefinition=isTsProtoServiceDefinition;Object.defineProperty(serviceDefinitions,"__esModule",{value:!0});serviceDefinitions.toGrpcWebMethodDefinition=serviceDefinitions.normalizeServiceDefinition=void 0;const grpc_web_1$5=grpcWeb,ts_proto_1=tsProto;function normalizeServiceDefinition(ee){return(0,grpc_web_1$5.isGrpcWebServiceDefinition)(ee)?(0,grpc_web_1$5.fromGrpcWebServiceDefinition)(ee):(0,ts_proto_1.isTsProtoServiceDefinition)(ee)?(0,ts_proto_1.fromTsProtoServiceDefinition)(ee):ee}serviceDefinitions.normalizeServiceDefinition=normalizeServiceDefinition;function toGrpcWebMethodDefinition(ee){const[,ne,oe]=ee.path.split("/");return{service:{serviceName:ne},methodName:oe,requestStream:ee.requestStream,responseStream:ee.responseStream,requestType:class{constructor(){throw new Error("Unexpected instantiation")}static deserializeBinary(ae){return ee.requestDeserialize(ae)}},responseType:class{constructor(){throw new Error("Unexpected instantiation")}static deserializeBinary(ae){return ee.responseDeserialize(ae)}}}}serviceDefinitions.toGrpcWebMethodDefinition=toGrpcWebMethodDefinition;var channel={};Object.defineProperty(channel,"__esModule",{value:!0});channel.createChannel=void 0;function createChannel(ee,ne){return{address:ee,transport:ne}}channel.createChannel=createChannel;var ClientFactory={},createBidiStreamingMethod$1={},grpcWebClient_umdExports={},grpcWebClient_umd={get exports(){return grpcWebClient_umdExports},set exports(ee){grpcWebClient_umdExports=ee}};(function(ee,ne){(function(oe,ae){ee.exports=ae()})(commonjsGlobal,function(){return oe={418:function(de,fe){(function(pe,he){for(var be in he)pe[be]=he[be]})(fe,function(pe){var he={};function be(ge){if(he[ge])return he[ge].exports;var ve=he[ge]={i:ge,l:!1,exports:{}};return pe[ge].call(ve.exports,ve,ve.exports,be),ve.l=!0,ve.exports}return be.m=pe,be.c=he,be.i=function(ge){return ge},be.d=function(ge,ve,we){be.o(ge,ve)||Object.defineProperty(ge,ve,{configurable:!1,enumerable:!0,get:we})},be.n=function(ge){var ve=ge&&ge.__esModule?function(){return ge.default}:function(){return ge};return be.d(ve,"a",ve),ve},be.o=function(ge,ve){return Object.prototype.hasOwnProperty.call(ge,ve)},be.p="",be(be.s=1)}([function(pe,he,be){Object.defineProperty(he,"__esModule",{value:!0});var ge=be(3),ve=function(){function we(_e,Te){_e===void 0&&(_e={}),Te===void 0&&(Te={splitValues:!1});var Ee,Ie=this;this.headersMap={},_e&&(typeof Headers<"u"&&_e instanceof Headers?ge.getHeaderKeys(_e).forEach(function(Pe){ge.getHeaderValues(_e,Pe).forEach(function(xe){Te.splitValues?Ie.append(Pe,ge.splitHeaderValue(xe)):Ie.append(Pe,xe)})}):typeof(Ee=_e)=="object"&&typeof Ee.headersMap=="object"&&typeof Ee.forEach=="function"?_e.forEach(function(Pe,xe){Ie.append(Pe,xe)}):typeof Map<"u"&&_e instanceof Map?_e.forEach(function(Pe,xe){Ie.append(xe,Pe)}):typeof _e=="string"?this.appendFromString(_e):typeof _e=="object"&&Object.getOwnPropertyNames(_e).forEach(function(Pe){var xe=_e[Pe];Array.isArray(xe)?xe.forEach(function(Ae){Ie.append(Pe,Ae)}):Ie.append(Pe,xe)}))}return we.prototype.appendFromString=function(_e){for(var Te=_e.split(`\r
`),Ee=0;Ee<Te.length;Ee++){var Ie=Te[Ee],Pe=Ie.indexOf(":");if(Pe>0){var xe=Ie.substring(0,Pe).trim(),Ae=Ie.substring(Pe+1).trim();this.append(xe,Ae)}}},we.prototype.delete=function(_e,Te){var Ee=ge.normalizeName(_e);if(Te===void 0)delete this.headersMap[Ee];else{var Ie=this.headersMap[Ee];if(Ie){var Pe=Ie.indexOf(Te);Pe>=0&&Ie.splice(Pe,1),Ie.length===0&&delete this.headersMap[Ee]}}},we.prototype.append=function(_e,Te){var Ee=this,Ie=ge.normalizeName(_e);Array.isArray(this.headersMap[Ie])||(this.headersMap[Ie]=[]),Array.isArray(Te)?Te.forEach(function(Pe){Ee.headersMap[Ie].push(ge.normalizeValue(Pe))}):this.headersMap[Ie].push(ge.normalizeValue(Te))},we.prototype.set=function(_e,Te){var Ee=ge.normalizeName(_e);if(Array.isArray(Te)){var Ie=[];Te.forEach(function(Pe){Ie.push(ge.normalizeValue(Pe))}),this.headersMap[Ee]=Ie}else this.headersMap[Ee]=[ge.normalizeValue(Te)]},we.prototype.has=function(_e,Te){var Ee=this.headersMap[ge.normalizeName(_e)];if(!Array.isArray(Ee))return!1;if(Te!==void 0){var Ie=ge.normalizeValue(Te);return Ee.indexOf(Ie)>=0}return!0},we.prototype.get=function(_e){var Te=this.headersMap[ge.normalizeName(_e)];return Te!==void 0?Te.concat():[]},we.prototype.forEach=function(_e){var Te=this;Object.getOwnPropertyNames(this.headersMap).forEach(function(Ee){_e(Ee,Te.headersMap[Ee])},this)},we.prototype.toHeaders=function(){if(typeof Headers<"u"){var _e=new Headers;return this.forEach(function(Te,Ee){Ee.forEach(function(Ie){_e.append(Te,Ie)})}),_e}throw new Error("Headers class is not defined")},we}();he.BrowserHeaders=ve},function(pe,he,be){Object.defineProperty(he,"__esModule",{value:!0});var ge=be(0);he.BrowserHeaders=ge.BrowserHeaders},function(pe,he,be){Object.defineProperty(he,"__esModule",{value:!0}),he.iterateHeaders=function(ge,ve){for(var we=ge[Symbol.iterator](),_e=we.next();!_e.done;)ve(_e.value[0]),_e=we.next()},he.iterateHeadersKeys=function(ge,ve){for(var we=ge.keys(),_e=we.next();!_e.done;)ve(_e.value),_e=we.next()}},function(pe,he,be){Object.defineProperty(he,"__esModule",{value:!0});var ge=be(2);he.normalizeName=function(ve){if(typeof ve!="string"&&(ve=String(ve)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(ve))throw new TypeError("Invalid character in header field name");return ve.toLowerCase()},he.normalizeValue=function(ve){return typeof ve!="string"&&(ve=String(ve)),ve},he.getHeaderValues=function(ve,we){var _e=ve;if(_e instanceof Headers&&_e.getAll)return _e.getAll(we);var Te=_e.get(we);return Te&&typeof Te=="string"?[Te]:Te},he.getHeaderKeys=function(ve){var we=ve,_e={},Te=[];return we.keys?ge.iterateHeadersKeys(we,function(Ee){_e[Ee]||(_e[Ee]=!0,Te.push(Ee))}):we.forEach?we.forEach(function(Ee,Ie){_e[Ie]||(_e[Ie]=!0,Te.push(Ie))}):ge.iterateHeaders(we,function(Ee){var Ie=Ee[0];_e[Ie]||(_e[Ie]=!0,Te.push(Ie))}),Te},he.splitHeaderValue=function(ve){var we=[];return ve.split(", ").forEach(function(_e){_e.split(",").forEach(function(Te){we.push(Te)})}),we}}]))},617:function(de,fe,pe){Object.defineProperty(fe,"__esModule",{value:!0}),fe.ChunkParser=fe.ChunkType=fe.encodeASCII=fe.decodeASCII=void 0;var he,be=pe(65);function ge(Pe){return(xe=Pe)===9||xe===10||xe===13||Pe>=32&&Pe<=126;var xe}function ve(Pe){for(var xe=0;xe!==Pe.length;++xe)if(!ge(Pe[xe]))throw new Error("Metadata is not valid (printable) ASCII");return String.fromCharCode.apply(String,Array.prototype.slice.call(Pe))}function we(Pe){return(128&Pe.getUint8(0))==128}function _e(Pe){return Pe.getUint32(1,!1)}function Te(Pe,xe,Ae){return Pe.byteLength-xe>=Ae}function Ee(Pe,xe,Ae){if(Pe.slice)return Pe.slice(xe,Ae);var $e=Pe.length;Ae!==void 0&&($e=Ae);for(var Se=new Uint8Array($e-xe),Re=0,Be=xe;Be<$e;Be++)Se[Re++]=Pe[Be];return Se}fe.decodeASCII=ve,fe.encodeASCII=function(Pe){for(var xe=new Uint8Array(Pe.length),Ae=0;Ae!==Pe.length;++Ae){var $e=Pe.charCodeAt(Ae);if(!ge($e))throw new Error("Metadata contains invalid ASCII");xe[Ae]=$e}return xe},function(Pe){Pe[Pe.MESSAGE=1]="MESSAGE",Pe[Pe.TRAILERS=2]="TRAILERS"}(he=fe.ChunkType||(fe.ChunkType={}));var Ie=function(){function Pe(){this.buffer=null,this.position=0}return Pe.prototype.parse=function(xe,Ae){if(xe.length===0&&Ae)return[];var $e,Se=[];if(this.buffer==null)this.buffer=xe,this.position=0;else if(this.position===this.buffer.byteLength)this.buffer=xe,this.position=0;else{var Re=this.buffer.byteLength-this.position,Be=new Uint8Array(Re+xe.byteLength),Ze=Ee(this.buffer,this.position);Be.set(Ze,0);var Fe=new Uint8Array(xe);Be.set(Fe,Re),this.buffer=Be,this.position=0}for(;;){if(!Te(this.buffer,this.position,5))return Se;var He=Ee(this.buffer,this.position,this.position+5),ze=new DataView(He.buffer,He.byteOffset,He.byteLength),je=_e(ze);if(!Te(this.buffer,this.position,5+je))return Se;var Ye=Ee(this.buffer,this.position+5,this.position+5+je);if(this.position+=5+je,we(ze))return Se.push({chunkType:he.TRAILERS,trailers:($e=Ye,new be.Metadata(ve($e)))}),Se;Se.push({chunkType:he.MESSAGE,data:Ye})}},Pe}();fe.ChunkParser=Ie},8:function(de,fe){var pe;Object.defineProperty(fe,"__esModule",{value:!0}),fe.httpStatusToCode=fe.Code=void 0,function(he){he[he.OK=0]="OK",he[he.Canceled=1]="Canceled",he[he.Unknown=2]="Unknown",he[he.InvalidArgument=3]="InvalidArgument",he[he.DeadlineExceeded=4]="DeadlineExceeded",he[he.NotFound=5]="NotFound",he[he.AlreadyExists=6]="AlreadyExists",he[he.PermissionDenied=7]="PermissionDenied",he[he.ResourceExhausted=8]="ResourceExhausted",he[he.FailedPrecondition=9]="FailedPrecondition",he[he.Aborted=10]="Aborted",he[he.OutOfRange=11]="OutOfRange",he[he.Unimplemented=12]="Unimplemented",he[he.Internal=13]="Internal",he[he.Unavailable=14]="Unavailable",he[he.DataLoss=15]="DataLoss",he[he.Unauthenticated=16]="Unauthenticated"}(pe=fe.Code||(fe.Code={})),fe.httpStatusToCode=function(he){switch(he){case 0:return pe.Internal;case 200:return pe.OK;case 400:return pe.InvalidArgument;case 401:return pe.Unauthenticated;case 403:return pe.PermissionDenied;case 404:return pe.NotFound;case 409:return pe.Aborted;case 412:return pe.FailedPrecondition;case 429:return pe.ResourceExhausted;case 499:return pe.Canceled;case 500:return pe.Unknown;case 501:return pe.Unimplemented;case 503:return pe.Unavailable;case 504:return pe.DeadlineExceeded;default:return pe.Unknown}}},934:function(de,fe,pe){Object.defineProperty(fe,"__esModule",{value:!0}),fe.client=void 0;var he=pe(65),be=pe(617),ge=pe(8),ve=pe(346),we=pe(57),_e=pe(882);fe.client=function(Ie,Pe){return new Te(Ie,Pe)};var Te=function(){function Ie(Pe,xe){this.started=!1,this.sentFirstMessage=!1,this.completed=!1,this.closed=!1,this.finishedSending=!1,this.onHeadersCallbacks=[],this.onMessageCallbacks=[],this.onEndCallbacks=[],this.parser=new be.ChunkParser,this.methodDefinition=Pe,this.props=xe,this.createTransport()}return Ie.prototype.createTransport=function(){var Pe=this.props.host+"/"+this.methodDefinition.service.serviceName+"/"+this.methodDefinition.methodName,xe={methodDefinition:this.methodDefinition,debug:this.props.debug||!1,url:Pe,onHeaders:this.onTransportHeaders.bind(this),onChunk:this.onTransportChunk.bind(this),onEnd:this.onTransportEnd.bind(this)};this.props.transport?this.transport=this.props.transport(xe):this.transport=we.makeDefaultTransport(xe)},Ie.prototype.onTransportHeaders=function(Pe,xe){if(this.props.debug&&ve.debug("onHeaders",Pe,xe),this.closed)this.props.debug&&ve.debug("grpc.onHeaders received after request was closed - ignoring");else if(xe!==0){this.responseHeaders=Pe,this.props.debug&&ve.debug("onHeaders.responseHeaders",JSON.stringify(this.responseHeaders,null,2));var Ae=Ee(Pe);this.props.debug&&ve.debug("onHeaders.gRPCStatus",Ae);var $e=Ae&&Ae>=0?Ae:ge.httpStatusToCode(xe);this.props.debug&&ve.debug("onHeaders.code",$e);var Se=Pe.get("grpc-message")||[];if(this.props.debug&&ve.debug("onHeaders.gRPCMessage",Se),this.rawOnHeaders(Pe),$e!==ge.Code.OK){var Re=this.decodeGRPCStatus(Se[0]);this.rawOnError($e,Re,Pe)}}},Ie.prototype.onTransportChunk=function(Pe){var xe=this;if(this.closed)this.props.debug&&ve.debug("grpc.onChunk received after request was closed - ignoring");else{var Ae=[];try{Ae=this.parser.parse(Pe)}catch($e){return this.props.debug&&ve.debug("onChunk.parsing error",$e,$e.message),void this.rawOnError(ge.Code.Internal,"parsing error: "+$e.message)}Ae.forEach(function($e){if($e.chunkType===be.ChunkType.MESSAGE){var Se=xe.methodDefinition.responseType.deserializeBinary($e.data);xe.rawOnMessage(Se)}else $e.chunkType===be.ChunkType.TRAILERS&&(xe.responseHeaders?(xe.responseTrailers=new he.Metadata($e.trailers),xe.props.debug&&ve.debug("onChunk.trailers",xe.responseTrailers)):(xe.responseHeaders=new he.Metadata($e.trailers),xe.rawOnHeaders(xe.responseHeaders)))})}},Ie.prototype.onTransportEnd=function(){if(this.props.debug&&ve.debug("grpc.onEnd"),this.closed)this.props.debug&&ve.debug("grpc.onEnd received after request was closed - ignoring");else if(this.responseTrailers!==void 0){var Pe=Ee(this.responseTrailers);if(Pe!==null){var xe=this.responseTrailers.get("grpc-message"),Ae=this.decodeGRPCStatus(xe[0]);this.rawOnEnd(Pe,Ae,this.responseTrailers)}else this.rawOnError(ge.Code.Internal,"Response closed without grpc-status (Trailers provided)")}else{if(this.responseHeaders===void 0)return void this.rawOnError(ge.Code.Unknown,"Response closed without headers");var $e=Ee(this.responseHeaders),Se=this.responseHeaders.get("grpc-message");if(this.props.debug&&ve.debug("grpc.headers only response ",$e,Se),$e===null)return void this.rawOnEnd(ge.Code.Unknown,"Response closed without grpc-status (Headers only)",this.responseHeaders);var Re=this.decodeGRPCStatus(Se[0]);this.rawOnEnd($e,Re,this.responseHeaders)}},Ie.prototype.decodeGRPCStatus=function(Pe){if(!Pe)return"";try{return decodeURIComponent(Pe)}catch{return Pe}},Ie.prototype.rawOnEnd=function(Pe,xe,Ae){var $e=this;this.props.debug&&ve.debug("rawOnEnd",Pe,xe,Ae),this.completed||(this.completed=!0,this.onEndCallbacks.forEach(function(Se){if(!$e.closed)try{Se(Pe,xe,Ae)}catch(Re){setTimeout(function(){throw Re},0)}}))},Ie.prototype.rawOnHeaders=function(Pe){this.props.debug&&ve.debug("rawOnHeaders",Pe),this.completed||this.onHeadersCallbacks.forEach(function(xe){try{xe(Pe)}catch(Ae){setTimeout(function(){throw Ae},0)}})},Ie.prototype.rawOnError=function(Pe,xe,Ae){var $e=this;Ae===void 0&&(Ae=new he.Metadata),this.props.debug&&ve.debug("rawOnError",Pe,xe),this.completed||(this.completed=!0,this.onEndCallbacks.forEach(function(Se){if(!$e.closed)try{Se(Pe,xe,Ae)}catch(Re){setTimeout(function(){throw Re},0)}}))},Ie.prototype.rawOnMessage=function(Pe){var xe=this;this.props.debug&&ve.debug("rawOnMessage",Pe.toObject()),this.completed||this.closed||this.onMessageCallbacks.forEach(function(Ae){if(!xe.closed)try{Ae(Pe)}catch($e){setTimeout(function(){throw $e},0)}})},Ie.prototype.onHeaders=function(Pe){this.onHeadersCallbacks.push(Pe)},Ie.prototype.onMessage=function(Pe){this.onMessageCallbacks.push(Pe)},Ie.prototype.onEnd=function(Pe){this.onEndCallbacks.push(Pe)},Ie.prototype.start=function(Pe){if(this.started)throw new Error("Client already started - cannot .start()");this.started=!0;var xe=new he.Metadata(Pe||{});xe.set("content-type","application/grpc-web+proto"),xe.set("x-grpc-web","1"),this.transport.start(xe)},Ie.prototype.send=function(Pe){if(!this.started)throw new Error("Client not started - .start() must be called before .send()");if(this.closed)throw new Error("Client already closed - cannot .send()");if(this.finishedSending)throw new Error("Client already finished sending - cannot .send()");if(!this.methodDefinition.requestStream&&this.sentFirstMessage)throw new Error("Message already sent for non-client-streaming method - cannot .send()");this.sentFirstMessage=!0;var xe=_e.frameRequest(Pe);this.transport.sendMessage(xe)},Ie.prototype.finishSend=function(){if(!this.started)throw new Error("Client not started - .finishSend() must be called before .close()");if(this.closed)throw new Error("Client already closed - cannot .send()");if(this.finishedSending)throw new Error("Client already finished sending - cannot .finishSend()");this.finishedSending=!0,this.transport.finishSend()},Ie.prototype.close=function(){if(!this.started)throw new Error("Client not started - .start() must be called before .close()");if(this.closed)throw new Error("Client already closed - cannot .close()");this.closed=!0,this.props.debug&&ve.debug("request.abort aborting request"),this.transport.cancel()},Ie}();function Ee(Ie){var Pe=Ie.get("grpc-status")||[];if(Pe.length>0)try{var xe=Pe[0];return parseInt(xe,10)}catch{return null}return null}},346:function(de,fe){Object.defineProperty(fe,"__esModule",{value:!0}),fe.debug=void 0,fe.debug=function(){for(var pe=[],he=0;he<arguments.length;he++)pe[he]=arguments[he];console.debug?console.debug.apply(null,pe):console.log.apply(null,pe)}},607:function(de,fe,pe){Object.defineProperty(fe,"__esModule",{value:!0}),fe.grpc=void 0;var he,be=pe(418),ge=pe(57),ve=pe(229),we=pe(540),_e=pe(210),Te=pe(859),Ee=pe(8),Ie=pe(938),Pe=pe(35),xe=pe(934);(he=fe.grpc||(fe.grpc={})).setDefaultTransport=ge.setDefaultTransportFactory,he.CrossBrowserHttpTransport=Te.CrossBrowserHttpTransport,he.FetchReadableStreamTransport=ve.FetchReadableStreamTransport,he.XhrTransport=_e.XhrTransport,he.WebsocketTransport=we.WebsocketTransport,he.Code=Ee.Code,he.Metadata=be.BrowserHeaders,he.client=function(Ae,$e){return xe.client(Ae,$e)},he.invoke=Ie.invoke,he.unary=Pe.unary},938:function(de,fe,pe){Object.defineProperty(fe,"__esModule",{value:!0}),fe.invoke=void 0;var he=pe(934);fe.invoke=function(be,ge){if(be.requestStream)throw new Error(".invoke cannot be used with client-streaming methods. Use .client instead.");var ve=he.client(be,{host:ge.host,transport:ge.transport,debug:ge.debug});return ge.onHeaders&&ve.onHeaders(ge.onHeaders),ge.onMessage&&ve.onMessage(ge.onMessage),ge.onEnd&&ve.onEnd(ge.onEnd),ve.start(ge.metadata),ve.send(ge.request),ve.finishSend(),{close:function(){ve.close()}}}},65:function(de,fe,pe){Object.defineProperty(fe,"__esModule",{value:!0}),fe.Metadata=void 0;var he=pe(418);Object.defineProperty(fe,"Metadata",{enumerable:!0,get:function(){return he.BrowserHeaders}})},57:function(de,fe,pe){Object.defineProperty(fe,"__esModule",{value:!0}),fe.makeDefaultTransport=fe.setDefaultTransportFactory=void 0;var he=pe(859),be=function(ge){return he.CrossBrowserHttpTransport({withCredentials:!1})(ge)};fe.setDefaultTransportFactory=function(ge){be=ge},fe.makeDefaultTransport=function(ge){return be(ge)}},229:function(de,fe,pe){var he=this&&this.__assign||function(){return(he=Object.assign||function(we){for(var _e,Te=1,Ee=arguments.length;Te<Ee;Te++)for(var Ie in _e=arguments[Te])Object.prototype.hasOwnProperty.call(_e,Ie)&&(we[Ie]=_e[Ie]);return we}).apply(this,arguments)};Object.defineProperty(fe,"__esModule",{value:!0}),fe.detectFetchSupport=fe.FetchReadableStreamTransport=void 0;var be=pe(65),ge=pe(346);fe.FetchReadableStreamTransport=function(we){return function(_e){return function(Te,Ee){return Te.debug&&ge.debug("fetchRequest",Te),new ve(Te,Ee)}(_e,we)}};var ve=function(){function we(_e,Te){this.cancelled=!1,this.controller=self.AbortController&&new AbortController,this.options=_e,this.init=Te}return we.prototype.pump=function(_e,Te){var Ee=this;if(this.reader=_e,this.cancelled)return this.options.debug&&ge.debug("Fetch.pump.cancel at first pump"),void this.reader.cancel().catch(function(Ie){Ee.options.debug&&ge.debug("Fetch.pump.reader.cancel exception",Ie)});this.reader.read().then(function(Ie){if(Ie.done)return Ee.options.onEnd(),Te;Ee.options.onChunk(Ie.value),Ee.pump(Ee.reader,Te)}).catch(function(Ie){Ee.cancelled?Ee.options.debug&&ge.debug("Fetch.catch - request cancelled"):(Ee.cancelled=!0,Ee.options.debug&&ge.debug("Fetch.catch",Ie.message),Ee.options.onEnd(Ie))})},we.prototype.send=function(_e){var Te=this;fetch(this.options.url,he(he({},this.init),{headers:this.metadata.toHeaders(),method:"POST",body:_e,signal:this.controller&&this.controller.signal})).then(function(Ee){if(Te.options.debug&&ge.debug("Fetch.response",Ee),Te.options.onHeaders(new be.Metadata(Ee.headers),Ee.status),!Ee.body)return Ee;Te.pump(Ee.body.getReader(),Ee)}).catch(function(Ee){Te.cancelled?Te.options.debug&&ge.debug("Fetch.catch - request cancelled"):(Te.cancelled=!0,Te.options.debug&&ge.debug("Fetch.catch",Ee.message),Te.options.onEnd(Ee))})},we.prototype.sendMessage=function(_e){this.send(_e)},we.prototype.finishSend=function(){},we.prototype.start=function(_e){this.metadata=_e},we.prototype.cancel=function(){var _e=this;this.cancelled?this.options.debug&&ge.debug("Fetch.cancel already cancelled"):(this.cancelled=!0,this.controller?(this.options.debug&&ge.debug("Fetch.cancel.controller.abort"),this.controller.abort()):this.options.debug&&ge.debug("Fetch.cancel.missing abort controller"),this.reader?(this.options.debug&&ge.debug("Fetch.cancel.reader.cancel"),this.reader.cancel().catch(function(Te){_e.options.debug&&ge.debug("Fetch.cancel.reader.cancel exception",Te)})):this.options.debug&&ge.debug("Fetch.cancel before reader"))},we}();fe.detectFetchSupport=function(){return typeof Response<"u"&&Response.prototype.hasOwnProperty("body")&&typeof Headers=="function"}},859:function(de,fe,pe){Object.defineProperty(fe,"__esModule",{value:!0}),fe.CrossBrowserHttpTransport=void 0;var he=pe(229),be=pe(210);fe.CrossBrowserHttpTransport=function(ge){if(he.detectFetchSupport()){var ve={credentials:ge.withCredentials?"include":"same-origin"};return he.FetchReadableStreamTransport(ve)}return be.XhrTransport({withCredentials:ge.withCredentials})}},210:function(de,fe,pe){var he,be=this&&this.__extends||(he=function(Pe,xe){return(he=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ae,$e){Ae.__proto__=$e}||function(Ae,$e){for(var Se in $e)Object.prototype.hasOwnProperty.call($e,Se)&&(Ae[Se]=$e[Se])})(Pe,xe)},function(Pe,xe){function Ae(){this.constructor=Pe}he(Pe,xe),Pe.prototype=xe===null?Object.create(xe):(Ae.prototype=xe.prototype,new Ae)});Object.defineProperty(fe,"__esModule",{value:!0}),fe.stringToArrayBuffer=fe.MozChunkedArrayBufferXHR=fe.XHR=fe.XhrTransport=void 0;var ge=pe(65),ve=pe(346),we=pe(849);fe.XhrTransport=function(Pe){return function(xe){if(we.detectMozXHRSupport())return new Te(xe,Pe);if(we.detectXHROverrideMimeTypeSupport())return new _e(xe,Pe);throw new Error("This environment's XHR implementation cannot support binary transfer.")}};var _e=function(){function Pe(xe,Ae){this.options=xe,this.init=Ae}return Pe.prototype.onProgressEvent=function(){this.options.debug&&ve.debug("XHR.onProgressEvent.length: ",this.xhr.response.length);var xe=this.xhr.response.substr(this.index);this.index=this.xhr.response.length;var Ae=Ie(xe);this.options.onChunk(Ae)},Pe.prototype.onLoadEvent=function(){this.options.debug&&ve.debug("XHR.onLoadEvent"),this.options.onEnd()},Pe.prototype.onStateChange=function(){this.options.debug&&ve.debug("XHR.onStateChange",this.xhr.readyState),this.xhr.readyState===XMLHttpRequest.HEADERS_RECEIVED&&this.options.onHeaders(new ge.Metadata(this.xhr.getAllResponseHeaders()),this.xhr.status)},Pe.prototype.sendMessage=function(xe){this.xhr.send(xe)},Pe.prototype.finishSend=function(){},Pe.prototype.start=function(xe){var Ae=this;this.metadata=xe;var $e=new XMLHttpRequest;this.xhr=$e,$e.open("POST",this.options.url),this.configureXhr(),this.metadata.forEach(function(Se,Re){$e.setRequestHeader(Se,Re.join(", "))}),$e.withCredentials=!!this.init.withCredentials,$e.addEventListener("readystatechange",this.onStateChange.bind(this)),$e.addEventListener("progress",this.onProgressEvent.bind(this)),$e.addEventListener("loadend",this.onLoadEvent.bind(this)),$e.addEventListener("error",function(Se){Ae.options.debug&&ve.debug("XHR.error",Se),Ae.options.onEnd(Se.error)})},Pe.prototype.configureXhr=function(){this.xhr.responseType="text",this.xhr.overrideMimeType("text/plain; charset=x-user-defined")},Pe.prototype.cancel=function(){this.options.debug&&ve.debug("XHR.abort"),this.xhr.abort()},Pe}();fe.XHR=_e;var Te=function(Pe){function xe(){return Pe!==null&&Pe.apply(this,arguments)||this}return be(xe,Pe),xe.prototype.configureXhr=function(){this.options.debug&&ve.debug("MozXHR.configureXhr: setting responseType to 'moz-chunked-arraybuffer'"),this.xhr.responseType="moz-chunked-arraybuffer"},xe.prototype.onProgressEvent=function(){var Ae=this.xhr.response;this.options.debug&&ve.debug("MozXHR.onProgressEvent: ",new Uint8Array(Ae)),this.options.onChunk(new Uint8Array(Ae))},xe}(_e);function Ee(Pe,xe){var Ae=Pe.charCodeAt(xe);if(Ae>=55296&&Ae<=56319){var $e=Pe.charCodeAt(xe+1);$e>=56320&&$e<=57343&&(Ae=65536+(Ae-55296<<10)+($e-56320))}return Ae}function Ie(Pe){for(var xe=new Uint8Array(Pe.length),Ae=0,$e=0;$e<Pe.length;$e++){var Se=String.prototype.codePointAt?Pe.codePointAt($e):Ee(Pe,$e);xe[Ae++]=255&Se}return xe}fe.MozChunkedArrayBufferXHR=Te,fe.stringToArrayBuffer=Ie},849:function(de,fe){var pe;function he(){if(pe!==void 0)return pe;if(XMLHttpRequest){pe=new XMLHttpRequest;try{pe.open("GET","https://localhost")}catch{}}return pe}function be(ge){var ve=he();if(!ve)return!1;try{return ve.responseType=ge,ve.responseType===ge}catch{}return!1}Object.defineProperty(fe,"__esModule",{value:!0}),fe.detectXHROverrideMimeTypeSupport=fe.detectMozXHRSupport=fe.xhrSupportsResponseType=void 0,fe.xhrSupportsResponseType=be,fe.detectMozXHRSupport=function(){return typeof XMLHttpRequest<"u"&&be("moz-chunked-arraybuffer")},fe.detectXHROverrideMimeTypeSupport=function(){return typeof XMLHttpRequest<"u"&&XMLHttpRequest.prototype.hasOwnProperty("overrideMimeType")}},540:function(de,fe,pe){Object.defineProperty(fe,"__esModule",{value:!0}),fe.WebsocketTransport=void 0;var he,be=pe(346),ge=pe(617);(function(we){we[we.FINISH_SEND=1]="FINISH_SEND"})(he||(he={}));var ve=new Uint8Array([1]);fe.WebsocketTransport=function(){return function(we){return function(_e){_e.debug&&be.debug("websocketRequest",_e);var Te,Ee=function(xe){if(xe.substr(0,8)==="https://")return"wss://"+xe.substr(8);if(xe.substr(0,7)==="http://")return"ws://"+xe.substr(7);throw new Error("Websocket transport constructed with non-https:// or http:// host.")}(_e.url),Ie=[];function Pe(xe){if(xe===he.FINISH_SEND)Te.send(ve);else{var Ae=xe,$e=new Int8Array(Ae.byteLength+1);$e.set(new Uint8Array([0])),$e.set(Ae,1),Te.send($e)}}return{sendMessage:function(xe){Te&&Te.readyState!==Te.CONNECTING?Pe(xe):Ie.push(xe)},finishSend:function(){Te&&Te.readyState!==Te.CONNECTING?Pe(he.FINISH_SEND):Ie.push(he.FINISH_SEND)},start:function(xe){(Te=new WebSocket(Ee,["grpc-websockets"])).binaryType="arraybuffer",Te.onopen=function(){var Ae;_e.debug&&be.debug("websocketRequest.onopen"),Te.send((Ae="",xe.forEach(function($e,Se){Ae+=$e+": "+Se.join(", ")+`\r
`}),ge.encodeASCII(Ae))),Ie.forEach(function($e){Pe($e)})},Te.onclose=function(Ae){_e.debug&&be.debug("websocketRequest.onclose",Ae),_e.onEnd()},Te.onerror=function(Ae){_e.debug&&be.debug("websocketRequest.onerror",Ae)},Te.onmessage=function(Ae){_e.onChunk(new Uint8Array(Ae.data))}},cancel:function(){_e.debug&&be.debug("websocket.abort"),Te.close()}}}(we)}}},35:function(de,fe,pe){Object.defineProperty(fe,"__esModule",{value:!0}),fe.unary=void 0;var he=pe(65),be=pe(934);fe.unary=function(ge,ve){if(ge.responseStream)throw new Error(".unary cannot be used with server-streaming methods. Use .invoke or .client instead.");if(ge.requestStream)throw new Error(".unary cannot be used with client-streaming methods. Use .client instead.");var we=null,_e=null,Te=be.client(ge,{host:ve.host,transport:ve.transport,debug:ve.debug});return Te.onHeaders(function(Ee){we=Ee}),Te.onMessage(function(Ee){_e=Ee}),Te.onEnd(function(Ee,Ie,Pe){ve.onEnd({status:Ee,statusMessage:Ie,headers:we||new he.Metadata,message:_e,trailers:Pe})}),Te.start(ve.metadata),Te.send(ve.request),Te.finishSend(),{close:function(){Te.close()}}}},882:function(de,fe){Object.defineProperty(fe,"__esModule",{value:!0}),fe.frameRequest=void 0,fe.frameRequest=function(pe){var he=pe.serializeBinary(),be=new ArrayBuffer(he.byteLength+5);return new DataView(be,1,4).setUint32(0,he.length,!1),new Uint8Array(be,5).set(he),new Uint8Array(be)}}},ae={},function de(fe){if(ae[fe])return ae[fe].exports;var pe=ae[fe]={exports:{}};return oe[fe].call(pe.exports,pe,pe.exports,de),pe.exports}(607);var oe,ae})})(grpcWebClient_umd);class AbortError extends Error{constructor(){super("The operation has been aborted"),this.message="The operation has been aborted",this.name="AbortError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}}function isAbortError(ee){return typeof ee=="object"&&ee!==null&&ee.name==="AbortError"}function throwIfAborted(ee){if(ee.aborted)throw new AbortError}function rethrowAbortError(ee){if(isAbortError(ee))throw ee}function catchAbortError(ee){if(!isAbortError(ee))throw ee}function execute(ee,ne){return new Promise((oe,ae)=>{if(ee.aborted){ae(new AbortError);return}let de,fe=!1;function pe(){fe||(fe=!0,de?.())}const he=ne(be=>{oe(be),pe()},be=>{ae(be),pe()});if(!fe){const be=()=>{const ge=he();ge==null?ae(new AbortError):ge.then(()=>{ae(new AbortError)},ve=>{ae(ve)}),pe()};ee.addEventListener("abort",be),de=()=>{ee.removeEventListener("abort",be)}}})}function abortable(ee,ne){if(ee.aborted){const oe=()=>{};ne.then(oe,oe)}return execute(ee,(oe,ae)=>(ne.then(oe,ae),()=>{}))}function delay(ee,ne){return execute(ee,oe=>{const ae=typeof ne=="number"?ne:ne.getTime()-Date.now(),de=setTimeout(oe,ae);return()=>{clearTimeout(de)}})}function forever(ee){return execute(ee,()=>()=>{})}function waitForEvent(ee,ne,oe,ae){return execute(ee,de=>{let fe,pe=!1;return fe=listen(ne,oe,(...be)=>{de(be.length>1?be:be[0]),pe=!0,fe?.()},ae),pe&&fe(),()=>{pe=!0,fe?.()}})}function listen(ee,ne,oe,ae){if(isEventTarget(ee))return ee.addEventListener(ne,oe,ae),()=>ee.removeEventListener(ne,oe,ae);if(isJQueryStyleEventEmitter(ee))return ee.on(ne,oe),()=>ee.off(ne,oe);if(isNodeStyleEventEmitter(ee))return ee.addListener(ne,oe),()=>ee.removeListener(ne,oe);throw new Error("Invalid event target")}function isNodeStyleEventEmitter(ee){return isFunction(ee.addListener)&&isFunction(ee.removeListener)}function isJQueryStyleEventEmitter(ee){return isFunction(ee.on)&&isFunction(ee.off)}function isEventTarget(ee){return isFunction(ee.addEventListener)&&isFunction(ee.removeEventListener)}const isFunction=ee=>typeof ee=="function";function all(ee,ne){return new Promise((oe,ae)=>{if(ee.aborted){ae(new AbortError);return}const de=new AbortController,fe=ne(de.signal);if(fe.length===0){oe([]);return}const pe=()=>{de.abort()};ee.addEventListener("abort",pe);let he;const be=new Array(fe.length);let ge=0;function ve(){ge+=1,ge===fe.length&&(ee.removeEventListener("abort",pe),he!=null?ae(he.reason):oe(be))}for(const[we,_e]of fe.entries())_e.then(Te=>{be[we]=Te,ve()},Te=>{de.abort(),(he==null||!isAbortError(Te)&&isAbortError(he.reason))&&(he={reason:Te}),ve()})})}function race(ee,ne){return new Promise((oe,ae)=>{if(ee.aborted){ae(new AbortError);return}const de=new AbortController,fe=ne(de.signal),pe=()=>{de.abort()};ee.addEventListener("abort",pe);let he=0;function be(ve){de.abort(),he+=1,he===fe.length&&(ee.removeEventListener("abort",pe),ve.status==="fulfilled"?oe(ve.value):ae(ve.reason))}let ge;for(const ve of fe)ve.then(we=>{ge==null&&(ge={status:"fulfilled",value:we}),be(ge)},we=>{(ge==null||!isAbortError(we)&&(ge.status==="fulfilled"||isAbortError(ge.reason)))&&(ge={status:"rejected",reason:we}),be(ge)})})}async function retry(ee,ne,oe={}){const{baseMs:ae=1e3,maxDelayMs:de=3e4,onError:fe,maxAttempts:pe=1/0}=oe;let he=0;const be=()=>{he=-1};for(;;)try{return await ne(ee,he,be)}catch(ge){if(rethrowAbortError(ge),he>=pe)throw ge;let ve;if(he===-1)ve=0;else{const we=Math.min(de,Math.pow(2,he)*ae);ve=Math.round(we*(1+Math.random())/2)}fe&&fe(ge,he,ve),ve!==0&&await delay(ee,ve),he+=1}}function spawn(ee,ne){if(ee.aborted)return Promise.reject(new AbortError);const oe=[],ae=new AbortController,de=ae.signal,fe=()=>{ae.abort()};ee.addEventListener("abort",fe);const pe=()=>{ee.removeEventListener("abort",fe)},he=new Set,be=()=>{for(const we of he)we.abort()};de.addEventListener("abort",be);const ge=()=>{de.removeEventListener("abort",be)};let ve=new Promise((we,_e)=>{let Te,Ee;Ie(Pe=>ne(Pe,{defer(xe){oe.push(xe)},fork:Ie})).join().then(Pe=>{ae.abort(),Te={value:Pe}},Pe=>{ae.abort(),(!isAbortError(Pe)||Ee==null)&&(Ee={error:Pe})});function Ie(Pe){if(de.aborted)return{abort(){},async join(){throw new AbortError}};const xe=new AbortController,Ae=xe.signal,$e=Pe(Ae),Se={abort(){xe.abort()},join:()=>$e};return he.add(Se),$e.catch(catchAbortError).catch(Re=>{Ee={error:Re},ae.abort()}).finally(()=>{he.delete(Se),he.size===0&&(Ee!=null?_e(Ee.error):we(Te.value))}),Se}});return ve=ve.finally(()=>{pe(),ge();let we=Promise.resolve();for(let _e=oe.length-1;_e>=0;_e--)we=we.finally(oe[_e]);return we}),ve}function run(ee){const ne=new AbortController,oe=ee(ne.signal).catch(catchAbortError);return()=>(ne.abort(),oe)}function proactiveRetry(ee,ne,oe={}){const{baseMs:ae=1e3,onError:de,maxAttempts:fe=1/0}=oe;return execute(ee,(pe,he)=>{const be=new AbortController;let ge=!1;const ve=new Map;function we(Ee){be.abort(),ve.clear(),pe(Ee)}function _e(Ee,Ie){if(ve.delete(Ie),ge&&ve.size===0){he(Ee);return}if(!isAbortError(Ee)&&de)try{de(Ee,Ie)}catch(Pe){be.abort(),ve.clear(),he(Pe)}}async function Te(Ee){for(let Ie=0;;Ie++){const Pe=ne(Ee,Ie);if(ve.set(Ie,Pe),Pe.then(we,$e=>_e($e,Ie)),Ie+1>=fe)break;const xe=Math.pow(2,Ie)*ae,Ae=Math.round(xe*(1+Math.random())/2);await delay(Ee,Ae)}ge=!0}return Te(be.signal).catch(catchAbortError),()=>{be.abort()}})}const es=Object.freeze(Object.defineProperty({__proto__:null,AbortError,abortable,all,catchAbortError,delay,execute,forever,isAbortError,proactiveRetry,race,rethrowAbortError,retry,run,spawn,throwIfAborted,waitForEvent},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(es);var AsyncSink$1={};Object.defineProperty(AsyncSink$1,"__esModule",{value:!0});AsyncSink$1.AsyncSink=void 0;const ARRAY_VALUE="value",ARRAY_ERROR="error";class AsyncSink{constructor(){this._ended=!1,this._values=[],this._resolvers=[]}[Symbol.asyncIterator](){return this}write(ne){this._push({type:ARRAY_VALUE,value:ne})}error(ne){this._push({type:ARRAY_ERROR,error:ne})}_push(ne){if(this._ended)throw new Error("AsyncSink already ended");if(this._resolvers.length>0){const{resolve:oe,reject:ae}=this._resolvers.shift();ne.type===ARRAY_ERROR?ae(ne.error):oe({done:!1,value:ne.value})}else this._values.push(ne)}next(){if(this._values.length>0){const{type:ne,value:oe,error:ae}=this._values.shift();return ne===ARRAY_ERROR?Promise.reject(ae):Promise.resolve({done:!1,value:oe})}return this._ended?Promise.resolve({done:!0}):new Promise((ne,oe)=>{this._resolvers.push({resolve:ne,reject:oe})})}end(){for(;this._resolvers.length>0;)this._resolvers.shift().resolve({done:!0});this._ended=!0}}AsyncSink$1.AsyncSink=AsyncSink;var isAsyncIterable$1={};Object.defineProperty(isAsyncIterable$1,"__esModule",{value:!0});isAsyncIterable$1.isAsyncIterable=void 0;function isAsyncIterable(ee){return ee!=null&&Symbol.asyncIterator in ee}isAsyncIterable$1.isAsyncIterable=isAsyncIterable;var convertMetadata={},base64Exports={},base64={get exports(){return base64Exports},set exports(ee){base64Exports=ee}};(function(ee,ne){(function(oe,ae){ee.exports=ae()})(typeof self<"u"?self:typeof window<"u"?window:commonjsGlobal,function(){var oe="3.7.5",ae=oe,de=typeof atob=="function",fe=typeof btoa=="function",pe=typeof Buffer=="function",he=typeof TextDecoder=="function"?new TextDecoder:void 0,be=typeof TextEncoder=="function"?new TextEncoder:void 0,ge="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",ve=Array.prototype.slice.call(ge),we=function(Ne){var De={};return Ne.forEach(function(We,et){return De[We]=et}),De}(ve),_e=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Te=String.fromCharCode.bind(String),Ee=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):function(Ne){return new Uint8Array(Array.prototype.slice.call(Ne,0))},Ie=function(Ne){return Ne.replace(/=/g,"").replace(/[+\/]/g,function(De){return De=="+"?"-":"_"})},Pe=function(Ne){return Ne.replace(/[^A-Za-z0-9\+\/]/g,"")},xe=function(Ne){for(var De,We,et,lt,Je="",dt=Ne.length%3,pt=0;pt<Ne.length;){if((We=Ne.charCodeAt(pt++))>255||(et=Ne.charCodeAt(pt++))>255||(lt=Ne.charCodeAt(pt++))>255)throw new TypeError("invalid character found");De=We<<16|et<<8|lt,Je+=ve[De>>18&63]+ve[De>>12&63]+ve[De>>6&63]+ve[De&63]}return dt?Je.slice(0,dt-3)+"===".substring(dt):Je},Ae=fe?function(Ne){return btoa(Ne)}:pe?function(Ne){return Buffer.from(Ne,"binary").toString("base64")}:xe,$e=pe?function(Ne){return Buffer.from(Ne).toString("base64")}:function(Ne){for(var De=4096,We=[],et=0,lt=Ne.length;et<lt;et+=De)We.push(Te.apply(null,Ne.subarray(et,et+De)));return Ae(We.join(""))},Se=function(Ne,De){return De===void 0&&(De=!1),De?Ie($e(Ne)):$e(Ne)},Re=function(Ne){if(Ne.length<2){var De=Ne.charCodeAt(0);return De<128?Ne:De<2048?Te(192|De>>>6)+Te(128|De&63):Te(224|De>>>12&15)+Te(128|De>>>6&63)+Te(128|De&63)}else{var De=65536+(Ne.charCodeAt(0)-55296)*1024+(Ne.charCodeAt(1)-56320);return Te(240|De>>>18&7)+Te(128|De>>>12&63)+Te(128|De>>>6&63)+Te(128|De&63)}},Be=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,Ze=function(Ne){return Ne.replace(Be,Re)},Fe=pe?function(Ne){return Buffer.from(Ne,"utf8").toString("base64")}:be?function(Ne){return $e(be.encode(Ne))}:function(Ne){return Ae(Ze(Ne))},He=function(Ne,De){return De===void 0&&(De=!1),De?Ie(Fe(Ne)):Fe(Ne)},ze=function(Ne){return He(Ne,!0)},je=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,Ye=function(Ne){switch(Ne.length){case 4:var De=(7&Ne.charCodeAt(0))<<18|(63&Ne.charCodeAt(1))<<12|(63&Ne.charCodeAt(2))<<6|63&Ne.charCodeAt(3),We=De-65536;return Te((We>>>10)+55296)+Te((We&1023)+56320);case 3:return Te((15&Ne.charCodeAt(0))<<12|(63&Ne.charCodeAt(1))<<6|63&Ne.charCodeAt(2));default:return Te((31&Ne.charCodeAt(0))<<6|63&Ne.charCodeAt(1))}},Qe=function(Ne){return Ne.replace(je,Ye)},tt=function(Ne){if(Ne=Ne.replace(/\s+/g,""),!_e.test(Ne))throw new TypeError("malformed base64.");Ne+="==".slice(2-(Ne.length&3));for(var De,We="",et,lt,Je=0;Je<Ne.length;)De=we[Ne.charAt(Je++)]<<18|we[Ne.charAt(Je++)]<<12|(et=we[Ne.charAt(Je++)])<<6|(lt=we[Ne.charAt(Je++)]),We+=et===64?Te(De>>16&255):lt===64?Te(De>>16&255,De>>8&255):Te(De>>16&255,De>>8&255,De&255);return We},Me=de?function(Ne){return atob(Pe(Ne))}:pe?function(Ne){return Buffer.from(Ne,"base64").toString("binary")}:tt,Le=pe?function(Ne){return Ee(Buffer.from(Ne,"base64"))}:function(Ne){return Ee(Me(Ne).split("").map(function(De){return De.charCodeAt(0)}))},qe=function(Ne){return Le(Ve(Ne))},Ge=pe?function(Ne){return Buffer.from(Ne,"base64").toString("utf8")}:he?function(Ne){return he.decode(Le(Ne))}:function(Ne){return Qe(Me(Ne))},Ve=function(Ne){return Pe(Ne.replace(/[-_]/g,function(De){return De=="-"?"+":"/"}))},Ke=function(Ne){return Ge(Ve(Ne))},it=function(Ne){if(typeof Ne!="string")return!1;var De=Ne.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(De)||!/[^\s0-9a-zA-Z\-_]/.test(De)},rt=function(Ne){return{value:Ne,enumerable:!1,writable:!0,configurable:!0}},ot=function(){var Ne=function(De,We){return Object.defineProperty(String.prototype,De,rt(We))};Ne("fromBase64",function(){return Ke(this)}),Ne("toBase64",function(De){return He(this,De)}),Ne("toBase64URI",function(){return He(this,!0)}),Ne("toBase64URL",function(){return He(this,!0)}),Ne("toUint8Array",function(){return qe(this)})},at=function(){var Ne=function(De,We){return Object.defineProperty(Uint8Array.prototype,De,rt(We))};Ne("toBase64",function(De){return Se(this,De)}),Ne("toBase64URI",function(){return Se(this,!0)}),Ne("toBase64URL",function(){return Se(this,!0)})},ht=function(){ot(),at()},ct={version:oe,VERSION:ae,atob:Me,atobPolyfill:tt,btoa:Ae,btoaPolyfill:xe,fromBase64:Ke,toBase64:He,encode:He,encodeURI:ze,encodeURL:ze,utob:Ze,btou:Qe,decode:Ke,isValid:it,fromUint8Array:Se,toUint8Array:qe,extendString:ot,extendUint8Array:at,extendBuiltins:ht};return ct.Base64={},Object.keys(ct).forEach(function(Ne){return ct.Base64[Ne]=ct[Ne]}),ct})})(base64);Object.defineProperty(convertMetadata,"__esModule",{value:!0});convertMetadata.convertMetadataFromGrpcWeb=convertMetadata.convertMetadataToGrpcWeb=void 0;const grpc_web_1$4=grpcWebClient_umdExports,nice_grpc_common_1$5=lib,js_base64_1=base64Exports;function convertMetadataToGrpcWeb(ee){const ne=new grpc_web_1$4.grpc.Metadata;for(const[oe,ae]of ee)for(const de of ae)ne.append(oe,typeof de=="string"?de:js_base64_1.Base64.fromUint8Array(de));return ne}convertMetadata.convertMetadataToGrpcWeb=convertMetadataToGrpcWeb;function convertMetadataFromGrpcWeb(ee){const ne=(0,nice_grpc_common_1$5.Metadata)();for(const[oe,ae]of Object.entries(ee.headersMap))if(oe.endsWith("-bin"))for(const de of ae)for(const fe of de.split(/,\s?/))ne.append(oe,js_base64_1.Base64.toUint8Array(fe));else ne.set(oe,ae);return ne}convertMetadata.convertMetadataFromGrpcWeb=convertMetadataFromGrpcWeb;Object.defineProperty(createBidiStreamingMethod$1,"__esModule",{value:!0});createBidiStreamingMethod$1.createBidiStreamingMethod=void 0;const nice_grpc_common_1$4=lib,grpc_web_1$3=grpcWebClient_umdExports,abort_controller_x_1$3=require$$2,AsyncSink_1$1=AsyncSink$1,service_definitions_1$4=serviceDefinitions,isAsyncIterable_1$3=isAsyncIterable$1,convertMetadata_1$3=convertMetadata;function createBidiStreamingMethod(ee,ne,oe,ae){const de=(0,service_definitions_1$4.toGrpcWebMethodDefinition)(ee),fe={path:ee.path,requestStream:ee.requestStream,responseStream:ee.responseStream,options:ee.options};async function*pe(be,ge){if(!(0,isAsyncIterable_1$3.isAsyncIterable)(be))throw new Error("A middleware passed invalid request to next(): expected a single message for bidirectional streaming method");const{metadata:ve=(0,nice_grpc_common_1$4.Metadata)(),signal:we=new AbortController().signal,onHeader:_e,onTrailer:Te}=ge,Ee=new AbortController,Ie=new AsyncSink_1$1.AsyncSink,Pe=grpc_web_1$3.grpc.client(de,{host:ne.address,transport:ne.transport});Pe.onHeaders($e=>{_e?.((0,convertMetadata_1$3.convertMetadataFromGrpcWeb)($e))}),Pe.onMessage($e=>{Ie.write($e)}),Pe.onEnd(($e,Se,Re)=>{Te?.((0,convertMetadata_1$3.convertMetadataFromGrpcWeb)(Re)),$e===grpc_web_1$3.grpc.Code.OK?Ie.end():Ie.error(new nice_grpc_common_1$4.ClientError(ee.path,+$e,Se))}),Pe.start((0,convertMetadata_1$3.convertMetadataToGrpcWeb)(ve));let xe;pipeRequest$1(Ee.signal,be,Pe,ee).then(()=>{Pe.finishSend()},$e=>{(0,abort_controller_x_1$3.isAbortError)($e)||(xe=$e,Pe.close(),Ie.end())});const Ae=()=>{Ie.error(new abort_controller_x_1$3.AbortError),Ee.abort(),Pe.close()};we.addEventListener("abort",Ae);try{yield*Ie}finally{if(Ee.abort(),we.removeEventListener("abort",Ae),(0,abort_controller_x_1$3.throwIfAborted)(we),xe)throw xe}}const he=oe==null?pe:(be,ge)=>oe({method:fe,requestStream:!0,request:be,responseStream:!0,next:pe},ge);return(be,ge)=>{const we=he(be,{...ae,...ge})[Symbol.asyncIterator]();return{[Symbol.asyncIterator](){return{async next(){const _e=await we.next();return _e.done&&_e.value!=null?await we.throw(new Error("A middleware returned a message, but expected to return void for bidirectional streaming method")):_e},return(){return we.return()},throw(_e){return we.throw(_e)}}}}}}createBidiStreamingMethod$1.createBidiStreamingMethod=createBidiStreamingMethod;async function pipeRequest$1(ee,ne,oe,ae){for await(const de of ne)(0,abort_controller_x_1$3.throwIfAborted)(ee),oe.send({serializeBinary:()=>ae.requestSerialize(de)})}var createClientStreamingMethod$1={};Object.defineProperty(createClientStreamingMethod$1,"__esModule",{value:!0});createClientStreamingMethod$1.createClientStreamingMethod=void 0;const nice_grpc_common_1$3=lib,grpc_web_1$2=grpcWebClient_umdExports,abort_controller_x_1$2=require$$2,service_definitions_1$3=serviceDefinitions,isAsyncIterable_1$2=isAsyncIterable$1,convertMetadata_1$2=convertMetadata;function createClientStreamingMethod(ee,ne,oe,ae){const de=(0,service_definitions_1$3.toGrpcWebMethodDefinition)(ee),fe={path:ee.path,requestStream:ee.requestStream,responseStream:ee.responseStream,options:ee.options};async function*pe(be,ge){if(!(0,isAsyncIterable_1$2.isAsyncIterable)(be))throw new Error("A middleware passed invalid request to next(): expected a single message for client streaming method");const{metadata:ve=(0,nice_grpc_common_1$3.Metadata)(),signal:we=new AbortController().signal,onHeader:_e,onTrailer:Te}=ge;return await(0,abort_controller_x_1$2.execute)(we,(Ee,Ie)=>{const Pe=new AbortController;let xe;const Ae=grpc_web_1$2.grpc.client(de,{host:ne.address,transport:ne.transport});return Ae.onHeaders($e=>{_e?.((0,convertMetadata_1$2.convertMetadataFromGrpcWeb)($e))}),Ae.onMessage($e=>{xe=$e}),Ae.onEnd(($e,Se,Re)=>{Te?.((0,convertMetadata_1$2.convertMetadataFromGrpcWeb)(Re)),Pe.abort(),$e===grpc_web_1$2.grpc.Code.OK?Ee(xe):Ie(new nice_grpc_common_1$3.ClientError(ee.path,+$e,Se))}),Ae.start((0,convertMetadata_1$2.convertMetadataToGrpcWeb)(ve)),pipeRequest(Pe.signal,be,Ae,ee).then(()=>{Ae.finishSend()},$e=>{(0,abort_controller_x_1$2.isAbortError)($e)||(Ie($e),Ae.close())}),()=>{Pe.abort(),Ae.close()}})}const he=oe==null?pe:(be,ge)=>oe({method:fe,requestStream:!0,request:be,responseStream:!1,next:pe},ge);return async(be,ge)=>{const we=he(be,{...ae,...ge})[Symbol.asyncIterator]();let _e=await we.next();for(;;){if(!_e.done){_e=await we.throw(new Error("A middleware yielded a message, but expected to only return a message for client streaming method"));continue}if(_e.value==null){_e=await we.throw(new Error("A middleware returned void, but expected to return a message for client streaming method"));continue}return _e.value}}}createClientStreamingMethod$1.createClientStreamingMethod=createClientStreamingMethod;async function pipeRequest(ee,ne,oe,ae){for await(const de of ne)(0,abort_controller_x_1$2.throwIfAborted)(ee),oe.send({serializeBinary:()=>ae.requestSerialize(de)})}var createServerStreamingMethod$1={};Object.defineProperty(createServerStreamingMethod$1,"__esModule",{value:!0});createServerStreamingMethod$1.createServerStreamingMethod=void 0;const grpc_web_1$1=grpcWebClient_umdExports,abort_controller_x_1$1=require$$2,AsyncSink_1=AsyncSink$1,nice_grpc_common_1$2=lib,service_definitions_1$2=serviceDefinitions,convertMetadata_1$1=convertMetadata,isAsyncIterable_1$1=isAsyncIterable$1;function createServerStreamingMethod(ee,ne,oe,ae){const de=(0,service_definitions_1$2.toGrpcWebMethodDefinition)(ee),fe={path:ee.path,requestStream:ee.requestStream,responseStream:ee.responseStream,options:ee.options};async function*pe(be,ge){if((0,isAsyncIterable_1$1.isAsyncIterable)(be))throw new Error("A middleware passed invalid request to next(): expected a single message for server streaming method");const{metadata:ve=(0,nice_grpc_common_1$2.Metadata)(),signal:we=new AbortController().signal,onHeader:_e,onTrailer:Te}=ge,Ee=new AsyncSink_1.AsyncSink,Ie=grpc_web_1$1.grpc.client(de,{host:ne.address,transport:ne.transport});Ie.onHeaders(xe=>{_e?.((0,convertMetadata_1$1.convertMetadataFromGrpcWeb)(xe))}),Ie.onMessage(xe=>{Ee.write(xe)}),Ie.onEnd((xe,Ae,$e)=>{Te?.((0,convertMetadata_1$1.convertMetadataFromGrpcWeb)($e)),xe===grpc_web_1$1.grpc.Code.OK?Ee.end():Ee.error(new nice_grpc_common_1$2.ClientError(ee.path,+xe,Ae))}),Ie.start((0,convertMetadata_1$1.convertMetadataToGrpcWeb)(ve)),Ie.send({serializeBinary:()=>ee.requestSerialize(be)}),Ie.finishSend();const Pe=()=>{Ee.error(new abort_controller_x_1$1.AbortError),Ie.close()};we.addEventListener("abort",Pe);try{yield*Ee}finally{we.removeEventListener("abort",Pe),(0,abort_controller_x_1$1.throwIfAborted)(we)}}const he=oe==null?pe:(be,ge)=>oe({method:fe,requestStream:!1,request:be,responseStream:!0,next:pe},ge);return(be,ge)=>{const we=he(be,{...ae,...ge})[Symbol.asyncIterator]();return{[Symbol.asyncIterator](){return{async next(){const _e=await we.next();return _e.done&&_e.value!=null?await we.throw(new Error("A middleware returned a message, but expected to return void for server streaming method")):_e},return(){return we.return()},throw(_e){return we.throw(_e)}}}}}}createServerStreamingMethod$1.createServerStreamingMethod=createServerStreamingMethod;var createUnaryMethod$1={};Object.defineProperty(createUnaryMethod$1,"__esModule",{value:!0});createUnaryMethod$1.createUnaryMethod=void 0;const nice_grpc_common_1$1=lib,grpc_web_1=grpcWebClient_umdExports,abort_controller_x_1=require$$2,service_definitions_1$1=serviceDefinitions,isAsyncIterable_1=isAsyncIterable$1,convertMetadata_1=convertMetadata;function createUnaryMethod(ee,ne,oe,ae){const de=(0,service_definitions_1$1.toGrpcWebMethodDefinition)(ee),fe={path:ee.path,requestStream:ee.requestStream,responseStream:ee.responseStream,options:ee.options};async function*pe(be,ge){if((0,isAsyncIterable_1.isAsyncIterable)(be))throw new Error("A middleware passed invalid request to next(): expected a single message for unary method");const{metadata:ve=(0,nice_grpc_common_1$1.Metadata)(),signal:we=new AbortController().signal,onHeader:_e,onTrailer:Te}=ge;return await(0,abort_controller_x_1.execute)(we,(Ee,Ie)=>{let Pe;const xe=grpc_web_1.grpc.client(de,{host:ne.address,transport:ne.transport});return xe.onHeaders(Ae=>{_e?.((0,convertMetadata_1.convertMetadataFromGrpcWeb)(Ae))}),xe.onMessage(Ae=>{Pe=Ae}),xe.onEnd((Ae,$e,Se)=>{Te?.((0,convertMetadata_1.convertMetadataFromGrpcWeb)(Se)),Ae===grpc_web_1.grpc.Code.OK?Ee(Pe):Ie(new nice_grpc_common_1$1.ClientError(ee.path,+Ae,$e))}),xe.start((0,convertMetadata_1.convertMetadataToGrpcWeb)(ve)),xe.send({serializeBinary:()=>ee.requestSerialize(be)}),xe.finishSend(),()=>{xe.close()}})}const he=oe==null?pe:(be,ge)=>oe({method:fe,requestStream:!1,request:be,responseStream:!1,next:pe},ge);return async(be,ge)=>{const we=he(be,{...ae,...ge})[Symbol.asyncIterator]();let _e=await we.next();for(;;){if(!_e.done){_e=await we.throw(new Error("A middleware yielded a message, but expected to only return a message for unary method"));continue}if(_e.value==null){_e=await we.throw(new Error("A middleware returned void, but expected to return a message for unary method"));continue}return _e.value}}}createUnaryMethod$1.createUnaryMethod=createUnaryMethod;Object.defineProperty(ClientFactory,"__esModule",{value:!0});ClientFactory.createClient=ClientFactory.createClientFactory=void 0;const nice_grpc_common_1=lib,service_definitions_1=serviceDefinitions,createBidiStreamingMethod_1=createBidiStreamingMethod$1,createClientStreamingMethod_1=createClientStreamingMethod$1,createServerStreamingMethod_1=createServerStreamingMethod$1,createUnaryMethod_1=createUnaryMethod$1;function createClientFactory(){return createClientFactoryWithMiddleware()}ClientFactory.createClientFactory=createClientFactory;function createClient(ee,ne,oe){return createClientFactory().create(ee,ne,oe)}ClientFactory.createClient=createClient;function createClientFactoryWithMiddleware(ee){return{use(ne){return createClientFactoryWithMiddleware(ee==null?ne:(0,nice_grpc_common_1.composeClientMiddleware)(ee,ne))},create(ne,oe,ae={}){const de={},fe=Object.entries((0,service_definitions_1.normalizeServiceDefinition)(ne));for(const[pe,he]of fe){const be={...ae["*"],...ae[pe]};he.requestStream?he.responseStream?de[pe]=(0,createBidiStreamingMethod_1.createBidiStreamingMethod)(he,oe,ee,be):de[pe]=(0,createClientStreamingMethod_1.createClientStreamingMethod)(he,oe,ee,be):he.responseStream?de[pe]=(0,createServerStreamingMethod_1.createServerStreamingMethod)(he,oe,ee,be):de[pe]=(0,createUnaryMethod_1.createUnaryMethod)(he,oe,ee,be)}return de}}}var Client={};Object.defineProperty(Client,"__esModule",{value:!0});(function(ee){var ne=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(de,fe,pe,he){he===void 0&&(he=pe);var be=Object.getOwnPropertyDescriptor(fe,pe);(!be||("get"in be?!fe.__esModule:be.writable||be.configurable))&&(be={enumerable:!0,get:function(){return fe[pe]}}),Object.defineProperty(de,he,be)}:function(de,fe,pe,he){he===void 0&&(he=pe),de[he]=fe[pe]}),oe=commonjsGlobal&&commonjsGlobal.__exportStar||function(de,fe){for(var pe in de)pe!=="default"&&!Object.prototype.hasOwnProperty.call(fe,pe)&&ne(fe,de,pe)};Object.defineProperty(ee,"__esModule",{value:!0}),ee.Status=ee.Metadata=ee.composeClientMiddleware=ee.ClientError=void 0;var ae=lib;Object.defineProperty(ee,"ClientError",{enumerable:!0,get:function(){return ae.ClientError}}),Object.defineProperty(ee,"composeClientMiddleware",{enumerable:!0,get:function(){return ae.composeClientMiddleware}}),Object.defineProperty(ee,"Metadata",{enumerable:!0,get:function(){return ae.Metadata}}),Object.defineProperty(ee,"Status",{enumerable:!0,get:function(){return ae.Status}}),oe(serviceDefinitions,ee),oe(channel,ee),oe(ClientFactory,ee),oe(Client,ee)})(lib$1);function createBaseLinkedTwitterPair(){return{username:"",address:""}}var LinkedTwitterPair={encode(ee,ne=_m0.Writer.create()){return ee.username!==""&&ne.uint32(10).string(ee.username),ee.address!==""&&ne.uint32(18).string(ee.address),ne},decode(ee,ne){const oe=ee instanceof _m0.Reader?ee:_m0.Reader.create(ee);let ae=ne===void 0?oe.len:oe.pos+ne;const de=createBaseLinkedTwitterPair();for(;oe.pos<ae;){const fe=oe.uint32();switch(fe>>>3){case 1:if(fe!=10)break;de.username=oe.string();continue;case 2:if(fe!=18)break;de.address=oe.string();continue}if((fe&7)==4||fe==0)break;oe.skipType(fe&7)}return de},create(ee){return LinkedTwitterPair.fromPartial(ee??{})},fromPartial(ee){const ne=createBaseLinkedTwitterPair();return ne.username=ee.username??"",ne.address=ee.address??"",ne}};function createBaseDripRequest(){return{username:"",address:""}}var DripRequest={encode(ee,ne=_m0.Writer.create()){return ee.username!==""&&ne.uint32(10).string(ee.username),ee.address!==""&&ne.uint32(18).string(ee.address),ne},decode(ee,ne){const oe=ee instanceof _m0.Reader?ee:_m0.Reader.create(ee);let ae=ne===void 0?oe.len:oe.pos+ne;const de=createBaseDripRequest();for(;oe.pos<ae;){const fe=oe.uint32();switch(fe>>>3){case 1:if(fe!=10)break;de.username=oe.string();continue;case 2:if(fe!=18)break;de.address=oe.string();continue}if((fe&7)==4||fe==0)break;oe.skipType(fe&7)}return de},create(ee){return DripRequest.fromPartial(ee??{})},fromPartial(ee){const ne=createBaseDripRequest();return ne.username=ee.username??"",ne.address=ee.address??"",ne}};function createBaseDripDevRequest(){return{address:""}}var DripDevRequest={encode(ee,ne=_m0.Writer.create()){return ee.address!==""&&ne.uint32(10).string(ee.address),ne},decode(ee,ne){const oe=ee instanceof _m0.Reader?ee:_m0.Reader.create(ee);let ae=ne===void 0?oe.len:oe.pos+ne;const de=createBaseDripDevRequest();for(;oe.pos<ae;){const fe=oe.uint32();switch(fe>>>3){case 1:if(fe!=10)break;de.address=oe.string();continue}if((fe&7)==4||fe==0)break;oe.skipType(fe&7)}return de},create(ee){return DripDevRequest.fromPartial(ee??{})},fromPartial(ee){const ne=createBaseDripDevRequest();return ne.address=ee.address??"",ne}};function createBaseDripResponse(){return{dripTxHash:"",ecsTxHash:""}}var DripResponse={encode(ee,ne=_m0.Writer.create()){return ee.dripTxHash!==""&&ne.uint32(10).string(ee.dripTxHash),ee.ecsTxHash!==""&&ne.uint32(18).string(ee.ecsTxHash),ne},decode(ee,ne){const oe=ee instanceof _m0.Reader?ee:_m0.Reader.create(ee);let ae=ne===void 0?oe.len:oe.pos+ne;const de=createBaseDripResponse();for(;oe.pos<ae;){const fe=oe.uint32();switch(fe>>>3){case 1:if(fe!=10)break;de.dripTxHash=oe.string();continue;case 2:if(fe!=18)break;de.ecsTxHash=oe.string();continue}if((fe&7)==4||fe==0)break;oe.skipType(fe&7)}return de},create(ee){return DripResponse.fromPartial(ee??{})},fromPartial(ee){const ne=createBaseDripResponse();return ne.dripTxHash=ee.dripTxHash??"",ne.ecsTxHash=ee.ecsTxHash??"",ne}};function createBaseTimeUntilDripResponse(){return{timeUntilDripMinutes:0,timeUntilDripSeconds:0}}var TimeUntilDripResponse={encode(ee,ne=_m0.Writer.create()){return ee.timeUntilDripMinutes!==0&&ne.uint32(9).double(ee.timeUntilDripMinutes),ee.timeUntilDripSeconds!==0&&ne.uint32(17).double(ee.timeUntilDripSeconds),ne},decode(ee,ne){const oe=ee instanceof _m0.Reader?ee:_m0.Reader.create(ee);let ae=ne===void 0?oe.len:oe.pos+ne;const de=createBaseTimeUntilDripResponse();for(;oe.pos<ae;){const fe=oe.uint32();switch(fe>>>3){case 1:if(fe!=9)break;de.timeUntilDripMinutes=oe.double();continue;case 2:if(fe!=17)break;de.timeUntilDripSeconds=oe.double();continue}if((fe&7)==4||fe==0)break;oe.skipType(fe&7)}return de},create(ee){return TimeUntilDripResponse.fromPartial(ee??{})},fromPartial(ee){const ne=createBaseTimeUntilDripResponse();return ne.timeUntilDripMinutes=ee.timeUntilDripMinutes??0,ne.timeUntilDripSeconds=ee.timeUntilDripSeconds??0,ne}};function createBaseGetLinkedTwittersRequest(){return{}}var GetLinkedTwittersRequest={encode(ee,ne=_m0.Writer.create()){return ne},decode(ee,ne){const oe=ee instanceof _m0.Reader?ee:_m0.Reader.create(ee);let ae=ne===void 0?oe.len:oe.pos+ne;const de=createBaseGetLinkedTwittersRequest();for(;oe.pos<ae;){const fe=oe.uint32();if((fe&7)==4||fe==0)break;oe.skipType(fe&7)}return de},create(ee){return GetLinkedTwittersRequest.fromPartial(ee??{})},fromPartial(ee){return createBaseGetLinkedTwittersRequest()}};function createBaseGetLinkedTwittersResponse(){return{linkedTwitters:[]}}var GetLinkedTwittersResponse={encode(ee,ne=_m0.Writer.create()){for(const oe of ee.linkedTwitters)LinkedTwitterPair.encode(oe,ne.uint32(10).fork()).ldelim();return ne},decode(ee,ne){const oe=ee instanceof _m0.Reader?ee:_m0.Reader.create(ee);let ae=ne===void 0?oe.len:oe.pos+ne;const de=createBaseGetLinkedTwittersResponse();for(;oe.pos<ae;){const fe=oe.uint32();switch(fe>>>3){case 1:if(fe!=10)break;de.linkedTwitters.push(LinkedTwitterPair.decode(oe,oe.uint32()));continue}if((fe&7)==4||fe==0)break;oe.skipType(fe&7)}return de},create(ee){return GetLinkedTwittersResponse.fromPartial(ee??{})},fromPartial(ee){const ne=createBaseGetLinkedTwittersResponse();return ne.linkedTwitters=ee.linkedTwitters?.map(oe=>LinkedTwitterPair.fromPartial(oe))||[],ne}};function createBaseLinkedTwitterForAddressRequest(){return{address:""}}var LinkedTwitterForAddressRequest={encode(ee,ne=_m0.Writer.create()){return ee.address!==""&&ne.uint32(10).string(ee.address),ne},decode(ee,ne){const oe=ee instanceof _m0.Reader?ee:_m0.Reader.create(ee);let ae=ne===void 0?oe.len:oe.pos+ne;const de=createBaseLinkedTwitterForAddressRequest();for(;oe.pos<ae;){const fe=oe.uint32();switch(fe>>>3){case 1:if(fe!=10)break;de.address=oe.string();continue}if((fe&7)==4||fe==0)break;oe.skipType(fe&7)}return de},create(ee){return LinkedTwitterForAddressRequest.fromPartial(ee??{})},fromPartial(ee){const ne=createBaseLinkedTwitterForAddressRequest();return ne.address=ee.address??"",ne}};function createBaseLinkedTwitterForAddressResponse(){return{username:""}}var LinkedTwitterForAddressResponse={encode(ee,ne=_m0.Writer.create()){return ee.username!==""&&ne.uint32(10).string(ee.username),ne},decode(ee,ne){const oe=ee instanceof _m0.Reader?ee:_m0.Reader.create(ee);let ae=ne===void 0?oe.len:oe.pos+ne;const de=createBaseLinkedTwitterForAddressResponse();for(;oe.pos<ae;){const fe=oe.uint32();switch(fe>>>3){case 1:if(fe!=10)break;de.username=oe.string();continue}if((fe&7)==4||fe==0)break;oe.skipType(fe&7)}return de},create(ee){return LinkedTwitterForAddressResponse.fromPartial(ee??{})},fromPartial(ee){const ne=createBaseLinkedTwitterForAddressResponse();return ne.username=ee.username??"",ne}};function createBaseLinkedAddressForTwitterRequest(){return{username:""}}var LinkedAddressForTwitterRequest={encode(ee,ne=_m0.Writer.create()){return ee.username!==""&&ne.uint32(10).string(ee.username),ne},decode(ee,ne){const oe=ee instanceof _m0.Reader?ee:_m0.Reader.create(ee);let ae=ne===void 0?oe.len:oe.pos+ne;const de=createBaseLinkedAddressForTwitterRequest();for(;oe.pos<ae;){const fe=oe.uint32();switch(fe>>>3){case 1:if(fe!=10)break;de.username=oe.string();continue}if((fe&7)==4||fe==0)break;oe.skipType(fe&7)}return de},create(ee){return LinkedAddressForTwitterRequest.fromPartial(ee??{})},fromPartial(ee){const ne=createBaseLinkedAddressForTwitterRequest();return ne.username=ee.username??"",ne}};function createBaseLinkedAddressForTwitterResponse(){return{address:""}}var LinkedAddressForTwitterResponse={encode(ee,ne=_m0.Writer.create()){return ee.address!==""&&ne.uint32(10).string(ee.address),ne},decode(ee,ne){const oe=ee instanceof _m0.Reader?ee:_m0.Reader.create(ee);let ae=ne===void 0?oe.len:oe.pos+ne;const de=createBaseLinkedAddressForTwitterResponse();for(;oe.pos<ae;){const fe=oe.uint32();switch(fe>>>3){case 1:if(fe!=10)break;de.address=oe.string();continue}if((fe&7)==4||fe==0)break;oe.skipType(fe&7)}return de},create(ee){return LinkedAddressForTwitterResponse.fromPartial(ee??{})},fromPartial(ee){const ne=createBaseLinkedAddressForTwitterResponse();return ne.address=ee.address??"",ne}};function createBaseSetLinkedTwitterRequest(){return{address:"",username:"",signature:""}}var SetLinkedTwitterRequest={encode(ee,ne=_m0.Writer.create()){return ee.address!==""&&ne.uint32(10).string(ee.address),ee.username!==""&&ne.uint32(18).string(ee.username),ee.signature!==""&&ne.uint32(26).string(ee.signature),ne},decode(ee,ne){const oe=ee instanceof _m0.Reader?ee:_m0.Reader.create(ee);let ae=ne===void 0?oe.len:oe.pos+ne;const de=createBaseSetLinkedTwitterRequest();for(;oe.pos<ae;){const fe=oe.uint32();switch(fe>>>3){case 1:if(fe!=10)break;de.address=oe.string();continue;case 2:if(fe!=18)break;de.username=oe.string();continue;case 3:if(fe!=26)break;de.signature=oe.string();continue}if((fe&7)==4||fe==0)break;oe.skipType(fe&7)}return de},create(ee){return SetLinkedTwitterRequest.fromPartial(ee??{})},fromPartial(ee){const ne=createBaseSetLinkedTwitterRequest();return ne.address=ee.address??"",ne.username=ee.username??"",ne.signature=ee.signature??"",ne}};function createBaseSetLinkedTwitterResponse(){return{}}var SetLinkedTwitterResponse={encode(ee,ne=_m0.Writer.create()){return ne},decode(ee,ne){const oe=ee instanceof _m0.Reader?ee:_m0.Reader.create(ee);let ae=ne===void 0?oe.len:oe.pos+ne;const de=createBaseSetLinkedTwitterResponse();for(;oe.pos<ae;){const fe=oe.uint32();if((fe&7)==4||fe==0)break;oe.skipType(fe&7)}return de},create(ee){return SetLinkedTwitterResponse.fromPartial(ee??{})},fromPartial(ee){return createBaseSetLinkedTwitterResponse()}},FaucetServiceDefinition={name:"FaucetService",fullName:"faucet.FaucetService",methods:{drip:{name:"Drip",requestType:DripRequest,requestStream:!1,responseType:DripResponse,responseStream:!1,options:{}},dripDev:{name:"DripDev",requestType:DripDevRequest,requestStream:!1,responseType:DripResponse,responseStream:!1,options:{}},dripVerifyTweet:{name:"DripVerifyTweet",requestType:DripRequest,requestStream:!1,responseType:DripResponse,responseStream:!1,options:{}},timeUntilDrip:{name:"TimeUntilDrip",requestType:DripRequest,requestStream:!1,responseType:TimeUntilDripResponse,responseStream:!1,options:{}},getLinkedTwitters:{name:"GetLinkedTwitters",requestType:GetLinkedTwittersRequest,requestStream:!1,responseType:GetLinkedTwittersResponse,responseStream:!1,options:{}},getLinkedTwitterForAddress:{name:"GetLinkedTwitterForAddress",requestType:LinkedTwitterForAddressRequest,requestStream:!1,responseType:LinkedTwitterForAddressResponse,responseStream:!1,options:{}},getLinkedAddressForTwitter:{name:"GetLinkedAddressForTwitter",requestType:LinkedAddressForTwitterRequest,requestStream:!1,responseType:LinkedAddressForTwitterResponse,responseStream:!1,options:{}},setLinkedTwitter:{name:"SetLinkedTwitter",requestType:SetLinkedTwitterRequest,requestStream:!1,responseType:SetLinkedTwitterResponse,responseStream:!1,options:{}}}};(()=>{if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw"Unable to locate global object"})();_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());function createFaucetService(ee){return lib$1.createClient(FaucetServiceDefinition,lib$1.createChannel(ee))}const worlds={31337:{address:"0x6e9474e9c83676b9a71133ff96db43e7aa0a4342"},80001:{address:"0xdd8ebc2cbcde94d7c12fe137d0cb47ec560ea587",blockNumber:42885857}},foundry=defineChain({id:31337,name:"Foundry",network:"foundry",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["http://127.0.0.1:8545"],webSocket:["ws://127.0.0.1:8545"]},public:{http:["http://127.0.0.1:8545"],webSocket:["ws://127.0.0.1:8545"]}}});var t={name:"Lattice Testnet",id:4242,network:"lattice-testnet",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://follower.testnet-chain.linfra.xyz"],webSocket:["wss://follower.testnet-chain.linfra.xyz"]},public:{http:["https://follower.testnet-chain.linfra.xyz"],webSocket:["wss://follower.testnet-chain.linfra.xyz"]}},blockExplorers:{default:{name:"Otterscan",url:"https://explorer.testnet-chain.linfra.xyz"}},faucetUrl:"https://faucet.testnet-mud-services.linfra.xyz"},r={...foundry,fees:{defaultPriorityFee:()=>0n}};const Mumbai={name:"Mumbai",id:80001,network:"Mumbai",nativeCurrency:{decimals:18,name:"MATIC",symbol:"MATIC"},rpcUrls:{default:{http:["https://polygon-mumbai-bor.publicnode.com"],webSocket:["wss://polygon-mumbai-bor.publicnode.com"]},public:{http:["https://polygon-mumbai-bor.publicnode.com"],webSocket:["wss://polygon-mumbai-bor.publicnode.com"]}},blockExplorers:{default:{name:"Polygonscan",url:"https://mumbai.polygonscan.com"}}},supportedChains=[r,t,Mumbai];async function getNetworkConfig(){const ne=window.chainParams||{chainId:0},oe={VITE_DEV:"true",VITE_GAME:"Osairo",VITE_CHAIN_ID:"80001",VITE_APP_PARTICLE_APP_ID:"0632a4cd-c9b6-4e4d-9379-00e153db2c6b",VITE_APP_PARTICLE_PROJECT_ID:"a9dd3827-a08a-48d3-aea6-ba82702500f7",VITE_APP_PARTICLE_CLIENT_KEY:"coJmT0J7cpOWluJaHdaBBApJEMiWRxn5eP0Dl1Wu",VITE_APP_PARTICLE_SERVER_KEY:"swLlfGMcz2n6VGVYoxoIODLOWInveBRKOZC7UW2X",VITE_APP_WALLETCONNECT_PROJECT_ID:"f0e8a3969b5c3e10dbac6efa79134014",BASE_URL:"/",MODE:"testnet",DEV:!1,PROD:!0,SSR:!1},ae=Number(ne?.chainId||oe.VITE_CHAIN_ID||r.id),de=supportedChains.findIndex(ge=>ge.id===ae),fe=supportedChains[de];if(!fe)throw new Error(`Chain ${ae} not found`);const pe=worlds[fe.id.toString()],he=ne?.worldAddress||pe?.address;if(!he)throw new Error(`No world address found for chain ${ae}. Did you run \`mud deploy\`?`);const be=ne?.initialBlockNumber?Number(ne?.initialBlockNumber):pe?.blockNumber??0n;return{privateKey:nt(),chainId:ae,chain:fe,faucetServiceUrl:ne?.faucet??fe.faucetUrl,worldAddress:he,initialBlockNumber:be}}const world=ft(),IWorldAbi=[{inputs:[{internalType:"uint256",name:"length",type:"uint256"},{internalType:"uint256",name:"accessedIndex",type:"uint256"}],name:"Store_IndexOutOfBounds",type:"error"},{inputs:[{internalType:"uint256",name:"expected",type:"uint256"},{internalType:"uint256",name:"received",type:"uint256"}],name:"Store_InvalidDynamicDataLength",type:"error"},{inputs:[{internalType:"uint256",name:"expected",type:"uint256"},{internalType:"uint256",name:"received",type:"uint256"}],name:"Store_InvalidFieldNamesLength",type:"error"},{inputs:[{internalType:"uint256",name:"expected",type:"uint256"},{internalType:"uint256",name:"received",type:"uint256"}],name:"Store_InvalidKeyNamesLength",type:"error"},{inputs:[{internalType:"bytes2",name:"expected",type:"bytes2"},{internalType:"ResourceId",name:"resourceId",type:"bytes32"},{internalType:"string",name:"resourceIdString",type:"string"}],name:"Store_InvalidResourceType",type:"error"},{inputs:[{internalType:"uint40",name:"startWithinField",type:"uint40"},{internalType:"uint40",name:"deleteCount",type:"uint40"},{internalType:"uint40",name:"fieldLength",type:"uint40"}],name:"Store_InvalidSplice",type:"error"},{inputs:[{internalType:"uint256",name:"expected",type:"uint256"},{internalType:"uint256",name:"received",type:"uint256"}],name:"Store_InvalidValueSchemaLength",type:"error"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"},{internalType:"string",name:"tableIdString",type:"string"}],name:"Store_TableAlreadyExists",type:"error"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"},{internalType:"string",name:"tableIdString",type:"string"}],name:"Store_TableNotFound",type:"error"},{inputs:[{internalType:"string",name:"resource",type:"string"},{internalType:"address",name:"caller",type:"address"}],name:"World_AccessDenied",type:"error"},{inputs:[],name:"World_AlreadyInitialized",type:"error"},{inputs:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"}],name:"World_CallbackNotAllowed",type:"error"},{inputs:[{internalType:"address",name:"delegator",type:"address"},{internalType:"address",name:"delegatee",type:"address"}],name:"World_DelegationNotFound",type:"error"},{inputs:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"}],name:"World_FunctionSelectorAlreadyExists",type:"error"},{inputs:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"}],name:"World_FunctionSelectorNotFound",type:"error"},{inputs:[{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"World_InsufficientBalance",type:"error"},{inputs:[{internalType:"address",name:"contractAddress",type:"address"},{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"World_InterfaceNotSupported",type:"error"},{inputs:[{internalType:"ResourceId",name:"resourceId",type:"bytes32"},{internalType:"string",name:"resourceIdString",type:"string"}],name:"World_InvalidResourceId",type:"error"},{inputs:[{internalType:"bytes2",name:"expected",type:"bytes2"},{internalType:"ResourceId",name:"resourceId",type:"bytes32"},{internalType:"string",name:"resourceIdString",type:"string"}],name:"World_InvalidResourceType",type:"error"},{inputs:[{internalType:"ResourceId",name:"resourceId",type:"bytes32"},{internalType:"string",name:"resourceIdString",type:"string"}],name:"World_ResourceAlreadyExists",type:"error"},{inputs:[{internalType:"ResourceId",name:"resourceId",type:"bytes32"},{internalType:"string",name:"resourceIdString",type:"string"}],name:"World_ResourceNotFound",type:"error"},{inputs:[{internalType:"address",name:"system",type:"address"}],name:"World_SystemAlreadyExists",type:"error"},{inputs:[],name:"World_UnlimitedDelegationNotAllowed",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"storeVersion",type:"bytes32"}],name:"HelloStore",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"worldVersion",type:"bytes32"}],name:"HelloWorld",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"ResourceId",name:"tableId",type:"bytes32"},{indexed:!1,internalType:"bytes32[]",name:"keyTuple",type:"bytes32[]"}],name:"Store_DeleteRecord",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"ResourceId",name:"tableId",type:"bytes32"},{indexed:!1,internalType:"bytes32[]",name:"keyTuple",type:"bytes32[]"},{indexed:!1,internalType:"bytes",name:"staticData",type:"bytes"},{indexed:!1,internalType:"PackedCounter",name:"encodedLengths",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"dynamicData",type:"bytes"}],name:"Store_SetRecord",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"ResourceId",name:"tableId",type:"bytes32"},{indexed:!1,internalType:"bytes32[]",name:"keyTuple",type:"bytes32[]"},{indexed:!1,internalType:"uint48",name:"start",type:"uint48"},{indexed:!1,internalType:"uint40",name:"deleteCount",type:"uint40"},{indexed:!1,internalType:"PackedCounter",name:"encodedLengths",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"}],name:"Store_SpliceDynamicData",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"ResourceId",name:"tableId",type:"bytes32"},{indexed:!1,internalType:"bytes32[]",name:"keyTuple",type:"bytes32[]"},{indexed:!1,internalType:"uint48",name:"start",type:"uint48"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"}],name:"Store_SpliceStaticData",type:"event"},{inputs:[{components:[{internalType:"ResourceId",name:"systemId",type:"bytes32"},{internalType:"bytes",name:"callData",type:"bytes"}],internalType:"struct SystemCallData[]",name:"systemCalls",type:"tuple[]"}],name:"batchCall",outputs:[{internalType:"bytes[]",name:"returnDatas",type:"bytes[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"from",type:"address"},{internalType:"ResourceId",name:"systemId",type:"bytes32"},{internalType:"bytes",name:"callData",type:"bytes"}],internalType:"struct SystemCallFromData[]",name:"systemCalls",type:"tuple[]"}],name:"batchCallFrom",outputs:[{internalType:"bytes[]",name:"returnDatas",type:"bytes[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"ResourceId",name:"systemId",type:"bytes32"},{internalType:"bytes",name:"callData",type:"bytes"}],name:"call",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"delegator",type:"address"},{internalType:"ResourceId",name:"systemId",type:"bytes32"},{internalType:"bytes",name:"callData",type:"bytes"}],name:"callFrom",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"payable",type:"function"},{inputs:[],name:"creator",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"},{internalType:"bytes32[]",name:"keyTuple",type:"bytes32[]"}],name:"deleteRecord",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"},{internalType:"bytes32[]",name:"keyTuple",type:"bytes32[]"},{internalType:"uint8",name:"dynamicFieldIndex",type:"uint8"}],name:"getDynamicField",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"},{internalType:"bytes32[]",name:"keyTuple",type:"bytes32[]"},{internalType:"uint8",name:"dynamicFieldIndex",type:"uint8"}],name:"getDynamicFieldLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"},{internalType:"bytes32[]",name:"keyTuple",type:"bytes32[]"},{internalType:"uint8",name:"dynamicFieldIndex",type:"uint8"},{internalType:"uint256",name:"start",type:"uint256"},{internalType:"uint256",name:"end",type:"uint256"}],name:"getDynamicFieldSlice",outputs:[{internalType:"bytes",name:"data",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"},{internalType:"bytes32[]",name:"keyTuple",type:"bytes32[]"},{internalType:"uint8",name:"fieldIndex",type:"uint8"},{internalType:"FieldLayout",name:"fieldLayout",type:"bytes32"}],name:"getField",outputs:[{internalType:"bytes",name:"data",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"},{internalType:"bytes32[]",name:"keyTuple",type:"bytes32[]"},{internalType:"uint8",name:"fieldIndex",type:"uint8"}],name:"getField",outputs:[{internalType:"bytes",name:"data",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"}],name:"getFieldLayout",outputs:[{internalType:"FieldLayout",name:"fieldLayout",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"},{internalType:"bytes32[]",name:"keyTuple",type:"bytes32[]"},{internalType:"uint8",name:"fieldIndex",type:"uint8"},{internalType:"FieldLayout",name:"fieldLayout",type:"bytes32"}],name:"getFieldLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"},{internalType:"bytes32[]",name:"keyTuple",type:"bytes32[]"},{internalType:"uint8",name:"fieldIndex",type:"uint8"}],name:"getFieldLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"}],name:"getKeySchema",outputs:[{internalType:"Schema",name:"keySchema",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"},{internalType:"bytes32[]",name:"keyTuple",type:"bytes32[]"},{internalType:"FieldLayout",name:"fieldLayout",type:"bytes32"}],name:"getRecord",outputs:[{internalType:"bytes",name:"staticData",type:"bytes"},{internalType:"PackedCounter",name:"encodedLengths",type:"bytes32"},{internalType:"bytes",name:"dynamicData",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"},{internalType:"bytes32[]",name:"keyTuple",type:"bytes32[]"}],name:"getRecord",outputs:[{internalType:"bytes",name:"staticData",type:"bytes"},{internalType:"PackedCounter",name:"encodedLengths",type:"bytes32"},{internalType:"bytes",name:"dynamicData",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"},{internalType:"bytes32[]",name:"keyTuple",type:"bytes32[]"},{internalType:"uint8",name:"fieldIndex",type:"uint8"},{internalType:"FieldLayout",name:"fieldLayout",type:"bytes32"}],name:"getStaticField",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"}],name:"getValueSchema",outputs:[{internalType:"Schema",name:"valueSchema",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"ResourceId",name:"resourceId",type:"bytes32"},{internalType:"address",name:"grantee",type:"address"}],name:"grantAccess",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"increment",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IModule",name:"coreModule",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IModule",name:"module",type:"address"},{internalType:"bytes",name:"args",type:"bytes"}],name:"installModule",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IModule",name:"module",type:"address"},{internalType:"bytes",name:"args",type:"bytes"}],name:"installRootModule",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"},{internalType:"bytes32[]",name:"keyTuple",type:"bytes32[]"},{internalType:"uint8",name:"dynamicFieldIndex",type:"uint8"},{internalType:"uint256",name:"byteLengthToPop",type:"uint256"}],name:"popFromDynamicField",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"},{internalType:"bytes32[]",name:"keyTuple",type:"bytes32[]"},{internalType:"uint8",name:"dynamicFieldIndex",type:"uint8"},{internalType:"bytes",name:"dataToPush",type:"bytes"}],name:"pushToDynamicField",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"delegatee",type:"address"},{internalType:"ResourceId",name:"delegationControlId",type:"bytes32"},{internalType:"bytes",name:"initCallData",type:"bytes"}],name:"registerDelegation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"ResourceId",name:"systemId",type:"bytes32"},{internalType:"string",name:"systemFunctionSignature",type:"string"}],name:"registerFunctionSelector",outputs:[{internalType:"bytes4",name:"worldFunctionSelector",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"ResourceId",name:"namespaceId",type:"bytes32"}],name:"registerNamespace",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"ResourceId",name:"namespaceId",type:"bytes32"},{internalType:"ResourceId",name:"delegationControlId",type:"bytes32"},{internalType:"bytes",name:"initCallData",type:"bytes"}],name:"registerNamespaceDelegation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"ResourceId",name:"systemId",type:"bytes32"},{internalType:"string",name:"worldFunctionSignature",type:"string"},{internalType:"bytes4",name:"systemFunctionSelector",type:"bytes4"}],name:"registerRootFunctionSelector",outputs:[{internalType:"bytes4",name:"worldFunctionSelector",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"},{internalType:"contract IStoreHook",name:"hookAddress",type:"address"},{internalType:"uint8",name:"enabledHooksBitmap",type:"uint8"}],name:"registerStoreHook",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"ResourceId",name:"systemId",type:"bytes32"},{internalType:"contract WorldContextConsumer",name:"system",type:"address"},{internalType:"bool",name:"publicAccess",type:"bool"}],name:"registerSystem",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"ResourceId",name:"systemId",type:"bytes32"},{internalType:"contract ISystemHook",name:"hookAddress",type:"address"},{internalType:"uint8",name:"enabledHooksBitmap",type:"uint8"}],name:"registerSystemHook",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"},{internalType:"FieldLayout",name:"fieldLayout",type:"bytes32"},{internalType:"Schema",name:"keySchema",type:"bytes32"},{internalType:"Schema",name:"valueSchema",type:"bytes32"},{internalType:"string[]",name:"keyNames",type:"string[]"},{internalType:"string[]",name:"fieldNames",type:"string[]"}],name:"registerTable",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"ResourceId",name:"resourceId",type:"bytes32"},{internalType:"address",name:"grantee",type:"address"}],name:"revokeAccess",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"},{internalType:"bytes32[]",name:"keyTuple",type:"bytes32[]"},{internalType:"uint8",name:"dynamicFieldIndex",type:"uint8"},{internalType:"bytes",name:"data",type:"bytes"}],name:"setDynamicField",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"},{internalType:"bytes32[]",name:"keyTuple",type:"bytes32[]"},{internalType:"uint8",name:"fieldIndex",type:"uint8"},{internalType:"bytes",name:"data",type:"bytes"}],name:"setField",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"},{internalType:"bytes32[]",name:"keyTuple",type:"bytes32[]"},{internalType:"uint8",name:"fieldIndex",type:"uint8"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"FieldLayout",name:"fieldLayout",type:"bytes32"}],name:"setField",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"},{internalType:"bytes32[]",name:"keyTuple",type:"bytes32[]"},{internalType:"bytes",name:"staticData",type:"bytes"},{internalType:"PackedCounter",name:"encodedLengths",type:"bytes32"},{internalType:"bytes",name:"dynamicData",type:"bytes"}],name:"setRecord",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"},{internalType:"bytes32[]",name:"keyTuple",type:"bytes32[]"},{internalType:"uint8",name:"fieldIndex",type:"uint8"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"FieldLayout",name:"fieldLayout",type:"bytes32"}],name:"setStaticField",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"},{internalType:"bytes32[]",name:"keyTuple",type:"bytes32[]"},{internalType:"uint8",name:"dynamicFieldIndex",type:"uint8"},{internalType:"uint40",name:"startWithinField",type:"uint40"},{internalType:"uint40",name:"deleteCount",type:"uint40"},{internalType:"bytes",name:"data",type:"bytes"}],name:"spliceDynamicData",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"},{internalType:"bytes32[]",name:"keyTuple",type:"bytes32[]"},{internalType:"uint48",name:"start",type:"uint48"},{internalType:"bytes",name:"data",type:"bytes"}],name:"spliceStaticData",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"storeVersion",outputs:[{internalType:"bytes32",name:"version",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"ResourceId",name:"fromNamespaceId",type:"bytes32"},{internalType:"address",name:"toAddress",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferBalanceToAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"ResourceId",name:"fromNamespaceId",type:"bytes32"},{internalType:"ResourceId",name:"toNamespaceId",type:"bytes32"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferBalanceToNamespace",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"ResourceId",name:"namespaceId",type:"bytes32"},{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"ResourceId",name:"tableId",type:"bytes32"},{internalType:"contract IStoreHook",name:"hookAddress",type:"address"}],name:"unregisterStoreHook",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"ResourceId",name:"systemId",type:"bytes32"},{internalType:"contract ISystemHook",name:"hookAddress",type:"address"}],name:"unregisterSystemHook",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"worldVersion",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"}],mudConfig=m$1({tables:{Counter:{keySchema:{},valueSchema:"uint32"}}});async function setupNetwork(ee){const ne="true",oe=await getNetworkConfig(),ae={chain:oe.chain,transport:kt(fallback([webSocket(),http()])),pollingInterval:1e3},de=createPublicClient(ae),fe=ee?await ee.getSigner():null,pe=fe&&fe?.address&&fe?.signMessage&&fe?.signTransaction&&fe?.signTypedData?toAccount({address:fe.address,signMessage:fe.signMessage,signTransaction:fe.signTransaction,signTypedData:fe.signTypedData}):me(oe.privateKey),he=createWalletClient({...ae,account:pe}),be=new Subject,ge=W$3({address:oe.worldAddress,abi:IWorldAbi,publicClient:de,walletClient:he,onWrite:Pe=>be.next(Pe)}),{components:ve,latestBlock$:we,storedBlockLogs$:_e,waitForTransaction:Te}=await ke({world,config:mudConfig,address:oe.worldAddress,publicClient:de,startBlock:BigInt(oe.initialBlockNumber)});if(oe.faucetServiceUrl){const Pe=pe.address;console.info("[Dev Faucet]: Player address -> ",Pe);const xe=createFaucetService(oe.faucetServiceUrl),Ae=async()=>{const $e=await de.getBalance({address:Pe});console.info(`[Dev Faucet]: Player balance -> ${$e}`),$e<parseEther("1")&&(console.info("[Dev Faucet]: Balance is low, dripping funds to player"),await xe.dripDev({address:Pe}),await xe.dripDev({address:Pe}))};Ae(),setInterval(Ae,2e4)}const Ee=he.account.address;return{world,components:ve,playerEntity:w({address:"address"},{address:Ee}),publicClient:de,walletClient:he,latestBlock$:we,storedBlockLogs$:_e,waitForTransaction:Te,worldContract:ge,write$:be.asObservable().pipe(share$1()),worldAddress:ne?oe.worldAddress:"unknown",chain:oe.chain}}async function setup(ee){const ne=await setupNetwork(ee),oe=createClientComponents(ne),ae=createSystemCalls(ne,oe);return{network:ne,components:oe,systemCalls:ae}}class MudEngine{_env={};_initialized=!1;_network=null;_systemCalls={};_components={};get version(){return"0.0.1"}get env(){return this._env}get network(){return this._network}get isInit(){return this._initialized}get systemCalls(){return this._systemCalls}get components(){return this._components}constructor(){this._env={VITE_DEV:"true",VITE_GAME:"Osairo",VITE_CHAIN_ID:"80001",VITE_APP_PARTICLE_APP_ID:"0632a4cd-c9b6-4e4d-9379-00e153db2c6b",VITE_APP_PARTICLE_PROJECT_ID:"a9dd3827-a08a-48d3-aea6-ba82702500f7",VITE_APP_PARTICLE_CLIENT_KEY:"coJmT0J7cpOWluJaHdaBBApJEMiWRxn5eP0Dl1Wu",VITE_APP_PARTICLE_SERVER_KEY:"swLlfGMcz2n6VGVYoxoIODLOWInveBRKOZC7UW2X",VITE_APP_WALLETCONNECT_PROJECT_ID:"f0e8a3969b5c3e10dbac6efa79134014",BASE_URL:"/",MODE:"testnet",DEV:!1,PROD:!0,SSR:!1}}async rebuild(ne){this._initialized=!1;const{components:oe,systemCalls:ae,network:de}=await setup(ne);this._network=de,this._components=oe,this._systemCalls=ae,this._initialized=!0}async init(ne){await this.rebuild(ne)}}const context=globalThis;context.mudEngine=new MudEngine;export{BaseError as B,HttpRequestError as H,InvalidAddressError as I,concat as a,isHex as b,call as c,decodeErrorResult as d,encodeAbiParameters as e,getUrl$1 as g,isAddress as i,stringify as s};
