System.register("chunks:///_virtual/app.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Root.ts","./StateMachineManager.ts","./GameStateGameOver.ts","./GameStateGaming.ts","./GameStateIdle.ts","./GameStateInit.ts","./Game.ts"],(function(t){var e,a,n,c,r,i,s,o,u,p,f,l,S,d;return{setters:[function(t){e=t.inheritsLoose,a=t.createClass},function(t){n=t.cclegacy,c=t._decorator,r=t.game,i=t.profiler},function(t){s=t.Root},function(t){o=t.stateMachine},function(t){u=t.stateGameOver},function(t){p=t.stateGaming},function(t){f=t.stateGameIdle},function(t){l=t.stateGameInit},function(t){S=t.GAME_ID,d=t.VERSION}],execute:function(){var m;n._RF.push({},"b886eXs86VMG74Pvg8LYRvX","app",void 0);var h=c.ccclass,G=c.menu;t("app",h("app")(m=G("app")(m=function(t){function n(){for(var e,a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))||this).launched=!1,e}e(n,t);var c=n.prototype;return c.init=function(){t.prototype.init.call(this);var e=o;o.addSceneState(f.setOwner(e)),o.addSceneState(l.setOwner(e)),o.addSceneState(p.setOwner(e)),o.addSceneState(u.setOwner(e)),o.setDefaultState(f)},c.start=function(){r.frameRate=60,i.hideStats()},a(n,[{key:"gameId",get:function(){return S}},{key:"cacheVersion",get:function(){return d.cacheVersion}}]),n}(s))||m)||m);n._RF.pop()}}}));

System.register("chunks:///_virtual/AudioEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResLoader.ts"],(function(e){var t,f,o,c,r,s,i;return{setters:[function(e){t=e.inheritsLoose},function(e){f=e.cclegacy,o=e._decorator,c=e.AudioClip,r=e.error,s=e.AudioSource},function(e){i=e.resLoader}],execute:function(){var n;f._RF.push({},"81c0b7UFrxGh7lJber5+Y//","AudioEffect",void 0);var a=o.ccclass,u=o.menu;e("AudioEffect",a("AudioEffect")(n=u("core/audio/AudioEffect")(n=function(e){function f(){for(var t,f=arguments.length,o=new Array(f),c=0;c<f;c++)o[c]=arguments[c];return(t=e.call.apply(e,[this].concat(o))||this).effects=new Map,t}t(f,e);var o=f.prototype;return o.load=function(e,t){var f=this;if(this.effects.has(e))this.playFromEffect(e,t);else{var o=i.get(e);o&&(this.effects.set(e,o),this.playFromEffect(e,t)),i.load(e,c,(function(o,c){o&&r(o),f.effects.set(e,c),f.playFromEffect(e,t)}))}},o.playFromEffect=function(e,t){this.playOneShot(this.effects.get(e),this.volume),t&&t()},o.release=function(){for(var e in this.effects)i.release(e);this.effects.clear()},f}(s))||n)||n);f._RF.pop()}}}));

System.register("chunks:///_virtual/AudioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioEffect.ts","./AudioMusic.ts","./EventBus.ts","./GameObject.ts","./GameManager.ts"],(function(t){var i,e,s,c,u,o,n,a,f,h,l,_;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass},function(t){s=t.cclegacy,c=t.sys,u=t.game,o=t.Game,n=t.Node},function(t){a=t.AudioEffect},function(t){f=t.AudioMusic},function(t){h=t.createEvent},function(t){l=t.GameObject},function(t){_=t.gameManager}],execute:function(){s._RF.push({},"a253cbJy3hDFqr/YkRNBTpg","AudioManager",void 0);t("AudioManager",function(t){function s(){for(var i,e=arguments.length,s=new Array(e),c=0;c<e;c++)s[c]=arguments[c];return(i=t.call.apply(t,[this].concat(s))||this).local_data={},i.music=void 0,i.effect=void 0,i._volume_music=1,i._volume_effect=1,i._switch_music=!0,i._switch_effect=!0,i._uuid="998877",i._localStorageTag="",i}i(s,t);var l=s.prototype;return l.init=function(){var t=c.localStorage.getItem(this._localStorageTag);if(t){try{this.local_data=JSON.parse(t),this._volume_music=this.local_data.volume_music,this._volume_effect=this.local_data.volume_effect,this._switch_music=this.local_data.switch_music,this._switch_effect=this.local_data.switch_effect}catch(t){this.local_data={},this._volume_music=1,this._volume_effect=1,this._switch_music=!0,this._switch_effect=!0}this.music.volume=this._volume_music,this.effect.volume=this._volume_effect}},l.events=function(){return[].concat(t.prototype.events.call(this),[h(o.EVENT_HIDE,this.onGameHide,u),h(o.EVENT_SHOW,this.onGameShow,u)])},l.onGameHide=function(){this.pauseAll()},l.onGameShow=function(){this.resumeAll()},l.setUuid=function(t){this._uuid=t,this._localStorageTag="game_audio_"+this._uuid},l.playMusic=function(t,i){void 0===i&&(i=null),this._switch_music&&(this.music.load(t),this.music.onComplete=i)},l.playEffect=function(t){this._switch_effect&&this.effect.load(t)},l.getSwitchMusic=function(){return this._switch_music},l.setSwitchMusic=function(t){this._switch_music=t,t||this.music.stop()},l.getSwitchEffect=function(){return this._switch_effect},l.setSwitchEffect=function(t){this._switch_effect=t,t||this.effect.stop()},l.resumeAll=function(){this.music&&(this.music.play(),this.effect.play())},l.pauseAll=function(){this.music&&(this.music.pause(),this.effect.pause())},l.stopAll=function(){this.music&&(this.music.stop(),this.effect.stop())},l.save=function(){this.local_data.volume_music=this._volume_music,this.local_data.volume_effect=this._volume_effect,this.local_data.switch_music=this._switch_music,this.local_data.switch_effect=this._switch_effect;var t=JSON.stringify(this.local_data);c.localStorage.setItem(this._localStorageTag,t)},e(s,[{key:"musicVolume",get:function(){return this._volume_music},set:function(t){this._volume_music=t,this.music.volume=t}},{key:"effectVolume",get:function(){return this._volume_effect},set:function(t){this._volume_effect=t,this.effect.volume=t}}],[{key:"instance",get:function(){if(null===this._instance){var t=_.persistRootNode;t||(t=new n("UIAudioManager"),_.setRootNode(t)),this._instance=t.addComponent(s),this._instance.init();var i=new n("UIMusic");i.parent=t,this._instance.music=i.addComponent(f);var e=new n("UIEffect");e.parent=t,this._instance.effect=e.addComponent(a)}return this._instance}}]),s}(l))._instance=null,s._RF.pop()}}}));

System.register("chunks:///_virtual/AudioMusic.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResLoader.ts"],(function(s){var i,t,e,r,o,u,c,n;return{setters:[function(s){i=s.inheritsLoose,t=s.createClass},function(s){e=s.cclegacy,r=s._decorator,o=s.AudioClip,u=s.error,c=s.AudioSource},function(s){n=s.resLoader}],execute:function(){var a;e._RF.push({},"8e208uktFJGsLV9r2PNr+jv","AudioMusic",void 0);var l=r.ccclass,h=r.menu;s("AudioMusic",l("AudioMusic")(a=h("core/audio/AudioMusic")(a=function(s){function e(){for(var i,t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return(i=s.call.apply(s,[this].concat(e))||this).onComplete=null,i._progress=0,i._isPlay=!1,i._musics=new Map,i}i(e,s);var r=e.prototype;return r.load=function(s,i){var t=this;if(this._musics.has(s))this.playFromMusic(s,i);else{var e=n.get(s);e?(this._musics.set(s,e),this.playFromMusic(s,i)):n.load(s,o,(function(e,r){e&&u(e),t._musics.set(s,r),t.playFromMusic(s,i)}))}},r.playFromMusic=function(s,i){this.playing&&this.stop(),this.clip=this._musics.get(s),this.currentTime=0,this.play(),i&&i()},r.update=function(s){this.currentTime>0&&(this._isPlay=!0),this._isPlay&&!this.playing&&(this._isPlay=!1,this.onComplete&&this.onComplete())},r.release=function(){for(var s in this._musics)n.release(s);this._musics.clear()},t(e,[{key:"progress",get:function(){return this._progress=this.currentTime/this.duration,this._progress},set:function(s){this._progress=s,this.currentTime=s*this.duration}}]),e}(c))||a)||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/Audios.ts",["cc","./Resources.ts"],(function(e){var s,t;return{setters:[function(e){s=e.cclegacy},function(e){t=e.registerMediaResources}],execute:function(){s._RF.push({},"0efa65NXIxBYKXYM9ZUt1Ps","Audios",void 0);var u=e("Audios",function(e){return{}}());t(u),s._RF.pop()}}}));

System.register("chunks:///_virtual/BaseDTO.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MathUtil.ts"],(function(e){var t,i,n;return{setters:[function(e){t=e.createClass},function(e){i=e.cclegacy},function(e){n=e.MathUtil}],execute:function(){i._RF.push({},"5fdf7kpU+1LZYQqRJkNXN1r","BaseDTO",void 0);e("BaseDTO",function(){function e(e){this.id=null,this.holder=null,this.holder=null!=e?e:null,this.id=n.uuidGen(32,16)}return e.fillWith=function(e,t){var i=new this(null!=t?t:null);return Object.keys(e).forEach((function(t){if(i.hasOwnProperty(t)){var n="_"+t+"Type",l=e[t],r=i[n];if(r&&l){var u=r.cls,s=r.isMap;if(l instanceof Array){var c=[];l.forEach((function(e){e&&(e.isDTO?c.push(e):c.push(u.fillWith(e,i)))})),Object.defineProperty(i,t,{value:c})}else if(l instanceof Object)if(s){var f=Object.keys(l),o={};f.forEach((function(e){o[e]=u.fillWith(l[e],i)})),Object.defineProperty(i,t,{value:o})}else Object.defineProperty(i,t,{value:u.fillWith(l,i)});else Object.defineProperty(i,t,{value:l})}else Object.defineProperty(i,t,{value:l})}})),i},t(e,[{key:"isDTO",get:function(){return!0}}]),e}());i._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonWithTransitionScale.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var t,n,c,i,l;return{setters:[function(o){t=o.inheritsLoose,n=o.createClass},function(o){c=o.cclegacy,i=o._decorator,l=o.Button}],execute:function(){var a;c._RF.push({},"87e22l1UmlHsruDkcYwYvWV","ButtonWithTransitionScale",void 0);var e=i.menu,r=i.ccclass;i.property,o("ButtonWithTransitionScale",r("ButtonWithTransitionScale")(a=e("core/ui/ButtonWithTransitionScale")(a=function(o){function c(){for(var t,n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(t=o.call.apply(o,[this].concat(c))||this)._duration=.1,t._zoomScale=.8,t._lockZoom=!1,t._zoomUpCalls=[],t._zoomBackCalls=[],t._touchMoveCall=null,t}t(c,o);var i=c.prototype;return i.onLoad=function(){this.transition=l.Transition.SCALE},i._onTouchMove=function(t){o.prototype._onTouchMove.call(this,t),this._touchMoveCall&&this._touchMoveCall()},i._zoomUp=function(){this._lockZoom||(this._lockZoom=!0,o.prototype._zoomUp.call(this),this._zoomUpCalls.forEach((function(o){return o()})))},i._zoomBack=function(){o.prototype._zoomBack.call(this),this._lockZoom=!1,this._zoomBackCalls.forEach((function(o){return o()}))},i.registerZoomUpCall=function(o){this._zoomUpCalls.push(o)},i.registerZoomBackCall=function(o){this._zoomBackCalls.push(o)},n(c,[{key:"touchMoveCall",set:function(o){this._touchMoveCall=o}}]),c}(l))||a)||a);c._RF.pop()}}}));

System.register("chunks:///_virtual/Chain.ts",["cc"],(function(n){var i;return{setters:[function(n){i=n.cclegacy}],execute:function(){i._RF.push({},"dcb1dzX1RhDN7hRUKCM+4L5","Chain",void 0);n("ChainType",function(n){return n.UNKNOWN="UNKNOWN",n.Mumbai="Mumbai",n}({})),n("ChainID",function(n){return n[n.Mumbai=80001]="Mumbai",n}({}));i._RF.pop()}}}));

System.register("chunks:///_virtual/constants.ts",["cc"],(function(t){var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){c._RF.push({},"049c1WCTTpMHIGDOSPT/ysX","constants",void 0);t("COMPONENT_EVENT_REGISTER_LIST_KEY","COMPONENT_EVENT_REGISTER_LIST_KEY"),t("MUD_DEV_CHAIN",31337);c._RF.pop()}}}));

System.register("chunks:///_virtual/ContentAdapter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameObject.ts"],(function(t){var e,n,i,o,r,c,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator,o=t.UITransform,r=t.screen,c=t.math},function(t){a=t.GameObject}],execute:function(){var h;n._RF.push({},"866be7hwxdN8Z72OFX/Tig3","ContentAdapter",void 0);var d=i.menu,s=i.ccclass;t("ContentAdapter",s("ContentAdapter")(h=d("game/core/layout/ContentAdapter")(h=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var i=n.prototype;return i.load=function(){this.updateNodeTransformSize(this.node)},i.updateNodeTransformSize=function(t){var e=t.getComponent(o),n=Math.min(r.windowSize.width/e.contentSize.width,r.windowSize.height/e.contentSize.height),i=e.contentSize.width*n,a=e.contentSize.height*n;e.contentSize=c.size(e.contentSize.width*(r.windowSize.width/i),e.contentSize.height*(r.windowSize.height/a))},n}(a))||h)||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/DataDecorators.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBus.ts","./IDataModel.ts"],(function(t){var e,n,a,r,i;return{setters:[function(t){e=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){a=t.cclegacy},function(t){r=t.eventBus},function(t){i=t.DataModelEvents}],execute:function(){a._RF.push({},"e2ac9H1vvtM7Y7TI+GgoCkq","DataDecorators",void 0);t("AfterDataLoad",(function(t,a,o){var c=o.value;o.value=e(n().mark((function t(){var e,a,o,s=arguments;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(e=s.length,a=new Array(e),o=0;o<e;o++)a[o]=s[o];return t.next=3,c.apply(this,a);case 3:r.emit(i.DATA_LOADED,this);case 4:case"end":return t.stop()}}),t,this)})))})),t("AfterDataSaved",(function(t,e,n){var a=n.value;n.value=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];a.apply(this,e),r.emit(i.DATA_SAVED,this)}})),t("AutoLockedAsync",(function(t,a,r){var i=r.value;r.value=e(n().mark((function t(){var e,a,r,o=arguments;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(e=o.length,a=new Array(e),r=0;r<e;r++)a[r]=o[r];if(!(this.lock instanceof Function)){t.next=12;break}if(this.isLocked){t.next=9;break}return this.lock(),t.next=6,i.apply(this,a);case 6:this.unlock(),t.next=10;break;case 9:console.log("auto lock async: click too frequently");case 10:t.next=14;break;case 12:return t.next=14,i.apply(this,a);case 14:case"end":return t.stop()}}),t,this)})))})),t("LockWithTime",(function(t,e){return void 0===t&&(t=.5),function(n,a,r){var i=r.value;r.value=function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];this.lockWithTime instanceof Function?this.isLockedWithTime(a,1e3*t)?e?e():console.log("lock with time: click too frequently"):(this.lockWithTime(a),i.apply(this,r)):i.apply(this,r)}}})),t("LockWithEvent",(function(t,e,n){return void 0===e&&(e=5),function(a,r,i){var o=i.value;i.value=function(){var a=this.isLockedWithEvent(t,r);if(a){var i=this.timeLengthLockedWithEvent(t,r);a=i<e}if(a)n?n():console.warn("lock with event: click too frequently");else{this.lockWithEvent(t,r);for(var c=arguments.length,s=new Array(c),u=0;u<c;u++)s[u]=arguments[u];o.apply(this,s)}}}})),t("AfterConfigDataLoad",(function(t,e,n){var a=n.value;n.value=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];a.apply(this,e),r.emit(i.CONFIG_DATA_LOAD_COMPLETE,this)}})),t("PropertyType",(function(t,e){return function(n,a){Object.defineProperty(n,"_"+a+"Type",{value:{cls:t,isMap:e}})}}));a._RF.pop()}}}));

System.register("chunks:///_virtual/DataModelBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts","./GameConfigManager.ts","./GameManager.ts","./DataDecorators.ts"],(function(t){var e,a,n,r,o,s,i,c,u,l,f,p,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,n=t.createClass,r=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){s=t.cclegacy,i=t.js},function(t){c=t.Singleton},function(t){u=t.GameConfigManager},function(t){l=t.gameManager},function(t){f=t.AfterConfigDataLoad,p=t.AfterDataLoad,g=t.AfterDataSaved}],execute:function(){var y;s._RF.push({},"b1135R3y/5FsaZN8HZPI7jz","DataModelBase",void 0);t("DataModelBase",(e((y=function(t){function e(){for(var e,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this)._data={},e._csvData=[],e}a(e,t);var s=e.prototype;return s.preload=function(){var t;if(""!==this.dataCacheKey){var e=null!=(t=this.defaultData)?t:{},a=this.storage.getItemSync(this.dataCacheKey,e);this.data=a instanceof Object?JSON.parse(JSON.stringify(a)):a}},s.getCsvData=function(){return this._csvData},s.csvFile=function(){return""},s.setCsvData=function(t){this._csvData=t||[]},s.loadCsv=function(t){if(t=t||this.csvFile(),!i.isString(t)||""===t)return[];var e=u.getInstance().getConfigFile(t);return e&&0!==e.length?e:[]},s.configLoaded=function(){var t=this.loadCsv();this.setCsvData(t)},s.clearData=function(){},s.unSerializeData=function(){return this.data},s.loadData=function(){var t=r(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s.saveData=function(){if(""!==this.dataCacheKey&&this.storage){var t=this.unSerializeData(),e=this.storage.getItemSync(this.dataCacheKey,null);if(null!==t||null!==e){var a=!0;if(t instanceof Object){var n=JSON.stringify(t);null!==e&&(a=!0),a&&(t=JSON.parse(n))}else null!==e&&(a=e!==t);a&&this.storage.setItemSync(this.dataCacheKey,t)}}},n(e,[{key:"data",get:function(){var t;return null!=(t=this._data)?t:{}},set:function(t){this._data=t}},{key:"dataCacheKey",get:function(){return""}},{key:"defaultData",get:function(){return null}},{key:"storage",get:function(){return l.storage?l.storage.driver:null}}]),e}(c)).prototype,"preload",[f],Object.getOwnPropertyDescriptor(y.prototype,"preload"),y.prototype),e(y.prototype,"loadData",[p],Object.getOwnPropertyDescriptor(y.prototype,"loadData"),y.prototype),e(y.prototype,"saveData",[g],Object.getOwnPropertyDescriptor(y.prototype,"saveData"),y.prototype),y));s._RF.pop()}}}));

System.register("chunks:///_virtual/DataRegister.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"e7042Oyd6ZAFYp67cqP1VVL","DataRegister",void 0);var a=[];e("registerDataModel",(function(e){a.push(e)})),e("dataModels",a);t._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/Defines.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){t._RF.push({},"2283a+4plNArKZd9zdY2S+D","Defines",void 0);i("ViewParams",(function(){this.uuid=void 0,this.prefabPath=void 0,this.params=void 0,this.callbacks=void 0,this.valid=!0,this.node=null,this.preloaded=!1}));t._RF.pop()}}}));

System.register("chunks:///_virtual/DelegateComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameObject.ts"],(function(e){var o,n,t,a;return{setters:[function(e){o=e.inheritsLoose},function(e){n=e.cclegacy,t=e._decorator},function(e){a=e.GameObject}],execute:function(){var s;n._RF.push({},"1b776hCOe9HepFBiI2PdXGX","DelegateComponent",void 0);var c=t.ccclass,i=t.menu;e("DelegateComponent",c("DelegateComponent")(s=i("core/layout/DelegateComponent")(s=function(e){function n(){for(var o,n=arguments.length,t=new Array(n),a=0;a<n;a++)t[a]=arguments[a];return(o=e.call.apply(e,[this].concat(t))||this).viewParams=null,o}o(n,e);var t=n.prototype;return t.add=function(){var e=this.viewParams;this.applyComponentsFunction(this.node,"onAdded",e.params),"function"==typeof e.callbacks.onAdded&&e.callbacks.onAdded(this.node,e.params)},t.remove=function(e){var o=this,n=this.viewParams;n.valid&&(this.applyComponentsFunction(this.node,"onBeforeRemove",n.params),"function"==typeof n.callbacks.onBeforeRemove?n.callbacks.onBeforeRemove(this.node,(function(){o.removed(n,e)})):this.removed(n,e))},t.removed=function(e,o){e.valid=!1,"function"==typeof e.callbacks.onRemoved&&e.callbacks.onRemoved(this.node,e.params),o?this.node.destroy():this.node.removeFromParent()},t.dealloc=function(){var e=this.viewParams;this.applyComponentsFunction(this.node,"onRemoved",e.params),"function"==typeof e.callbacks.onRemoved&&e.callbacks.onRemoved(this.node,e.params),this.viewParams=null},t.applyComponentsFunction=function(e,o,n){for(var t=0;t<e.components.length;t++){var a=e.components[t],s=a[o];s&&s.call(a,n)}},n}(a))||s)||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/EncryptUtil.ts",["cc"],(function(r){var t;return{setters:[function(r){t=r.cclegacy}],execute:function(){t._RF.push({},"791d5omT1hA+Z4U27tUsGxN","EncryptUtil",void 0);r("EncryptUtil",function(){function r(){}return r.md5=function(r){var t=function(r,t){return r<<t|r>>>32-t},n=function(r,t){var n,e,o,u,i;return o=2147483648&r,u=2147483648&t,i=(1073741823&r)+(1073741823&t),(n=1073741824&r)&(e=1073741824&t)?2147483648^i^o^u:n|e?1073741824&i?3221225472^i^o^u:1073741824^i^o^u:i^o^u},e=function(r,e,o,u,i,c,f){return r=n(r,n(n(function(r,t,n){return r&t|~r&n}(e,o,u),i),f)),n(t(r,c),e)},o=function(r,e,o,u,i,c,f){return r=n(r,n(n(function(r,t,n){return r&n|t&~n}(e,o,u),i),f)),n(t(r,c),e)},u=function(r,e,o,u,i,c,f){return r=n(r,n(n(function(r,t,n){return r^t^n}(e,o,u),i),f)),n(t(r,c),e)},i=function(r,e,o,u,i,c,f){return r=n(r,n(n(function(r,t,n){return t^(r|~n)}(e,o,u),i),f)),n(t(r,c),e)},c=function(r){for(var t,n=r.length,e=n+8,o=16*((e-e%64)/64+1),u=Array(o-1),i=0,c=0;c<n;)i=c%4*8,u[t=(c-c%4)/4]=u[t]|r.charCodeAt(c)<<i,c++;return i=c%4*8,u[t=(c-c%4)/4]=u[t]|128<<i,u[o-2]=n<<3,u[o-1]=n>>>29,u},f=function(r){var t,n="",e="";for(t=0;t<=3;t++)n+=(e="0"+(r>>>8*t&255).toString(16)).substr(e.length-2,2);return n},a=function(r){r=r.toString().replace(/\x0d\x0a/g,"\n");for(var t="",n=0;n<r.length;n++){var e=r.charCodeAt(n);e<128?t+=String.fromCharCode(e):e>127&&e<2048?(t+=String.fromCharCode(e>>6|192),t+=String.fromCharCode(63&e|128)):(t+=String.fromCharCode(e>>12|224),t+=String.fromCharCode(e>>6&63|128),t+=String.fromCharCode(63&e|128))}return t};return function(r){var t,h,d,C,g,l,s,m,v,y=Array();for(r=a(r),y=c(r),l=1732584193,s=4023233417,m=2562383102,v=271733878,t=0;t<y.length;t+=16)h=l,d=s,C=m,g=v,l=e(l,s,m,v,y[t+0],7,3614090360),v=e(v,l,s,m,y[t+1],12,3905402710),m=e(m,v,l,s,y[t+2],17,606105819),s=e(s,m,v,l,y[t+3],22,3250441966),l=e(l,s,m,v,y[t+4],7,4118548399),v=e(v,l,s,m,y[t+5],12,1200080426),m=e(m,v,l,s,y[t+6],17,2821735955),s=e(s,m,v,l,y[t+7],22,4249261313),l=e(l,s,m,v,y[t+8],7,1770035416),v=e(v,l,s,m,y[t+9],12,2336552879),m=e(m,v,l,s,y[t+10],17,4294925233),s=e(s,m,v,l,y[t+11],22,2304563134),l=e(l,s,m,v,y[t+12],7,1804603682),v=e(v,l,s,m,y[t+13],12,4254626195),m=e(m,v,l,s,y[t+14],17,2792965006),s=e(s,m,v,l,y[t+15],22,1236535329),l=o(l,s,m,v,y[t+1],5,4129170786),v=o(v,l,s,m,y[t+6],9,3225465664),m=o(m,v,l,s,y[t+11],14,643717713),s=o(s,m,v,l,y[t+0],20,3921069994),l=o(l,s,m,v,y[t+5],5,3593408605),v=o(v,l,s,m,y[t+10],9,38016083),m=o(m,v,l,s,y[t+15],14,3634488961),s=o(s,m,v,l,y[t+4],20,3889429448),l=o(l,s,m,v,y[t+9],5,568446438),v=o(v,l,s,m,y[t+14],9,3275163606),m=o(m,v,l,s,y[t+3],14,4107603335),s=o(s,m,v,l,y[t+8],20,1163531501),l=o(l,s,m,v,y[t+13],5,2850285829),v=o(v,l,s,m,y[t+2],9,4243563512),m=o(m,v,l,s,y[t+7],14,1735328473),s=o(s,m,v,l,y[t+12],20,2368359562),l=u(l,s,m,v,y[t+5],4,4294588738),v=u(v,l,s,m,y[t+8],11,2272392833),m=u(m,v,l,s,y[t+11],16,1839030562),s=u(s,m,v,l,y[t+14],23,4259657740),l=u(l,s,m,v,y[t+1],4,2763975236),v=u(v,l,s,m,y[t+4],11,1272893353),m=u(m,v,l,s,y[t+7],16,4139469664),s=u(s,m,v,l,y[t+10],23,3200236656),l=u(l,s,m,v,y[t+13],4,681279174),v=u(v,l,s,m,y[t+0],11,3936430074),m=u(m,v,l,s,y[t+3],16,3572445317),s=u(s,m,v,l,y[t+6],23,76029189),l=u(l,s,m,v,y[t+9],4,3654602809),v=u(v,l,s,m,y[t+12],11,3873151461),m=u(m,v,l,s,y[t+15],16,530742520),s=u(s,m,v,l,y[t+2],23,3299628645),l=i(l,s,m,v,y[t+0],6,4096336452),v=i(v,l,s,m,y[t+7],10,1126891415),m=i(m,v,l,s,y[t+14],15,2878612391),s=i(s,m,v,l,y[t+5],21,4237533241),l=i(l,s,m,v,y[t+12],6,1700485571),v=i(v,l,s,m,y[t+3],10,2399980690),m=i(m,v,l,s,y[t+10],15,4293915773),s=i(s,m,v,l,y[t+1],21,2240044497),l=i(l,s,m,v,y[t+8],6,1873313359),v=i(v,l,s,m,y[t+15],10,4264355552),m=i(m,v,l,s,y[t+6],15,2734768916),s=i(s,m,v,l,y[t+13],21,1309151649),l=i(l,s,m,v,y[t+4],6,4149444226),v=i(v,l,s,m,y[t+11],10,3174756917),m=i(m,v,l,s,y[t+2],15,718787259),s=i(s,m,v,l,y[t+9],21,3951481745),l=n(l,h),s=n(s,d),m=n(m,C),v=n(v,g);return(f(l)+f(s)+f(m)+f(v)).toLowerCase()}(r)},r.encryptWithKey=function(r,t,n){for(var e=this.md5(null!=n?n:"salt"),o=this.md5(""+this.md5(t)+e),u="",i=0;i<r.length;i++)u+=String.fromCharCode(r.charCodeAt(i)^o.charCodeAt(i%t.length));return u},r.decryptWithKey=function(r,t,n){for(var e=this.md5(null!=n?n:"salt"),o=this.md5(""+this.md5(t)+e),u="",i=0;i<r.length;i++)u+=String.fromCharCode(r.charCodeAt(i)^o.charCodeAt(i%t.length));return u},r}());t._RF.pop()}}}));

System.register("chunks:///_virtual/Engine.ts",["cc","./StateMachineManager.ts","./Language.ts","./LayerManager.ts","./AudioManager.ts","./GameManager.ts","./TimerManager.ts","./Storage.ts"],(function(e){var n,t,a,i,r,o,s,u;return{setters:[function(e){n=e.cclegacy},function(e){t=e.stateMachine},function(e){a=e.language},function(e){i=e.LayerManager},function(e){r=e.AudioManager},function(e){o=e.gameManager},function(e){s=e.TimerManager},function(e){u=e.storage}],execute:function(){n._RF.push({},"f2942JbSMVDooIAGAWFmIFK","Engine",void 0);e("Engine",function(){function e(){}var n=e.prototype;return n.init=function(e){return o.setGameId(e.gameId),u.initDriver(e.cacheVersion),o.setRootNode(e.node),o.setI18n(a),o.setTimer(new s(e)),o.setGui(new i(e.guiNode)),o.setCanvas(e.gameCanvas),o.setCamera(e.gameCamera),o.setStorage(u),o.setAudioManager(r.instance),this},n.start=function(){t.start()},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/Ethers.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts","./ParticleEngine.ts"],(function(e){var r,t,n,i,o,s,c;return{setters:[function(e){r=e.inheritsLoose,t=e.createClass,n=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){o=e.cclegacy},function(e){s=e.Singleton},function(e){c=e.particleEngine}],execute:function(){o._RF.push({},"bd068WFLzpGVJUjbbZH7zUp","Ethers",void 0);var u=e("ethers",globalThis.ethers),a=e("Ethers",function(e){function o(){for(var r,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(r=e.call.apply(e,[this].concat(n))||this)._provider=null,r}r(o,e);var s=o.prototype;return s.getSigner=function(){var e=n(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.getSigner();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.createWallet=function(e,r){return new u.BrowserProvider(e,r)},t(o,[{key:"provider",get:function(){return this._provider?this._provider:new u.BrowserProvider(c.particleProvider)}}]),o}(s));e("ethersIns",a.getInstance());o._RF.pop()}}}));

System.register("chunks:///_virtual/EventBus.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t.Node}],execute:function(){n._RF.push({},"fad012Sm7xBCbtQuYGnoJcs","EventBus",void 0);var i=t("EventBus",function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this)._events=[],e}e(n,t),n.instance=function(){return null===n._instance&&(n._instance=new n),n._instance};var r=n.prototype;return r.isGameEvent=function(t){return null!=t&&t.split(".").length>1},r._addEvent=function(t,e,n,r){return!this._events.find((function(e){return e.event===t&&e.target===n}))&&(this._events.push({target:n,event:t,callback:e,useCapture:r}),!0)},r.offAllEventsOfTarget=function(t){var e=this,n=this._events.filter((function(n){var r=n.target!==t;return r||e.off(n.event),r}));this._events=null!=n?n:[]},r.on=function(e,n,r,i){if(this.isGameEvent(e)){var s=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];r&&r.isBindMessageActive?r.isValid&&(r.node?r.node.active&&n.call.apply(n,[r].concat(e)):n.call.apply(n,[r].concat(e))):n.call.apply(n,[r].concat(e))};if(!this._addEvent(e,s,r,i))return;t.prototype.on.call(this,e,s,r,i)}else t.prototype.on.call(this,e,n,r,i)},r.off=function(e,n,r,i){if(this.isGameEvent(e)){var s,a=this._events.find((function(t){return t.event===e&&t.target===r}));if(!a)return;t.prototype.off.call(this,a.event,a.callback,a.target,a.useCapture),this._events=null!=(s=this._events.filter((function(t){return t.event!==e})))?s:[]}else t.prototype.off.call(this,e,n,r,i)},n}(r));i._instance=null;t("createEvent",(function(t,e,n,r){return{event:t,listener:e,target:r,subscriber:n}})),t("eventBus",i.instance());n._RF.pop()}}}));

System.register("chunks:///_virtual/FsmState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBus.ts","./Singleton.ts","./FsmStateEvents.ts","./SceneState.ts"],(function(t){var n,e,i,s,u,o,r,c;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){i=t.cclegacy},function(t){s=t.eventBus},function(t){u=t.Singleton},function(t){o=t.FsmStateEvents,r=t.FsmStateEventData},function(t){c=t.SceneState}],execute:function(){i._RF.push({},"d9266l2H2JDoJRbkchcImKZ","FsmState",void 0);t("FsmState",function(t){function i(n,e){var i;return(i=t.call(this)||this)._isRunning=!1,i._stateName=null,i._pipes=[],i._owner=null,i._stateName=n,i._owner=e||null,i.init(),i}n(i,t);var u=i.prototype;return u.init=function(){},u.setOwner=function(t){return this._owner=t,this},u.enter=function(t){this._isRunning=!0,this.onEnter(t),s.emit(o.STATE_ENTER,r.create(this.stateName),this)},u.exit=function(){this._isRunning=!1,this.onExit(),s.emit(o.STATE_EXIT,r.create(this.stateName),this)},u.checkTransaction=function(){for(var t=0;t<this._pipes.length;t++){var n=this._pipes[t];if(n.condition&&(n.executor?n.condition.apply(n.executor):n.condition()))return n.target}return c.NONE},u.addPipe=function(t){this._pipes.find((function(n){return n.uuid===t.uuid}))||this._pipes.push(t)},e(i,[{key:"stateName",get:function(){return this._stateName}}]),i}(u));i._RF.pop()}}}));

System.register("chunks:///_virtual/FsmStateEvents.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SceneState.ts"],(function(t){var e,n,s;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){s=t.SceneState}],execute:function(){n._RF.push({},"73950MUn7lBq7l9rjJsuTcy","FsmStateEvents",void 0);t("FsmStateEventData",function(){function t(t){if(this._stateName=s.NONE,!t)throw new Error("stateName is null");this._stateName=t}return t.create=function(e){return new t(e)},e(t,[{key:"stateName",get:function(){return this._stateName}}]),t}()),t("FsmStateEvents",function(t){return t.STATE_ENTER="FsmStateEvents.STATE_ENTER",t.STATE_EXIT="FsmStateEvents.STATE_EXIT",t}({}));n._RF.pop()}}}));

System.register("chunks:///_virtual/Game.ts",["cc"],(function(e){var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"cb7e4RYXtxCuJvsOdDG8/uG","Game",void 0);e("GAME_ID",666666),e("VERSION",{version:"0.0.1",buildVersion:"2023-11-15.1",cacheVersion:"2023-11-15",dataVersion:"2023-11-15.1"});c._RF.pop()}}}));

System.register("chunks:///_virtual/GameConfigManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts","./Language.ts"],(function(n){var t,e,a,i;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy},function(n){a=n.Singleton},function(n){i=n.language}],execute:function(){e._RF.push({},"ec3defvgURPg7/8KBwYnJ18","GameConfigManager",void 0);n("GameConfigManager",function(n){function e(){for(var t,e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return(t=n.call.apply(n,[this].concat(a))||this)._data=new Map,t}t(e,n);var a=e.prototype;return a.setConfigs=function(n){var t=n;this._data=Object.freeze(t),this._data.get("language")&&i.setLangData(this._data.get("language"))},a.getConfigFile=function(n){return this._data.get(n)},e}(a));e._RF.pop()}}}));

System.register("chunks:///_virtual/GameEventBaseDTO.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBus.ts"],(function(e){var t,n,r,c,s,a;return{setters:[function(e){t=e.createClass,n=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){c=e.cclegacy,s=e.assert},function(e){a=e.eventBus}],execute:function(){c._RF.push({},"8a503H8R4xANZUKSjllTtT1","GameEventBaseDTO",void 0),e("GameEventBaseDTO",function(){function e(){}var c=e.prototype;return c.exec=function(){var e=n(r().mark((function e(t,n,c,s,a){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n,r,c,s){return e.apply(this,arguments)}}(),c.execAsync=function(){var e=n(r().mark((function e(t,n,c,s,u){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.exec(t,n,c,s,u);case 3:a.emit(this.subject+"_await",t,n,c,s,u),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("reject event",this.subject,e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t,n,r,c,s){return e.apply(this,arguments)}}(),t(e,[{key:"subject",get:function(){return s(!1,"GameEventBaseDTO.subject not implemented"),e.event}}],[{key:"eventAsync",get:function(){return this.event+"_await"}}]),e}()).event="core.game.event.base",c._RF.pop()}}}));

System.register("chunks:///_virtual/GameEventGameLaunch.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEventBaseDTO.ts"],(function(e){var n,t,a;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy},function(e){a=e.GameEventBaseDTO}],execute:function(){t._RF.push({},"4b0f0QPdhRCe5yXeARCbAyR","GameEventGameLaunch",void 0),e("GameEventGameLaunch",function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t}(a)).event="logic.game.event.game_launch",t._RF.pop()}}}));

System.register("chunks:///_virtual/GameEventGameOver.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEventBaseDTO.ts"],(function(e){var t,n,r;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){r=e.GameEventBaseDTO}],execute:function(){n._RF.push({},"1f018wxji9LZZxt1ZQtSPU8","GameEventGameOver",void 0),e("GameEventGameOver",function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n}(r)).event="logic.game.event.game_over",n._RF.pop()}}}));

System.register("chunks:///_virtual/GameEventGameRestart.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEventBaseDTO.ts"],(function(e){var t,n,s;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){s=e.GameEventBaseDTO}],execute:function(){n._RF.push({},"d399dKplbpPS6sEZsenfhnG","GameEventGameRestart",void 0),e("GameEventGameRestart",function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n}(s)).event="logic.game.event.game_restart",n._RF.pop()}}}));

System.register("chunks:///_virtual/GameEventGameStart.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEventBaseDTO.ts"],(function(e){var t,n,a;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){a=e.GameEventBaseDTO}],execute:function(){n._RF.push({},"50fd5s7rFhAI5wElwwTkTwg","GameEventGameStart",void 0),e("GameEventGameStart",function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n}(a)).event="logic.game.event.game_start",n._RF.pop()}}}));

System.register("chunks:///_virtual/GameEventListenerManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBus.ts","./MainLoopUpdater.ts","./Singleton.ts"],(function(e){var t,n,i,a,s;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){i=e.eventBus},function(e){a=e.mainLoopUpdater},function(e){s=e.Singleton}],execute:function(){n._RF.push({},"28aecQbi01MhYeHd9bAu1Ua","GameEventListenerManager",void 0);var r=e("GameEventListenerManager",function(e){function n(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this)._eventsQueue=[],t}t(n,e);var s=n.prototype;return s.initialize=function(){this.addListeners([]),a.registerUpdater(this)},s.addListeners=function(e){var t=this;e.forEach((function(e){return t.addListener(e)}))},s.addListener=function(e){i.on(e.subject,e.execAsync,e)},s.update=function(e){if(0!==this._eventsQueue.length){var t=this._eventsQueue.shift();i.emit.apply(i,[t.event].concat(t.data))}},s.addEventToQueue=function(e,t){this._eventsQueue.push({event:e,data:t})},n}(s));e("gameEventListenerManager",r.getInstance());n._RF.pop()}}}));

System.register("chunks:///_virtual/GameEventLoginComplete.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEventBaseDTO.ts"],(function(e){var t,n,o;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){o=e.GameEventBaseDTO}],execute:function(){n._RF.push({},"c2f3b5ux9ZFmYgkTGyHsXhE","GameEventLoginComplete",void 0),e("GameEventLoginComplete",function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n}(o)).event="logic.game.event.login_complete",n._RF.pop()}}}));

System.register("chunks:///_virtual/GameEventMudComponentUpdated.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEventBaseDTO.ts"],(function(e){var t,n,o;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){o=e.GameEventBaseDTO}],execute:function(){n._RF.push({},"68d21VQ8jFLIrj7bErHlC80","GameEventMudComponentUpdated",void 0),e("GameEventMudComponentUpdated",function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n}(o)).event="logic.game.event.mud.component.updated",n._RF.pop()}}}));

System.register("chunks:///_virtual/GameEventResourceLoading.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEventBaseDTO.ts"],(function(e){var n,t,o;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy},function(e){o=e.GameEventBaseDTO}],execute:function(){t._RF.push({},"0ec8c+m6xBLGrDKWaId50KQ","GameEventResourceLoading",void 0),e("GameEventResourceLoading",function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t}(o)).event="logic.game.event.resource_loading",t._RF.pop()}}}));

System.register("chunks:///_virtual/GameEventWalletChainChanged.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEventBaseDTO.ts"],(function(e){var n,t,a;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy},function(e){a=e.GameEventBaseDTO}],execute:function(){t._RF.push({},"ec7dcz5T/9G5JFfrxVENAI8","GameEventWalletChainChanged",void 0),e("GameEventWalletChainChanged",function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t}(a)).event="logic.game.event.wallet_chain_changed",t._RF.pop()}}}));

System.register("chunks:///_virtual/GameEventWalletConnected.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEventBaseDTO.ts"],(function(e){var t,n,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){c=e.GameEventBaseDTO}],execute:function(){n._RF.push({},"d2c2233dNROE44cquMpUINs","GameEventWalletConnected",void 0),e("GameEventWalletConnected",function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n}(c)).event="logic.game.event.wallet_connected",n._RF.pop()}}}));

System.register("chunks:///_virtual/GameEventWalletDisconnected.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEventBaseDTO.ts"],(function(e){var t,n,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){c=e.GameEventBaseDTO}],execute:function(){n._RF.push({},"ea2bawaiURNlJWQwbODH22r","GameEventWalletDisconnected",void 0),e("GameEventWalletDisconnected",function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n}(c)).event="logic.game.event.wallet_disconnected",n._RF.pop()}}}));

System.register("chunks:///_virtual/GameFmsBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FsmState.ts","./TransactionPipe.ts"],(function(t){var e,n,i,o,r,s;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){o=t.cclegacy},function(t){r=t.FsmState},function(t){s=t.TransactionPipe}],execute:function(){o._RF.push({},"a96cfbOp7hB+pctGkeAFVjk","GameFmsBase",void 0);t("GameFsmBase",function(t){function o(e,n){var i;return(i=t.call(this,e,n)||this)._stateCompleted=!1,i}e(o,t);var r=o.prototype;return r.init=function(){var t=new s(this.nextState,this.toNextState,this);this.addPipe(t)},r.toNextState=function(){return this._stateCompleted},r.updateComplete=function(){this._stateCompleted=!0},r.onEnter=function(){var t=n(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),r.onExit=function(){},r.tick=function(){},o}(r));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBus.ts","./GameEventGameOver.ts","./GameEventGameRestart.ts","./GameEventGameStart.ts"],(function(t){var e,n,r,a,i,o,u,s,c,g;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){r=t.cclegacy,a=t.error,i=t.director,o=t.Component},function(t){u=t.eventBus},function(t){s=t.GameEventGameOver},function(t){c=t.GameEventGameRestart},function(t){g=t.GameEventGameStart}],execute:function(){r._RF.push({},"f4d0fL8yQJLhoVpiSQYXrxT","GameManager",void 0);var m=t("GameManager",function(t){function r(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this)._rootNode=null,e._gui=null,e._canvas=null,e._i18n=null,e._timer=null,e._storage=null,e._audioMgr=null,e._camera=null,e._gameId=0,e}e(r,t);var o=r.prototype;return o.setGameId=function(t){this._gameId=t},o.setRootNode=function(t){t?(this._rootNode=t,i.addPersistRootNode(this._rootNode)):a("GameManager.setRootNode node is null")},o.setGui=function(t){this._gui=t},o.setCanvas=function(t){this._canvas=t},o.setCamera=function(t){this._camera=t},o.setI18n=function(t){this._i18n=t},o.setTimer=function(t){this._timer=t},o.setStorage=function(t){this._storage=t},o.setAudioManager=function(t){this._audioMgr=t},o.getAudioManager=function(){return this._audioMgr},o.getName=function(){return r.toString()},o.gameStart=function(){u.emit(g.event)},o.gameOver=function(){u.emit(s.event)},o.gameRestart=function(){u.emit(c.event)},n(r,[{key:"persistRootNode",get:function(){return this._rootNode}},{key:"gui",get:function(){return this._gui}},{key:"i18n",get:function(){return this._i18n}},{key:"timer",get:function(){return this._timer}},{key:"gameId",get:function(){return this._gameId}},{key:"storage",get:function(){return this._storage}},{key:"canvas",get:function(){return this._canvas}},{key:"camera",get:function(){return this._camera}}]),r}(o));t("gameManager",new m);r._RF.pop()}}}));

System.register("chunks:///_virtual/GameObject.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBus.ts","./constants.ts"],(function(t){var e,n,i,s,o,c,r,h;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){i=t.cclegacy,s=t.sys,o=t.Component},function(t){c=t.createEvent,r=t.eventBus},function(t){h=t.COMPONENT_EVENT_REGISTER_LIST_KEY}],execute:function(){i._RF.push({},"d3f557KWfhLLZN8Q6M1Alko","GameObject",void 0);t("GameObject",function(t){function i(){for(var e,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))||this)._isBindMessageActive=!0,e._autoRegisterEvents=!0,e._events=[],e._lock=!1,e._lockWithTimeMap=new Map,e._lockerWithEventMap=new Map,e}e(i,t),i.prefabName=function(){return""};var o=i.prototype;return o.events=function(){var t=this,e=Reflect.get(this,h)||[],n=[];return e.forEach((function(e){n.push(c(e.event,e.method.bind(t)))})),n},o.eventsOn=function(){var t=this;this._events.forEach((function(e){(e.subscriber?e.subscriber:r).on(e.event,e.listener,e.target?e.target:t)}))},o.eventsOff=function(){var t=this;this._events.forEach((function(e){return t.removeEvent(e)})),r.offAllEventsOfTarget(this)},o.addEvent=function(t){this._events.push(t),(t.subscriber?t.subscriber:r).on(t.event,t.listener,t.target?t.target:this)},o.removeEvent=function(t){var e=t.subscriber?t.subscriber:r;if(e===this||e===this.node){var n=t.target?t.target:this;e.off(t.event,t.listener,n)}},o.load=function(){},o.beforeDealloc=function(){},o.dealloc=function(){},o.beforeLoad=function(){},o.afterLoad=function(){},o.destroyComponent=function(t){var e=this.getComponent(t);e&&(e.destroy(),e=null)},o.bindMessageActive=function(){this._isBindMessageActive=!0},o.unbindMessageActive=function(){this._isBindMessageActive=!1},o.onLoad=function(){this._autoRegisterEvents&&(this._events=this.events(),this.eventsOn()),this.addUIStatus(),this.beforeLoad(),this.load(),this.afterLoad()},o.onDestroy=function(){this.eventsOff(),this.beforeDealloc(),this.dealloc(),this._lockWithTimeMap.clear(),this._lockerWithEventMap.clear()},o.addUIStatus=function(){},o.lock=function(){this._lock=!0},o.unlock=function(){this._lock=!1},o.isLockedWithTime=function(t,e){var n=this._lockWithTimeMap.get(t)||0;return s.now()-n<e},o.lockWithTime=function(t){this._lockWithTimeMap.set(t,s.now())},o.lockWithEventMethodKey=function(t){return this.uuid+"_"+t},o.lockWithEvent=function(t,e){var n=this._lockerWithEventMap.get(t)||[],i=this.lockWithEventMethodKey(e);n.push({methodName:i,lastLockTime:s.now()}),this._lockerWithEventMap.set(t,n),this.addEvent(c(t,this.unlockWithEvent.bind(this,t,e)))},o.unlockWithEvent=function(t,e){var n=this._events.find((function(e){return e.event===t}));n&&(this.removeEvent(n),this._events=this._events.filter((function(e){return e.event!==t})));var i=this._lockerWithEventMap.get(t)||[],s=this.lockWithEventMethodKey(e),o=i.findIndex((function(t){return t.methodName===s}));o>=0&&i.splice(o,1),this._lockerWithEventMap.set(t,i)},o.isLockedWithEvent=function(t,e){var n=this._lockerWithEventMap.get(t)||[],i=this.lockWithEventMethodKey(e);return n.findIndex((function(t){return t.methodName===i}))>=0},o.timeLengthLockedWithEvent=function(t,e){var n=this._lockerWithEventMap.get(t)||[],i=this.lockWithEventMethodKey(e),o=n.findIndex((function(t){return t.methodName===i}));return o>=0?(s.now()-n[o].lastLockTime)/1e3:9999999999},n(i,[{key:"ctx",get:function(){return globalThis}},{key:"isBindMessageActive",get:function(){return this._isBindMessageActive}},{key:"isLocked",get:function(){return this._lock}}]),i}(o));i._RF.pop()}}}));

System.register("chunks:///_virtual/GameStateGameOver.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameFmsBase.ts","./SceneState2.ts"],(function(e){var t,n,a,s,c;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){a=e.cclegacy},function(e){s=e.GameFsmBase},function(e){c=e.SceneState}],execute:function(){a._RF.push({},"c8b5126Lq1HyoOlGDFpFRKY","GameStateGameOver",void 0);var r=e("GameStateGameOver",function(e){function a(t){return e.call(this,c.GAME_OVER,t)||this}return t(a,e),n(a,[{key:"nextState",get:function(){return c.GAME_GAMING}}]),a}(s));e("stateGameOver",r.getInstance());a._RF.pop()}}}));

System.register("chunks:///_virtual/GameStateGaming.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameFmsBase.ts","./SceneState2.ts"],(function(t){var e,n,a,s,c;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){a=t.cclegacy},function(t){s=t.GameFsmBase},function(t){c=t.SceneState}],execute:function(){a._RF.push({},"b652aAEH3pGDYPrLtDJBtQq","GameStateGaming",void 0);var i=t("GameStateGaming",function(t){function a(e){return t.call(this,c.GAME_GAMING,e)||this}return e(a,t),n(a,[{key:"nextState",get:function(){return c.GAME_OVER}}]),a}(s));t("stateGaming",i.getInstance());a._RF.pop()}}}));

System.register("chunks:///_virtual/GameStateIdle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OnEventDecorator.ts","./GameUI.ts","./GameEventGameLaunch.ts","./GameManager.ts","./GameFmsBase.ts","./SceneState2.ts"],(function(e){var t,n,a,r,o,c,u,s,i,p,m,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.createClass,r=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){c=e.cclegacy},function(e){u=e.OnEvent},function(e){s=e.uiConfigs},function(e){i=e.GameEventGameLaunch},function(e){p=e.gameManager},function(e){m=e.GameFsmBase},function(e){f=e.SceneState}],execute:function(){var G,l;c._RF.push({},"dcca3CAAkVIML/2A0H1xAss","GameStateIdle",void 0);var h=e("GameStateIdle",(G=u(i.event),t((l=function(e){function t(t){return e.call(this,f.GAME_IDLE,t)||this}n(t,e);var c=t.prototype;return c.onGameLaunch=function(){this.updateComplete()},c.onExit=function(){var e=r(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.gui.init(s());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a(t,[{key:"nextState",get:function(){return f.GAME_INIT}}]),t}(m)).prototype,"onGameLaunch",[G],Object.getOwnPropertyDescriptor(l.prototype,"onGameLaunch"),l.prototype),l));e("stateGameIdle",h.getInstance());c._RF.pop()}}}));

System.register("chunks:///_virtual/GameStateInit.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBus.ts","./LayerHelper.ts","./GameManager.ts","./DataRegister.ts","./Login.ts","./Main.ts","./GameEventLoginComplete.ts","./MudEngine.ts","./ParticleEngine.ts","./GameFmsBase.ts","./SceneState2.ts","./Ethers.ts"],(function(e){var n,t,i,r,a,s,o,c,u,h,l,d,f,p,m,g,v;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass,i=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){a=e.cclegacy},function(e){s=e.eventBus},function(e){o=e.onAddedPromise},function(e){c=e.gameManager},function(e){u=e.dataModels},function(e){h=e.Login},function(e){l=e.Main},function(e){d=e.GameEventLoginComplete},function(e){f=e.mudEngine},function(e){p=e.particleEngine},function(e){m=e.GameFsmBase},function(e){g=e.SceneState},function(e){v=e.ethers}],execute:function(){a._RF.push({},"e2cd73AKP5I34S2IT/PyJ+9","GameStateInit",void 0);var _=e("GameStateGameInit",function(e){function a(n){var t;return(t=e.call(this,g.GAME_INIT,n)||this)._timeInterval=0,t._initialized=!1,t._engineLaunched=null,t}n(a,e);var m=a.prototype;return m.initTimeDelay=function(){this._timeInterval=c.timer.getLocalTime()},m.initGame=function(){var e=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._initialized=!0,e.next=3,this._loadDataModels();case 3:return e.next=5,this._loadResources();case 5:return e.next=7,p.init();case 7:return e.next=9,f.init();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),m.onLoginComplete=function(){var e=this,n=c.timer.getLocalTime()-this._timeInterval;n<1e3?this.scheduleOnce((function(){return e.updateComplete()}),Math.max(200,n)/1e3):this.updateComplete()},m.tick=function(){this.isEngineLaunched?this._initialized||this.initGame():(f.mud&&(this._engineLaunched.mud=!0),p.service&&(this._engineLaunched.particle=!0),v&&(this._engineLaunched.ethers=!0))},m.onEnter=function(){var e=i(r().mark((function e(){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.on(d.event,this.onLoginComplete,this),this.initTimeDelay(),this._engineLaunched={mud:!1,particle:!1,ethers:!1},e.next=5,o(h);case 5:(n=c.canvas.getComponentInChildren("StartScreen"))&&n.node&&n.node.destroy();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),m.onExit=function(){var e=i(r().mark((function e(){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.off(d.event,this.onLoginComplete,this),n=c.canvas.getComponentInChildren("StartScreen"),e.next=4,o(l);case 4:n&&n.node&&n.node.destroy(),h.remove();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),m._loadDataModels=function(){var e=i(r().mark((function e(){var n,t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<u.length)){e.next=10;break}if((t=u[n]).preload&&t.preload(),!t||!t.loadData){e.next=7;break}return e.next=7,t.loadData();case 7:n++,e.next=1;break;case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m._loadResources=function(){var e=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t(a,[{key:"nextState",get:function(){return g.GAME_GAMING}},{key:"isEngineLaunched",get:function(){return this._engineLaunched.mud&&this._engineLaunched.particle&&this._engineLaunched.ethers}}]),a}(m));e("stateGameInit",_.getInstance());a._RF.pop()}}}));

System.register("chunks:///_virtual/GameUI.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"e8887mXYF5PM5I0hLSwm9UO","GameUI",void 0);var u=[];t("uiConfigs",(function(){var t={};return u.forEach((function(n){n.layoutUUID&&n.UIConfig&&(t[n.layoutUUID()]=n.UIConfig)})),t})),t("registerLayout",(function(t){u.push(t)})),t("layouts",u);n._RF.pop()}}}));

System.register("chunks:///_virtual/IDataModel.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"b6b6eOH9Z9JaofUrajs2ntP","IDataModel",void 0);t("DataModelEvents",function(t){return t.DATA_LOADED="DataModelEvents.DATA_LOADED",t.CONFIG_DATA_LOAD_COMPLETE="DataModelEvents.CONFIG_DATA_LOAD_COMPLETE",t.DATA_SAVED="DataModelEvents.DATA_SAVED",t}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/IEnginePlugin.ts",["cc"],(function(){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"3dd81rhn2NJ07ZXqHhxNWw/","IEnginePlugin",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/IEvent.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"a86b5I41J5PzY/Gd+UV6lYX","IEvent",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/IGameEventListener.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"582b45gog5H5KTCqhXAGqim","IGameEventListener",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/ILayout.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"6495dlPUM5Inqh7P+a5ClVP","ILayout",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/IOnEventOptions.ts",["cc"],(function(){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"3c289uG8n5L0ZTQaSC329B4","IOnEventOptions",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/IState.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"54df0W/gdxGX7n3RZbTqeOL","IState",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/Language.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts"],(function(n){var t,e,a,u;return{setters:[function(n){t=n.inheritsLoose,e=n.createClass},function(n){a=n.cclegacy},function(n){u=n.Singleton}],execute:function(){a._RF.push({},"5de77UMwfNM8pNzziwucCMA","Language",void 0);n("LanguageEvent",function(n){return n.CHANGE="LanguageEvent.CHANGE",n.RELEASE_RES="LanguageEvent.RELEASE_RES",n}({}));var g=n("LanguageManager",function(n){function a(){var t;return(t=n.call(this)||this)._languageData=void 0,t._currentLang="",t._supportLanguages=["zh-CN","en"],t._hasInit=!1,t._currentLang=t.defaultLang,t}t(a,n);var u=a.prototype;return u.isExist=function(n){return this.languages.indexOf(n)>-1},u.setLangData=function(n){n&&(Object.keys(n).forEach((function(t){if("zh-CN"!==t){var e=n[t];Object.keys(e).forEach((function(n){return e[n]=e[n]?e[n].replace(/，/g,","):n}))}})),this.supportLanguages=Object.keys(n),this._languageData=Object.freeze(n),this._hasInit=!0)},u.setLanguage=function(n,t){n||(n=this.defaultLang),n=n.toLowerCase(),this.languages.indexOf(n)<0&&(n=this.defaultLang),n!==this._currentLang||t(!1)},u.getLang=function(n,t,e){var a,u,g,r=(null!=(a=this._languageData)?a:{})[this._currentLang],s=null!=(u=null!=(g=r?r[n]:e)?g:e)?u:n;t&&Object.keys(t).forEach((function(n){s=s.replace("{"+n+"}",t[n])}));return s},e(a,[{key:"defaultLang",get:function(){return"en"}},{key:"hasInit",get:function(){return this._hasInit}},{key:"supportLanguages",get:function(){return this._supportLanguages},set:function(n){this._supportLanguages=n}},{key:"currentLanguage",get:function(){return this._currentLang}},{key:"languages",get:function(){return this._supportLanguages}}]),a}(u));n("language",g.getInstance());a._RF.pop()}}}));

System.register("chunks:///_virtual/LayerDialog.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Defines.ts","./LayerPopup.ts"],(function(t){var e,i,n,u;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.ViewParams},function(t){u=t.LayerPopUp}],execute:function(){i._RF.push({},"7ab5e/EgoVJ6rQQtUD9B9AN","LayerDialog",void 0);t("LayerDialog",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),u=0;u<i;u++)n[u]=arguments[u];return(e=t.call.apply(t,[this].concat(n))||this).queue=[],e.current=void 0,e}e(i,t);var u=i.prototype;return u.add=function(t,e,i){var u=this,r=this.getUuid(t),s=this.ui_nodes.get(r);if(null==s){(s=new n).uuid=this.getUuid(t),s.prefabPath=t,s.params=e||{},s.callbacks=i||{};var o=s.callbacks.onRemoved;s.callbacks.onRemoved=function(t,e){o&&o(t,e),setTimeout((function(){u.next()}),0)},s.valid=!0,this.ui_nodes.set(s.uuid,s)}return this.current&&this.current.valid?this.queue.push(s):(this.current=s,this.load(s)),r},u.next=function(){this.queue.length>0&&(this.current=this.queue.shift(),this.current.node?this.createNode(null,this.current):this.load(this.current))},i}(u));i._RF.pop()}}}));

System.register("chunks:///_virtual/LayerHelper.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){e({onAddedPromise:function(e,n){return new Promise((function(n,o){e.open({onAdded:function(o){var r=o.getComponent(e.prefabName());n(r)}})}))},onRemovedPromise:function(e){return new Promise((function(n,o){e.open({onRemoved:function(){n()}})}))}}),n._RF.push({},"e32959lMxlE3pwodWUQXRk8","LayerHelper",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/LayerManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DelegateComponent.ts","./LayerDialog.ts","./LayerPopup.ts","./LayerUI.ts","./UIMap.ts"],(function(e){var a,i,t,r,o,s,n,l,p,h;return{setters:[function(e){a=e.createClass},function(e){i=e.cclegacy,t=e.warn,r=e.Node,o=e.Widget},function(e){s=e.DelegateComponent},function(e){n=e.LayerDialog},function(e){l=e.LayerPopUp},function(e){p=e.LayerUI},function(e){h=e.UIMap}],execute:function(){i._RF.push({},"f9c59Fy4ERJyLntGh9r4lvh","LayerManager",void 0);var u=e("LayerType",function(e){return e.UI="LayerUI",e.PopUp="LayerPopUp",e.Dialog="LayerDialog",e.Alert="LayerAlert",e.ForeGame="LayerForeGame",e}({}));e("LayerManager",function(){var e=i.prototype;function i(e){this.game=void 0,this.uiMap=void 0,this.ui=void 0,this.foreGame=void 0,this.popup=void 0,this.dialog=void 0,this.alert=void 0,this.configs={},this._root=null,this._root=e,this.game=new r("LayerGame");var a=this.game.addComponent(o);a.isAlignLeft=a.isAlignRight=a.isAlignTop=a.isAlignBottom=!0,a.left=a.right=a.top=a.bottom=0,a.alignMode=2,a.enabled=!0,this.ui=new p(u.UI),this.foreGame=new p(u.ForeGame),this.popup=new l(u.PopUp),this.dialog=new n(u.Dialog),this.alert=new n(u.Alert),e.addChild(this.game),e.addChild(this.ui),e.addChild(this.foreGame),e.addChild(this.popup),e.addChild(this.dialog),e.addChild(this.alert)}return e.init=function(e){this.configs=e},e.setConfig=function(e,a){this.configs[e]=a},e.setUIMap=function(e){null===this.uiMap&&(this.uiMap=new h),this.uiMap.init(this,e)},e.open=function(e,a,i){void 0===a&&(a=null);var r=this.configs[e];if(null!==r)switch(r.layer){case u.UI:this.ui.add(r.prefab,a,i);break;case u.ForeGame:this.foreGame.add(r.prefab,a,i);break;case u.PopUp:this.popup.add(r.prefab,a,i);break;case u.Dialog:this.dialog.add(r.prefab,a,i);break;case u.Alert:this.alert.add(r.prefab,a,i)}else t("open layer ["+e+"] failed")},e.has=function(e){var a=this.configs[e];if(null!==a){var i=!1;switch(a.layer){case u.UI:i=this.ui.has(a.prefab);break;case u.ForeGame:i=this.foreGame.has(a.prefab);break;case u.PopUp:i=this.popup.has(a.prefab);break;case u.Dialog:i=this.dialog.has(a.prefab);break;case u.Alert:i=this.alert.has(a.prefab)}return i}t("open layer ["+e+"] failed")},e.remove=function(e,a){void 0===a&&(a=!0);var i=this.configs[e];if(null!==i)switch(i.layer){case u.UI:this.ui.remove(i.prefab,a);break;case u.ForeGame:this.foreGame.remove(i.prefab,a);break;case u.PopUp:this.popup.remove(i.prefab,a);break;case u.Dialog:this.dialog.remove(i.prefab,a);break;case u.Alert:this.alert.remove(i.prefab,a)}else t("delete layer ["+e+"] failed")},e.getByPath=function(e,a){void 0===a&&(a=u.UI);var i=null;switch(a){case u.UI:i=this.ui.getByUuid(this.ui.getUuid(e));break;case u.ForeGame:i=this.foreGame.getByUuid(this.ui.getUuid(e));break;case u.PopUp:i=this.popup.getByUuid(this.popup.getUuid(e));break;case u.Dialog:i=this.dialog.getByUuid(this.dialog.getUuid(e));break;case u.Alert:i=this.alert.getByUuid(this.alert.getUuid(e))}return i},e.removeByNode=function(e,a){if(void 0===a&&(a=!1),e instanceof r){var i=e.getComponent(s);i&&i.viewParams?e.parent.removeByUuid(i.viewParams.uuid,a):(t("the node removed was not managed by layerManager"),e.destroy())}else;},e.clear=function(e){void 0===e&&(e=!1),this.ui.clear(e),this.clearAllPopUp(e),this.dialog.clear(e),this.alert.clear(e),this.foreGame.clear(e)},e.clearAllPopUp=function(e){void 0===e&&(e=!0),this.popup.clear(e)},a(i,[{key:"root",get:function(){return this._root}},{key:"uiLayer",get:function(){return this.ui}},{key:"popupLayer",get:function(){return this.popup}}]),i}());i._RF.pop()}}}));

System.register("chunks:///_virtual/LayerPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LayerUI.ts"],(function(t){var e,s,i,n,o,c;return{setters:[function(t){e=t.inheritsLoose,s=t.createClass},function(t){i=t.cclegacy,n=t.Layers,o=t.BlockInputEvents},function(t){c=t.LayerUI}],execute:function(){i._RF.push({},"c3795VmdRZEmaGzxnJLySlx","LayerPopup",void 0);t("LayerPopUp",function(t){function i(e){var s;return(s=t.call(this,e)||this).block=void 0,s.stack=new Map,s.init(),s}e(i,t);var c=i.prototype;return c.init=function(){this.layer=n.Enum.UI_2D,this.block=this.addComponent(o),this.block.enabled=!1},c.add=function(e,s,i){return this.stack.set(e,e),this.block.enabled=!0,t.prototype.add.call(this,e,s,i)},c.remove=function(e,s){t.prototype.remove.call(this,e,s),this.block.enabled=!1,this.stack.has(e)&&this.stack.delete(e)},c.removeByUuid=function(e,s){t.prototype.removeByUuid.call(this,e,s),this.block.enabled=!1,this.stack.has(e)&&this.stack.delete(e)},c.clear=function(e){t.prototype.clear.call(this,e),this.block.enabled=!1,this.stack.clear()},s(i,[{key:"isCleared",get:function(){return 0===this.stack.size}}]),i}(c));i._RF.pop()}}}));

System.register("chunks:///_virtual/LayerUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResLoader.ts","./Defines.ts","./DelegateComponent.ts"],(function(e){var t,n,i,a,r,o,d,u,s,l,v,c,f;return{setters:[function(e){t=e.inheritsLoose,n=e.createForOfIteratorHelperLoose},function(e){i=e.cclegacy,a=e.warn,r=e.error,o=e.instantiate,d=e.assetManager,u=e.isValid,s=e.Widget,l=e.Node},function(e){v=e.resLoader},function(e){c=e.ViewParams},function(e){f=e.DelegateComponent}],execute:function(){i._RF.push({},"eef23fWbBRGbKA7DWgzw4aw","LayerUI",void 0);e("LayerUI",function(e){function i(t){var n;(n=e.call(this,t)||this).ui_nodes=new Map;var i=n.addComponent(s);return i.isAlignLeft=i.isAlignRight=i.isAlignTop=i.isAlignBottom=!0,i.left=i.right=i.top=i.bottom=0,i.alignMode=2,i.enabled=!0,n}t(i,e);var l=i.prototype;return l.getUuid=function(e){return(this.name+"_"+e).replace(/\//g,"_")},l.add=function(e,t,n){var i=this.getUuid(e),r=this.ui_nodes.get(i);return r&&r.valid?(a("prefab ["+e+"] loaded duplicated: "+i),""):(r?r.preloaded&&(r.valid=!0,r.params=t||{},r.callbacks=n||{}):((r=new c).uuid=i,r.prefabPath=e,r.params=t||{},r.callbacks=n||{},r.valid=!0,this.ui_nodes.set(r.uuid,r)),this.load(r),i)},l.load=function(e){var t=this,n=this.ui_nodes.get(e.uuid);n&&n.node?this.createNode(null,n):v.load(e.prefabPath,(function(n,i){n&&r(n);var a=o(i);e.node=a,a.addComponent(f).viewParams=e,t.createNode(i,e)}))},l.createNode=function(e,t){t.valid=!0;var n=t.node,i=n.getComponent(f);return n.parent=this,i.add(),n},l.preload=function(e,t,n,i,a){var o=this.getUuid(e),u=this.ui_nodes.get(o),s=n?d.loadAny:d.preloadAny;u&&u.node?r("component ["+e+"] loaded complete"):u&&u.valid?r("component ["+e+"] loaded duplicated"):(u||((u=new c).uuid=o,u.prefabPath=e,u.preloaded=!0,u.valid=!1,this.ui_nodes.set(u.uuid,u)),s({path:u.prefabPath},t,(function(e,t,n){return i&&i(e,t,n)}),(function(e,t){return a&&a(e,t)})))},l.removeByUuid=function(e,t){var n=this.ui_nodes.get(e);if(n){t&&this.ui_nodes.delete(n.uuid);var i=n.node;(null==i?void 0:i.getComponent(f)).remove(t)}},l.remove=function(e,t){for(var n=this.__nodes(),i=0;i<n.length;i++){var a=n[i].viewParams;a.prefabPath===e&&(t&&this.ui_nodes.delete(a.uuid),this.ui_nodes.delete(a.uuid),n[i].remove(t),a.valid=!1)}},l.getByUuid=function(e){for(var t,i=this.__nodes(),a=n(i);!(t=a()).done;){var r=t.value;if(r.viewParams&&r.viewParams.uuid===e)return r.node}return null},l.get=function(e){for(var t,i=[],a=this.__nodes(),r=n(a);!(t=r()).done;){var o=t.value;o.viewParams.prefabPath===e&&i.push(o.node)}return i},l.has=function(e){for(var t,i=this.__nodes(),a=n(i);!(t=a()).done;){var r=t.value;if(r.viewParams.uuid===e||r.viewParams.prefabPath===e)return!0}return!1},l.find=function(e){for(var t,i=[],a=this.__nodes(),r=n(a);!(t=r()).done;){var o=t.value;e.test(o.viewParams.prefabPath)&&i.push(o.node)}return i},l.__nodes=function(){for(var e=[],t=this.children,n=0;n<t.length;n++){var i=t[n].getComponent(f);i&&i.viewParams&&i.viewParams.valid&&u(i)&&e.push(i)}return e},l.size=function(){return this.children.length},l.clear=function(e){var t=this;this.ui_nodes.forEach((function(n,i){t.removeByUuid(n.uuid,e),n.valid=!1})),this.ui_nodes.clear()},i}(l));i._RF.pop()}}}));

System.register("chunks:///_virtual/LayoutCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameObject.ts","./LayerManager.ts","./GameManager.ts","./GameUI.ts"],(function(e){var t,n,o,r,u,i,a,f;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){o=e.cclegacy,r=e.resources},function(e){u=e.GameObject},function(e){i=e.LayerType},function(e){a=e.gameManager},function(e){f=e.layouts}],execute:function(){o._RF.push({},"9ed4dvY8cZGSbIbBcC7y/w5","LayoutCom",void 0);e("LayoutCom",function(e){function o(){return e.apply(this,arguments)||this}return t(o,e),o.bundle=function(){return r.config.name},o.layoutPath=function(){return"common/prefab/"+this.prefabName().toLowerCase()},o.layer=function(){return i.UI},o.layoutUUID=function(){var e=this;return f.findIndex((function(t){return t.prefabName()===e.prefabName()}))},o.preload=function(e,t){a.gui.uiLayer.preload(this.layoutPath(),{bundle:this.bundle()},!0,e,t)},o.getNode=function(){return a.gui.getByPath(this.layoutPath(),this.layer())},o.getCom=function(){var e=this.getNode();if(!e)return null;var t=e.getComponent(this.prefabName());if(t)return t;var n=e.getChildByName("Canvas");return n?n.getComponent(this.prefabName()):null},o.open=function(e,t){var n=this;if(void 0===t&&(t=null),e){if(e&&!e.onBeforeRemove)e.onBeforeRemove=this.actionOnRemove;else if(e&&e.onBeforeRemove){var o=e.onBeforeRemove;e.onBeforeRemove=function(e,t){return o(e,(function(){return n.actionOnRemove(e,t)}))}}}else e={onBeforeRemove:this.actionOnRemove};a.gui.open(this.layoutUUID(),t,e)},o.remove=function(e){void 0===e&&(e=!0),a.gui.remove(this.layoutUUID(),e)},o.actionOnRemove=function(e,t){t&&t()},n(o,[{key:"titleNode",get:function(){return null}}],[{key:"UIConfig",get:function(){var e={layer:this.layer(),prefab:this.layoutPath()};return this.bundle()&&(e.bundle=this.bundle()),e}}]),o}(u));o._RF.pop()}}}));

System.register("chunks:///_virtual/LayoutDecorators.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LayerManager.ts","./PopUpManager.ts","./PopUpScaleIn.ts","./PopUpBounce.ts","./PanelSlideIn.ts"],(function(n){var t,e,o,r,i,u,c,p;return{setters:[function(n){t=n.inheritsLoose,e=n.createClass},function(n){o=n.cclegacy},function(n){r=n.LayerType},function(n){i=n.popUpManager},function(n){u=n.PopUpScaleIn},function(n){c=n.PopUpBounce},function(n){p=n.PanelSlideIn}],execute:function(){o._RF.push({},"3eb54ym8LxCtLS3BUp9Iclf","LayoutDecorators",void 0);n("PopUpDecorator",(function(n){return function(n){function e(){return n.apply(this,arguments)||this}return t(e,n),e.layer=function(){return r.PopUp},e.open=function(t,e){void 0===e&&(e=null),n.open.call(this,t,e)},e.remove=function(t){void 0===t&&(t=!0),n.remove.call(this,t),i.showOver()},e}(n)})),n("ScaleIn",(function(n){return function(n){function e(){return n.apply(this,arguments)||this}return t(e,n),e.actionOnRemove=function(n,t){var e=n.getComponent(u);e||(e=n.getComponentInChildren(u)),e?e.scaleOut(t):t&&t()},e}(n)})),n("BounceIn",(function(n,o){return void 0===n&&(n=.75),void 0===o&&(o=1.2),function(r){return function(r){function i(){return r.apply(this,arguments)||this}return t(i,r),i.prototype.beforeLoad=function(){r.prototype.beforeLoad.call(this);var t=this.bounceComponent;t&&(t.initScale=n,t.maxScale=o)},i.actionOnRemove=function(n,t){var e=n.getComponent(c);e||(e=n.getComponentInChildren(c)),e?e.bounceOut(t):t&&t()},e(i,[{key:"bounceComponent",get:function(){var n=this.node.getComponent(c);return n||(n=this.node.getComponentInChildren(c)),n}}]),i}(r)}})),n("SlideIn",(function(n){return function(n){function e(){return n.apply(this,arguments)||this}return t(e,n),e.actionOnRemove=function(n,t){var e=n.getComponent(p);e||(e=n.getComponentInChildren(p)),e?e.slideOut(t):t&&t()},e}(n)}));o._RF.pop()}}}));

System.register("chunks:///_virtual/Loading.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopUpLayout.ts","./LayerManager.ts","./Language.ts","./LayerHelper.ts","./GameUI.ts"],(function(t){var e,i,n,a,o,l,r,s,c,u,h,d,g,p,f,T,m,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.createClass,l=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){s=t.cclegacy,c=t._decorator,u=t.Sprite,h=t.Label,d=t.tween,g=t.Tween},function(t){p=t.PopUpLayout},function(t){f=t.LayerType},function(t){T=t.language},function(t){m=t.onAddedPromise},function(t){_=t.registerLayout}],execute:function(){var y,k,b,x,L,v,S,w,C,z;s._RF.push({},"3c6e30pXRxF2pSM822qhRLv","Loading",void 0);var P=c.menu,R=c.ccclass,D=c.integer,F=c.property,M=t("Loading",(y=R("Loading"),k=P("game/components/Loading"),b=F(u),x=F(h),y(L=k(((z=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))||this)._timeTickets=0,n(e,"loadingType",S,a(e)),n(e,"loadingSp",w,a(e)),n(e,"loadingTxt",C,a(e)),e._deadTime=-1,e._txt=null,e._autoClose=!1,e._callback=null,e}i(e,t),e.prefabName=function(){return"Loading"},e.layer=function(){return f.Dialog};var s=e.prototype;return s.load=function(){var t=this.loadingType;1===t?this.renderNormal():2===t&&this.renderWithLabel(),d(this.loadingSp.node).by(.15,{angle:-20}).repeatForever().start(),this.schedule(this.timeTick,1)},s.timeTick=function(){this._timeTickets++,this.loadingTxt.string=this.tipTxt,this._autoClose&&this._timeTickets>=this.deadTime&&this.close()},s.renderNormal=function(){this.loadingTxt.string=""},s.renderWithLabel=function(){this.loadingTxt.string=this.tipTxt,this.loadingTxt.node.active=!0},s.dealloc=function(){this._timeTickets=0,g.stopAllByTarget(this.loadingSp.node)},s.onClick=function(){this._timeTickets>=this.deadTime&&this.close()},s.close=function(){this.unschedule(this.timeTick),this._callback&&this._callback(),this._callback=null,e.remove()},e.open=function(e,i){void 0===i&&(i=null),this._callStack.push(1),this._callStack.length>1||t.open.call(this,e,i)},e.remove=function(e){void 0===e&&(e=!0),console.log("slsslsl",this._callStack.length),this._callStack.pop(),console.log("slsslsl22",this._callStack.length),this._callStack.length>0||t.remove.call(this,e)},e.autoLoading=function(){var t=l(r().mark((function t(i){var n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===i&&(i=null),t.next=3,m(e);case 3:return(n=t.sent).autoClose=!0,null!==i&&i>0&&(n.deadTime=i,n.loadingTxt.string=n.tipTxt),t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o(e,[{key:"deadTime",get:function(){return this._deadTime>0?this._deadTime:30},set:function(t){this._deadTime=t}},{key:"tipTxt",get:function(){return this._txt?this._txt:T.getLang("loading...({leftTime}s)",{leftTime:this.leftTime})},set:function(t){this._txt=t,this.loadingTxt.string=t}},{key:"leftTime",get:function(){return Math.max(this.deadTime-this._timeTickets,0)}},{key:"autoClose",set:function(t){this._autoClose=t}},{key:"callback",set:function(t){this._callback=t}}]),e}(p))._callStack=[],S=e((v=z).prototype,"loadingType",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),w=e(v.prototype,"loadingSp",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(v.prototype,"loadingTxt",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=v))||L)||L));_(M),s._RF.pop()}}}));

System.register("chunks:///_virtual/Login.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OnEventDecorator.ts","./LayerManager.ts","./Game.ts","./LayoutCom.ts","./GameUI.ts","./GameEventResourceLoading.ts","./ParticleEngine.ts","./GameEventWalletConnected.ts","./EventBus.ts","./GameEventLoginComplete.ts","./PlayerDTO.ts","./Toast.ts"],(function(e){var n,t,o,r,i,a,c,s,l,u,p,f,g,v,y,d,L,b,m,h,C;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized,i=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){c=e.cclegacy,s=e._decorator,l=e.Label},function(e){u=e.OnEvent},function(e){p=e.LayerType},function(e){f=e.VERSION},function(e){g=e.LayoutCom},function(e){v=e.registerLayout},function(e){y=e.GameEventResourceLoading},function(e){d=e.particleEngine},function(e){L=e.GameEventWalletConnected},function(e){b=e.eventBus},function(e){m=e.GameEventLoginComplete},function(e){h=e.PlayerDTO},function(e){C=e.Toast}],execute:function(){var E,w,G,P,D,O,T,x,W,k;c._RF.push({},"95b89TbVuJGnKL85usxbbCe","Login",void 0);var R=s.menu,z=s.ccclass,_=s.property,j=e("Login",(E=z("Login"),w=R("game/logic/components/Login"),G=_(l),P=_(l),D=u(y.event),O=u(L.event),E(T=w((W=n((x=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i))||this,o(n,"loadingLabel",W,r(n)),o(n,"versionLabel",k,r(n)),n}t(n,e),n.prefabName=function(){return"Login"},n.layer=function(){return p.Dialog};var c=n.prototype;return c.load=function(){var e=i(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.versionLabel.string="version: "+f.version+"."+f.buildVersion.split(".")[1],e.prev=1,e.next=4,d.service.isLoginAsync();case 4:(n=e.sent)&&this.onWalletConnected(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),c.updateProgress=function(e,n){if(this.loadingLabel){var t=Math.floor(e/n*100);this.loadingLabel.string="loading...."+t+"%"}},c.onWalletConnected=function(e){b.emit(m.event,h.fillWith(e))},c.onLoginClicked=function(){var e=i(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.service.login();case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),C.showTip("login failed: "+e.t0.message),console.log("login failed",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),n}(g)).prototype,"loadingLabel",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=n(x.prototype,"versionLabel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),n(x.prototype,"updateProgress",[D],Object.getOwnPropertyDescriptor(x.prototype,"updateProgress"),x.prototype),n(x.prototype,"onWalletConnected",[O],Object.getOwnPropertyDescriptor(x.prototype,"onWalletConnected"),x.prototype),T=x))||T)||T));v(j),c._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./PanelSlideIn.ts","./PopUpBounce.ts","./PopUpScaleIn.ts","./AudioEffect.ts","./AudioMusic.ts","./Engine.ts","./IEnginePlugin.ts","./Root.ts","./EventBus.ts","./GameEventBaseDTO.ts","./IEvent.ts","./IGameEventListener.ts","./constants.ts","./OnEventDecorator.ts","./IOnEventOptions.ts","./FsmState.ts","./FsmStateEvents.ts","./IState.ts","./SceneState.ts","./StateMachineManager.ts","./TransactionPipe.ts","./GameObject.ts","./GameUI.ts","./MainLoopUpdater.ts","./Singleton.ts","./GameEventGameLaunch.ts","./GameEventGameOver.ts","./GameEventGameRestart.ts","./GameEventGameStart.ts","./Language.ts","./ContentAdapter.ts","./Defines.ts","./DelegateComponent.ts","./ILayout.ts","./LayerDialog.ts","./LayerHelper.ts","./LayerManager.ts","./LayerPopup.ts","./LayerUI.ts","./LayoutDecorators.ts","./PopUpLayout.ts","./PopUpManager.ts","./UIMap.ts","./PopUpBounceIn.ts","./ResLoader.ts","./Resources.ts","./AudioManager.ts","./GameConfigManager.ts","./GameManager.ts","./TimerManager.ts","./BaseDTO.ts","./DataDecorators.ts","./DataModelBase.ts","./DataRegister.ts","./IDataModel.ts","./Storage.ts","./StorageDefault.ts","./StorageDriver.ts","./StorageDriverLocalStorage.ts","./StorageIndexDB.ts","./ButtonWithTransitionScale.ts","./RoundRectMask.ts","./ToastLayout.ts","./EncryptUtil.ts","./MathUtil.ts","./PromiseUtil.ts","./StringUtil.ts","./ViewUtil.ts","./app.ts","./Loading.ts","./Login.ts","./Main.ts","./StartScreen.ts","./Toast.ts","./Game.ts","./PlayerData.ts","./WalletModel.ts","./PlayerDTO.ts","./PlayerSecurityAccountDTO.ts","./WalletDTO.ts","./Audios.ts","./Chain.ts","./Prefabs.ts","./Textures.ts","./GameEventListenerManager.ts","./GameEventLoginComplete.ts","./GameEventMudComponentUpdated.ts","./GameEventResourceLoading.ts","./GameEventWalletChainChanged.ts","./GameEventWalletConnected.ts","./GameEventWalletDisconnected.ts","./GameFmsBase.ts","./GameStateGameOver.ts","./GameStateGaming.ts","./GameStateIdle.ts","./GameStateInit.ts","./SceneState2.ts","./LayoutCom.ts","./Ethers.ts","./MudEngine.ts","./WorldContract.ts","./ParticleEngine.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Main.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LayoutCom.ts","./GameUI.ts","./MudEngine.ts","./OnEventDecorator.ts","./GameEventMudComponentUpdated.ts"],(function(e){var n,t,o,r,a,i,u,c,s,l,p,d,f,y;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){u=e.cclegacy,c=e._decorator,s=e.Label},function(e){l=e.LayoutCom},function(e){p=e.registerLayout},function(e){d=e.mudEngine},function(e){f=e.OnEvent},function(e){y=e.GameEventMudComponentUpdated}],execute:function(){var v,g,m,C,b,L,M;u._RF.push({},"2f059Kcwa1LMZ1Awa0yIDXG","Main",void 0);var h=c.menu,G=c.ccclass,w=c.property,E=e("Main",(v=G("Main"),g=h("game/components/Layout/Main"),m=w(s),C=f(y.event),v(b=g((M=n((L=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return n=e.call.apply(e,[this].concat(a))||this,o(n,"goldCountLabel",M,r(n)),n}t(n,e),n.prefabName=function(){return"Main"};var u=n.prototype;return u.onExploreClicked=function(){var e=a(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.systemCalls.increment();case 2:console.log("begin seek treasure");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u.onGoldCountIncreased=function(e,n){var t;if("Counter"===e){var o=n.value,r=o[0];o[1];this.goldCountLabel.string="gold count: "+(null!=(t=null==r?void 0:r.value)?t:0)}},n}(l)).prototype,"goldCountLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),n(L.prototype,"onGoldCountIncreased",[C],Object.getOwnPropertyDescriptor(L.prototype,"onGoldCountIncreased"),L.prototype),b=L))||b)||b));p(E),u._RF.pop()}}}));

System.register("chunks:///_virtual/MainLoopUpdater.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts"],(function(t){var e,n,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.Singleton}],execute:function(){n._RF.push({},"8197cSDr91KIJ/buOiNfL84","MainLoopUpdater",void 0);var r=t("MainLoopUpdater",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this)._updaters=[],e._pausing=!1,e}e(n,t);var i=n.prototype;return i.pause=function(){this._pausing=!0},i.resume=function(){this._pausing=!1},i.registerUpdater=function(t){this.pause(),this._updaters.push(t),this.resume()},i.unregisterUpdater=function(t){this.pause(),this._updaters=this._updaters.filter((function(e){return e!==t})),this.resume()},i.update=function(t){this._pausing||0===this._updaters.length||this._updaters.forEach((function(e){return e.update(t)}))},n}(i));t("mainLoopUpdater",r.getInstance());n._RF.pop()}}}));

System.register("chunks:///_virtual/MathUtil.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"3428cMdM59COYmjLPFC7fSB","MathUtil",void 0);t("MathUtil",function(){function t(){}return t.uuidGen=function(t,n){var e,i,r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),u=[];if(n=n||r.length,t)for(e=0;e<t;e++)u[e]=r[0|Math.random()*n];else for(u[8]=u[13]=u[18]=u[23]="-",u[14]="4",e=0;e<36;e++)u[e]||(i=0|16*Math.random(),u[e]=r[19===e?3&i|8:i]);return u.join("")},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/MudEngine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBus.ts","./constants.ts","./Singleton.ts","./GameEventMudComponentUpdated.ts"],(function(n){var t,e,s,i,o,u,r,c,d;return{setters:[function(n){t=n.inheritsLoose,e=n.createClass,s=n.asyncToGenerator,i=n.regeneratorRuntime},function(n){o=n.cclegacy},function(n){u=n.eventBus},function(n){r=n.MUD_DEV_CHAIN},function(n){c=n.Singleton},function(n){d=n.GameEventMudComponentUpdated}],execute:function(){o._RF.push({},"66fdb6lIdxGXaRMLpO8bkvn","MudEngine",void 0);n("mudEngine",function(n){function o(){return n.apply(this,arguments)||this}t(o,n);var c=o.prototype;return c.init=function(){var n=s(i().mark((function n(t){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.mud.init(t);case 2:this.registerComponents(),this.mud.env.VITE_DEV&&console.log("mud init, version: "+this.mud.version+", world address: "+this.mud.network.worldAddress);case 4:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}(),c.registerComponents=function(){if(this.mud&&this.mud.components)for(var n=Object.keys(this.mud.components),t=0;t<n.length;t++){var e=n[t],s=this.mud.components[e];this.registerComponent(e,s)}},c.registerComponent=function(n,t){t&&null!=t&&t.update$&&t.update$.subscribe((function(t){u.emit(d.event,n,t)}))},e(o,[{key:"mud",get:function(){return globalThis.mudEngine}},{key:"isMudDevChain",get:function(){var n;return(null==(n=this.mud.network)||null==(n=n.chain)?void 0:n.id)===r}},{key:"systemCalls",get:function(){return this.mud.systemCalls}}]),o}(c).getInstance());o._RF.pop()}}}));

System.register("chunks:///_virtual/OnEventDecorator.ts",["cc","./constants.ts"],(function(t){var e,n;return{setters:[function(t){e=t.cclegacy},function(t){n=t.COMPONENT_EVENT_REGISTER_LIST_KEY}],execute:function(){e._RF.push({},"2cc3aelsnFKnb+yZqzQc2sH","OnEventDecorator",void 0);t("OnEvent",(function(t,e){return function(e,c,o){var r=null;if("string"==typeof t?r=""+t:t instanceof Object&&t.event&&(r=t.name),r){var s=Reflect.get(e,n)||[];s.push({event:r,method:o.value}),Reflect.set(e,n,s)}}}));e._RF.pop()}}}));

System.register("chunks:///_virtual/PanelSlideIn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameObject.ts"],(function(t){var e,i,n,o,r,T,s,a,O,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,T=t._decorator,s=t.UITransform,a=t.tween,O=t.math},function(t){_=t.GameObject}],execute:function(){var c,l,d;r._RF.push({},"3aee6kXA+tDmb6gl5DbIpt2","PanelSlideIn",void 0);var u=T.menu,h=T.ccclass,p=T.integer,I=t("PANEL_SLIDE_DIRECTION",function(t){return t[t.LEFT_TO_RIGHT=0]="LEFT_TO_RIGHT",t[t.RIGHT_TO_LEFT=1]="RIGHT_TO_LEFT",t[t.BOTTOM_TO_TOP=2]="BOTTOM_TO_TOP",t[t.TOP_TO_BOTTOM=3]="TOP_TO_BOTTOM",t}({}));t("PanelSlideIn",h("PanelSlideIn")(c=u("game/components/entity/PanelSlideIn")((d=e((l=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),T=0;T<i;T++)r[T]=arguments[T];return e=t.call.apply(t,[this].concat(r))||this,n(e,"dir",d,o(e)),e}i(e,t);var r=e.prototype;return r.load=function(){var t=this.node.position,e=t.x,i=t.y,n=this.node.getComponent(s).contentSize,o=e;this.dir===I.LEFT_TO_RIGHT?o=e-n.width:this.dir===I.RIGHT_TO_LEFT&&(o=e+n.width);var r=i;this.dir===I.BOTTOM_TO_TOP&&(r=i-n.height),this.node.setPosition(o,r),a(this.node).to(.2,{position:O.v3(e,i)},{easing:"sineInOut"}).start()},r.slideOut=function(t){var e=this.node.position,i=this.node.getComponent(s).contentSize,n=e.x;this.dir===I.LEFT_TO_RIGHT?n=e.x-i.width:this.dir===I.RIGHT_TO_LEFT&&(n=e.x+i.width);var o=e.y;this.dir===I.BOTTOM_TO_TOP&&(o=e.y-i.height),a(this.node).to(.2,{position:O.v3(n,o)},{easing:"sineInOut"}).call((function(){return t&&t()})).start()},e}(_)).prototype,"dir",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I.LEFT_TO_RIGHT}}),c=l))||c)||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/ParticleEngine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBus.ts","./Singleton.ts","./GameEventWalletChainChanged.ts","./GameEventWalletConnected.ts","./GameEventWalletDisconnected.ts"],(function(e){var n,t,i,r,c,o,s,a,u,l;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass,i=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){c=e.cclegacy},function(e){o=e.eventBus},function(e){s=e.Singleton},function(e){a=e.GameEventWalletChainChanged},function(e){u=e.GameEventWalletConnected},function(e){l=e.GameEventWalletDisconnected}],execute:function(){c._RF.push({},"a4fe5Hw8VtNoay6js+/KWqn","ParticleEngine",void 0);var g=e("ParticleEngine",function(e){function c(){return e.apply(this,arguments)||this}n(c,e);var s=c.prototype;return s.registerEvents=function(){var e=this.service.getClient(this.supportChains[0]);e.auth.on("connect",(function(e){o.emit(u.event,e)})),e.auth.on("disconnect",(function(){console.log("particle disconnect"),o.emit(l.event)})),e.auth.on("chainChanged",(function(e){console.log("particle chainChanged",e),o.emit(a.event,e)}))},s.init=function(){var e=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.registerEvents(),console.log("particle engine init, version: "+this.service.version);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t(c,[{key:"engine",get:function(){var e;return null!=(e=null==globalThis?void 0:globalThis.particleEngine)?e:{service:void 0,chains:[],SocialLoginType:{}}}},{key:"service",get:function(){return this.engine.service}},{key:"particle",get:function(){return this.service.client}},{key:"particleProvider",get:function(){return this.service.particleProvider}},{key:"supportChains",get:function(){return this.engine.chains}},{key:"LoginType",get:function(){return this.engine.SocialLoginType}}]),c}(s));e("particleEngine",g.getInstance());c._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OnEventDecorator.ts","./DataModelBase.ts","./DataRegister.ts","./GameEventLoginComplete.ts"],(function(e){var t,r,n,a,o,c,l,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.createClass},function(e){a=e.cclegacy},function(e){o=e.OnEvent},function(e){c=e.DataModelBase},function(e){l=e.registerDataModel},function(e){s=e.GameEventLoginComplete}],execute:function(){var i,u;a._RF.push({},"d0cbclBDEhMXKdJc87p68se","PlayerData",void 0);var p=e("PlayerData",(i=o(s.event),t((u=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this)._currentPlayer=null,t}return r(t,e),t.prototype.setPlayer=function(e){this._currentPlayer=e,console.log(e)},n(t,[{key:"currentPlayer",get:function(){return this._currentPlayer}}]),t}(c)).prototype,"setPlayer",[i],Object.getOwnPropertyDescriptor(u.prototype,"setPlayer"),u.prototype),u)),y=e("playerData",p.getInstance());l(y),a._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerDTO.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseDTO.ts","./DataDecorators.ts","./PlayerSecurityAccountDTO.ts","./WalletDTO.ts"],(function(e){var t,n,r,i,a,l,u,c,o;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy},function(e){l=e.BaseDTO},function(e){u=e.PropertyType},function(e){c=e.PlayerSecurityAccountDTO},function(e){o=e.WalletDTO}],execute:function(){var s,p,y,f,D;a._RF.push({},"5425al8OLVGbr0onpeBZfaU","PlayerDTO",void 0);e("PlayerDTO",(s=u(c),p=u(o),f=t((y=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return(t=e.call.apply(e,[this].concat(a))||this).uuid="",t.created_at="",t.updated_at="",t.phone=null,t.email=null,t.name="",t.avatar="",t.twitter_id=null,t.jwt_id=null,t.passkeys_id=null,t.token=null,r(t,"security_account",f,i(t)),r(t,"wallets",D,i(t)),t.redirect_type="",t}return n(t,e),t}(l)).prototype,"security_account",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(y.prototype,"wallets",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y));a._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerSecurityAccountDTO.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseDTO.ts"],(function(t){var e,n,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){r=t.BaseDTO}],execute:function(){n._RF.push({},"0fb8fwbZBpPQYKlGFD4qGlO","PlayerSecurityAccountDTO",void 0);t("PlayerSecurityAccountDTO",function(t){function n(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))||this).email=null,e.has_set_master_password=!1,e.has_set_payment_password=!1,e.payment_password_updated_at=null,e}return e(n,t),n}(r));n._RF.pop()}}}));

System.register("chunks:///_virtual/PopUpBounce.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameObject.ts"],(function(e){var t,n,a,i,c,s,o;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){a=e.cclegacy,i=e._decorator,c=e.math,s=e.tween},function(e){o=e.GameObject}],execute:function(){var r;a._RF.push({},"7ed09/0+iRAr4ydbLlFMHaD","PopUpBounce",void 0);var l=i.menu,u=i.ccclass;e("PopUpBounce",u("PopUpBounce")(r=l("game/components/entity/PopUpBounce")(r=function(e){function a(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))||this)._initScale=.8,t._maxScale=1.1,t._baseFrame=1/30,t}t(a,e);var i=a.prototype;return i.afterLoad=function(){e.prototype.afterLoad.call(this),this.bounceIn()},i.bounceIn=function(){this.node.scale=c.v3(this._initScale,this._initScale,1),s(this.node).to(5*this._baseFrame,{scale:c.v3(this._maxScale,this._maxScale,1)},{easing:"sineOut"}).to(4*this._baseFrame,{scale:c.v3(1,1,1)},{easing:"sineIn"}).start()},i.bounceOut=function(e){s(this.node).to(2*this._baseFrame,{scale:c.v3(this._maxScale,this._maxScale,1)},{easing:"sineOut"}).to(3*this._baseFrame,{scale:c.v3(this._initScale,this._initScale,1)},{easing:"sineIn"}).call((function(){return e&&e()})).start()},n(a,[{key:"initScale",set:function(e){this._initScale=e}},{key:"maxScale",set:function(e){this._maxScale=e}}]),a}(o))||r)||r);a._RF.pop()}}}));

System.register("chunks:///_virtual/PopUpBounceIn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopUpLayout.ts","./LayoutDecorators.ts"],(function(n){var o,e,t,c,u;return{setters:[function(n){o=n.inheritsLoose},function(n){e=n.cclegacy,t=n._decorator},function(n){c=n.PopUpLayout},function(n){u=n.BounceIn}],execute:function(){var p;e._RF.push({},"b79e6beb5lAEo+UCnQjAAZh","PopUpBounceIn",void 0);var r=t.menu,s=t.ccclass;n("PopUpBounceIn",s("PopUpBounceIn")(p=r("game/components/entity/PopUpBounceIn")(p=u()(p=function(n){function e(){return n.apply(this,arguments)||this}return o(e,n),e}(c))||p)||p)||p);e._RF.pop()}}}));

System.register("chunks:///_virtual/PopUpLayout.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LayoutCom.ts","./LayoutDecorators.ts"],(function(t){var o,u,n,e;return{setters:[function(t){o=t.inheritsLoose},function(t){u=t.cclegacy},function(t){n=t.LayoutCom},function(t){e=t.PopUpDecorator}],execute:function(){var r;u._RF.push({},"61033Vtwx5ETYWItHxl00pE","PopUpLayout",void 0);t("PopUpLayout",e(r=function(t){function u(){return t.apply(this,arguments)||this}return o(u,t),u}(n))||r);u._RF.pop()}}}));

System.register("chunks:///_virtual/PopUpManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts"],(function(n){var t,o,i,e;return{setters:[function(n){t=n.inheritsLoose},function(n){o=n.cclegacy,i=n._decorator},function(n){e=n.Singleton}],execute:function(){var s;o._RF.push({},"2d1d4qYH0pA05wiwDXNGt5d","PopUpManager",void 0);var a=i.menu,c=i.ccclass,r=n("PopUpManager",c("PopUpManager")(s=a("game/components/entity/PopUpManager")(s=function(n){function o(){for(var t,o=arguments.length,i=new Array(o),e=0;e<o;e++)i[e]=arguments[e];return(t=n.call.apply(n,[this].concat(i))||this)._callStack=[],t._isShowing=!1,t}t(o,n),o.showPopUp=function(n){h.show(n)};var i=o.prototype;return i.showOne=function(){this._callStack.length<=0||this._isShowing||(this._isShowing=!0,this._callStack.shift().call(this))},i.show=function(n){this._callStack.push(n),this.showOne()},i.showOver=function(){this._isShowing=!1,this.showOne()},o}(e))||s)||s),h=n("popUpManager",r.getInstance());o._RF.pop()}}}));

System.register("chunks:///_virtual/PopUpScaleIn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameObject.ts"],(function(t){var e,o,n,a,c,s,p;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,n=t._decorator,a=t.UIOpacity,c=t.tween,s=t.math},function(t){p=t.GameObject}],execute:function(){var i;o._RF.push({},"930bb1etZpHypZ8pbzYJ8aX","PopUpScaleIn",void 0);var r=n.menu,l=n.ccclass;t("PopUpScaleIn",l("PopUpScaleIn")(i=r("game/components/entity/PopUpScaleIn")(i=function(t){function o(){return t.apply(this,arguments)||this}e(o,t);var n=o.prototype;return n.afterLoad=function(){t.prototype.afterLoad.call(this),this.node.addComponent(a),this.scaleIn()},n.scaleIn=function(){var t=this.node.getComponent(a);t.opacity=0,c(this.node).to(.01,{scale:s.v3(0,0,1)}).to(.1,{scale:s.v3(1.1,1.1,1)}).to(.05,{scale:s.v3(1,1,1)}).start(),c(t).delay(.01).to(.1,{opacity:255}).start()},n.scaleOut=function(t){var e=this.node.getComponent(a);c(this.node).to(.05,{scale:s.v3(1.1,1.1,1)}).to(.05,{scale:s.v3(1,1,1)}).to(.1,{scale:s.v3(0,0,1)}).call((function(){return t&&t()})).start(),c(e).delay(.1).to(.1,{opacity:0}).start()},o}(p))||i)||i);o._RF.pop()}}}));

System.register("chunks:///_virtual/Prefabs.ts",["cc","./Resources.ts"],(function(e){var t,r;return{setters:[function(e){t=e.cclegacy},function(e){r=e.registerMediaResources}],execute:function(){t._RF.push({},"30862vAG/5EuptQogKfCJtO","Prefabs",void 0);var s=e("Prefabs",function(e){return{}}());r(s),t._RF.pop()}}}));

System.register("chunks:///_virtual/PromiseUtil.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,n;return{setters:[function(e){r=e.asyncToGenerator,t=e.regeneratorRuntime},function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"9e30a7qd9dEFrDqFMR5evvt","PromiseUtil",void 0);e("PromiseUtil",function(){function e(){}return e.sleep=function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){return setTimeout(e,1e3*r)})));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/ResLoader.ts",["cc"],(function(e){var n,o,s,r,t,l;return{setters:[function(e){n=e.cclegacy,o=e.assetManager,s=e.error,r=e.js,t=e.Asset,l=e.resources}],execute:function(){n._RF.push({},"bc4857TMJhBxKCRmxtCcTkF","ResLoader",void 0);var a=e("default",function(){function e(){}var n=e.prototype;return n.loadBundle=function(e,n){return new Promise((function(r,t){o.loadBundle(e,{version:n},(function(e,n){if(e)return s(e);r(n)}))}))},n.parseLoadResArgs=function(e,n,o,s){var l=e,a=n,u=o,d=s;if(void 0===s){var i=r.isChildClassOf(n,t);o?(d=o,i&&(u=null)):void 0!==o||i||(d=n,u=null,a=null),void 0===o||i||(u=n,a=null)}return{paths:l,type:a,onProgress:u,onComplete:d}},n.loadByBundleAndArgs=function(e,n){n.dir?e.loadDir(n.paths,n.type,n.onProgress,n.onComplete):(n.paths,e.load(n.paths,n.type,n.onProgress,n.onComplete))},n.loadByArgs=function(e){var n=this;if(e.bundle)if(o.bundles.has(e.bundle)){var s=o.bundles.get(e.bundle);this.loadByBundleAndArgs(s,e)}else o.loadBundle(e.bundle,(function(o,s){o||n.loadByBundleAndArgs(s,e)}));else this.loadByBundleAndArgs(l,e)},n.load=function(e,n,o,s,r){var t=null;"string"==typeof n||n instanceof Array?(t=this.parseLoadResArgs(n,o,s,r)).bundle=e:t=this.parseLoadResArgs(e,n,o,s),this.loadByArgs(t)},n.loadDir=function(e,n,o,s,r){var t=null;"string"==typeof n?(t=this.parseLoadResArgs(n,o,s,r)).bundle=e:t=this.parseLoadResArgs(e,n,o,s),t.dir=t.paths,this.loadByArgs(t)},n.loadRemote=function(e){for(var n=arguments.length,s=new Array(n>1?n-1:0),r=1;r<n;r++)s[r-1]=arguments[r];o.loadRemote(e,s)},n.release=function(e,n){void 0===n&&(n="resources");var s=o.getBundle(n);null==s||s.release(e)},n.releaseDir=function(e,n){void 0===n&&(n="resources");var s=o.getBundle(n),r=null==s?void 0:s.getDirWithPath(e);null==r||r.map((function(e){null==s||s.release(e.path)})),""===e&&"resources"!=n&&s&&o.removeBundle(s)},n.get=function(e,n,s){void 0===s&&(s="resources");var r=o.getBundle(s);return console.log("bundle",s,r,e),r.get(e,n)},n.dump=function(){o.assets.forEach((function(e,n){console.log(n)})),console.log("total res:"+o.assets.count)},e}());e("resLoader",new a);n._RF.pop()}}}));

System.register("chunks:///_virtual/Resources.ts",["cc"],(function(e){var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"0bdf7vFC8dH05rxhYgU3zlc","Resources",void 0);var r=e("MEDIA_RESOURCES",[]);e("registerMediaResources",(function(e){r.push.apply(r,function(e){return Object.keys(e).map((function(c){return""+e[c]}))}(e))}));c._RF.pop()}}}));

System.register("chunks:///_virtual/Root.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StateMachineManager.ts","./GameObject.ts","./MainLoopUpdater.ts","./Engine.ts"],(function(e){var t,n,i,r,o,a,u,c,l,p,s,g,f,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createClass},function(e){a=e.cclegacy,u=e._decorator,c=e.Node,l=e.Canvas,p=e.Camera},function(e){s=e.stateMachine},function(e){g=e.GameObject},function(e){f=e.mainLoopUpdater},function(e){d=e.Engine}],execute:function(){var y,m,h,b,v,_,k,w,C;a._RF.push({},"c80ad4foglK840rkry+hlqn","Root",void 0);var N=u.property;e("Root",(y=N({type:c,tooltip:"logicNode"}),m=N({type:c,tooltip:"uiNode"}),h=N({type:l,tooltip:"canvas"}),b=N({type:p,tooltip:"camera"}),_=t((v=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"gameNode",_,r(t)),i(t,"guiNode",k,r(t)),i(t,"gameCanvas",w,r(t)),i(t,"gameCamera",C,r(t)),t._engine=null,t}n(t,e);var a=t.prototype;return a.load=function(){this.init(),this.run()},a.init=function(){this._engine=(new d).init(this)},a.run=function(){this._engine&&this._engine.start()},a.update=function(e){s.tick(e),f.update(e)},o(t,[{key:"gameId",get:function(){return-1}},{key:"engine",get:function(){return this._engine}},{key:"cacheVersion",get:function(){return"default_unknown"}}]),t}(g)).prototype,"gameNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(v.prototype,"guiNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(v.prototype,"gameCanvas",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(v.prototype,"gameCamera",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v));a._RF.pop()}}}));

System.register("chunks:///_virtual/RoundRectMask.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameObject.ts"],(function(t){var e,i,a,n,s,r,o,u,c,p,h,d,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized,s=t.createClass},function(t){r=t.cclegacy,o=t._decorator,u=t.Mask,c=t.CCFloat,p=t.UITransform,h=t.game,d=t.Game},function(t){l=t.GameObject}],execute:function(){var m,f,k,R,v,y,g,M;r._RF.push({},"68469tbvlFNy6E74+s5HuII","RoundRectMask",void 0);var b=o.ccclass,_=o.property,w=o.executeInEditMode,C=o.disallowMultiple,D=o.requireComponent;o.menu,t("RoundRectMask",(m=b("RoundRectMask"),f=w(!0),k=C(!0),R=D(u),v=_({type:c}),m(y=f(y=k(y=R((M=e((g=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,a(e,"propRadius",M,n(e)),e.mask=null,e}i(e,t);var r=e.prototype;return r.enable=function(){this.mask=this.getComponent(u),this.updateMask(this.radius)},r.updateMask=function(t){var e=t>=0?t:0;if(e<1){var i=this.node.getComponent(p);e=Math.min((null==i?void 0:i.width)||0,(null==i?void 0:i.width)||0)*e}this.mask&&(this.mask.radius=e,this.mask.onDraw=this.onDraw.bind(this.mask),this.mask._updateGraphics=this._updateGraphics.bind(this.mask),this.mask.type=u.Type.GRAPHICS_RECT)},r._updateGraphics=function(){var t=this._graphics;t&&this.onDraw(t)},r.onDraw=function(t){var e=this.node.getComponent(p);t.clear();var i=e.width,a=e.height,n=-i*e.anchorX,s=-a*e.anchorY;t.roundRect(n,s,i,a,this.radius||0),h.renderType===d.RENDER_TYPE_CANVAS?t.stroke():t.fill()},r.load=function(){this.enable()},s(e,[{key:"radius",get:function(){return this.propRadius},set:function(t){this.propRadius=t,this.updateMask(t)}}]),e}(l)).prototype,"propRadius",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),y=g))||y)||y)||y)||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/SceneState.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"64824eRKdlGq6SIn5sBaE0i","SceneState",void 0);e("SceneState",function(e){return e.NONE="NONE",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/SceneState2.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"8574bg9uL1MvI8TGnefToeU","SceneState",void 0);e("SceneState",function(e){return e.GAME_IDLE="GAME_IDLE",e.GAME_INIT="GAME_INIT",e.GAME_GAMING="GAME_GAMING",e.GAME_OVER="GAME_OVER",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/Singleton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameObject.ts"],(function(n){var e,t,i;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy},function(n){i=n.GameObject}],execute:function(){t._RF.push({},"cb801qAknFJ0aeYLntegpnw","Singleton",void 0);n("Singleton",function(n){function t(){var e;return(e=n.call(this)||this)._autoRegisterEvents&&(e._events=e.events(),e.eventsOn()),e}return e(t,n),t.getInstance=function(){var n=this;return n._Instance||(n._Instance=new n,n._Instance.initialize&&n._Instance.initialize()),n._Instance},t}(i));t._RF.pop()}}}));

System.register("chunks:///_virtual/StartScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameObject.ts","./EventBus.ts","./GameEventGameLaunch.ts"],(function(t){var e,n,c,r,a,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,c=t._decorator},function(t){r=t.GameObject},function(t){a=t.eventBus},function(t){u=t.GameEventGameLaunch}],execute:function(){var o;n._RF.push({},"b13780yP8JNV7+zSnMuQQDG","StartScreen",void 0);var i=c.menu,s=c.ccclass;t("StartScreen",s("StartScreen")(o=i("game/logic/components/StartScreen")(o=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var c=n.prototype;return c.load=function(){this.delayStartUp()},c.delayStartUp=function(){var t=this;this.scheduleOnce((function(){return a.emit(u.event,t.node)}),1.5)},n}(r))||o)||o);n._RF.pop()}}}));

System.register("chunks:///_virtual/StateMachineManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SceneState.ts","./Singleton.ts"],(function(t){var e,n,a,s,r,i,c;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){a=t.cclegacy,s=t.assert,r=t.warn},function(t){i=t.SceneState},function(t){c=t.Singleton}],execute:function(){a._RF.push({},"9ab0eacqO9EN5PMB8KmzjdE","StateMachineManager",void 0);var o=t("StateMachineManager",function(t){function a(){var e;return(e=t.call(this)||this)._transactionMap={},e._forceStop=!1,e._current=null,e._last=null,e.shutdown(),e}e(a,t);var c=a.prototype;return c.start=function(){s(this._current,"the default state is null"),this._current.enter(null),this.restart()},c.setDefaultState=function(t){this._current=t},c.tick=function(t){if(this._current&&!this._forceStop){var e=this._current.checkTransaction();if(e!=i.NONE){var n=this._transactionMap[e];this._last=this._current,this._current=n,this._last.exit(),this.shutdown(),console.log("state change: "+this._last.stateName+" => "+this._current.stateName),this.enterNextState(),this.restart()}else this._current.tick()}},c.enterNextState=function(){this._current&&this._current.enter(this._last?this._last.stateName:null)},c.addSceneState=function(t){t.stateName&&""!==t.stateName?this._transactionMap[t.stateName]?r("the state is already in machine : "+t.stateName):this._transactionMap[t.stateName]=t:r("the state name is empty")},c.removeSceneState=function(t){t&&""!==t?this._transactionMap[t]?delete this._transactionMap[t]:r("can not find your state by name"+t):r("state name is empty")},c.shutdown=function(){this._forceStop=!0},c.restart=function(){this._forceStop=!1},n(a,[{key:"currentState",get:function(){return this._current}}]),a}(c));t("stateMachine",o.getInstance());a._RF.pop()}}}));

System.register("chunks:///_virtual/Storage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts","./StorageDefault.ts","./StorageIndexDB.ts"],(function(e){var t,r,n,i,o,a;return{setters:[function(e){t=e.inheritsLoose,r=e.createClass},function(e){n=e.cclegacy},function(e){i=e.Singleton},function(e){o=e.StorageDefault},function(e){a=e.StorageIndexDB}],execute:function(){n._RF.push({},"3aedcwZaL5Moa2EwK1kp+F4","Storage",void 0);var c=e("StorageDriverType",function(e){return e.LocalStorage="LocalStorage",e.IndexDB="IndexDB",e}({})),s=e("Storage",function(e){function n(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this)._driver=null,t}return t(n,e),n.prototype.initDriver=function(e,t){if(void 0===t&&(t=c.LocalStorage),!this._driver){switch(t){case c.IndexDB:this._driver=a.instance;break;case c.LocalStorage:default:this._driver=new o}this._driver.cacheVersion=e,this._driver.init()}},r(n,[{key:"driver",get:function(){return this._driver}}]),n}(i));e("storage",s.getInstance());n._RF.pop()}}}));

System.register("chunks:///_virtual/StorageDefault.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StorageDriverLocalStorage.ts"],(function(t){var e,a,o;return{setters:[function(t){e=t.inheritsLoose},function(t){a=t.cclegacy},function(t){o=t.StorageDriverLocalStorage}],execute:function(){a._RF.push({},"6a313ky5xZEwYiKkW4u1cbg","StorageDefault",void 0);t("StorageDefault",function(t){function a(){return t.apply(this,arguments)||this}e(a,t);var o=a.prototype;return o.cacheKey=function(){return"DB"},o.getItemSync=function(e,a,o){return void 0===a&&(a=null),void 0===o&&(o=!1),o?t.prototype.getItemSync.call(this,e,a):void 0!==this._storageData[e]?this._storageData[e]:a},o.setItemSync=function(e,a,o){void 0===o&&(o=!1),o?t.prototype.setItemSync.call(this,e,a):(this._storageData[e]=a,t.prototype.setItemSync.call(this,this.cacheKey(),this._storageData)),this.save()},o.removeItemSync=function(e){void 0!==this._storageData[e]&&(delete this._storageData[e],this._storageData||(this._storageData={}),t.prototype.setItemSync.call(this,this.cacheKey(),this._storageData),this.save())},o.loadFromCache=function(){this._storageData=t.prototype.getItemSync.call(this,this.cacheKey(),{})},o.loadFromRemote=function(t){},o.init=function(){return this.loadFromCache(),this},a}(o));a._RF.pop()}}}));

System.register("chunks:///_virtual/StorageDriver.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameObject.ts","./GameManager.ts"],(function(e){var r,t,n,o,i,c,u,a;return{setters:[function(e){r=e.inheritsLoose,t=e.createClass,n=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){i=e.cclegacy,c=e.error},function(e){u=e.GameObject},function(e){a=e.gameManager}],execute:function(){i._RF.push({},"964e4w783xIkqJNpZTgm86T","StorageDriver",void 0);e("StorageDriver",function(e){function i(){for(var r,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(r=e.call.apply(e,[this].concat(n))||this)._storageData={},r._cacheVersion="unknown",r.eventsOn(),r}r(i,e);var u=i.prototype;return u.error=function(){c("class does not implement!!")},u.formatStorageKey=function(e){return this.storageUniqueKey+":"+this._cacheVersion+":"+e},u.getItem=function(e,r){var t=this;return new Promise((function(e,r){t.error(),r()}))},u.getItemWithExpiry=function(){var e=n(o().mark((function e(r){var t=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){t.error(),r()})));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),u.setItem=function(e,r){var t=this;return new Promise((function(e,r){t.error(),r()}))},u.setItemWithExpiry=function(){var e=n(o().mark((function e(r,t,n){var i=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){i.error(),r()})));case 2:case"end":return e.stop()}}),e)})));return function(r,t,n){return e.apply(this,arguments)}}(),u.removeItem=function(e){var r=this;return new Promise((function(e,t){r.error(),t()}))},u.getItemSync=function(e,r){this.error()},u.setItemSync=function(e,r){this.error()},u.removeItemSync=function(e){this.error()},u.init=function(){return this},u.save=function(){},u.loadFromCache=function(){},u.loadFromRemote=function(e){e&&e(!0)},t(i,[{key:"cacheVersion",set:function(e){this._cacheVersion=e}},{key:"storageUniqueKey",get:function(){return"wedaolab:"+a.gameId}}]),i}(u));i._RF.pop()}}}));

System.register("chunks:///_virtual/StorageDriverLocalStorage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StorageDriver.ts"],(function(e){var t,r,o,n;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy,o=e.sys},function(e){n=e.StorageDriver}],execute:function(){r._RF.push({},"2f04cSpZq5C5IW22CMgdRRq","StorageDriverLocalStorage",void 0);e("StorageDriverLocalStorage",function(e){function r(){return e.apply(this,arguments)||this}t(r,e);var n=r.prototype;return n.getItem=function(e,t){var r=this;return void 0===t&&(t=null),new Promise((function(o,n){var i=r.getItemSync(e,t);o(void 0!==i?i:void 0!==t?t:void 0)}))},n.setItem=function(e,t){var r=this;return new Promise((function(o,n){r.setItemSync(e,t),o(t)}))},n.removeItem=function(e){var t=this;return new Promise((function(r,o){t.removeItemSync(e),r(e)}))},n.getItemSync=function(e,t){void 0===t&&(t=null);var r,n=this.formatStorageKey(e);return(r=o.localStorage.getItem(n))?this.decodeValue(n,r):t},n.setItemSync=function(e,t){var r=this.formatStorageKey(e);o.localStorage.setItem(r,this.encodeValue(r,t))},n.removeItemSync=function(e){o.localStorage.removeItem(this.formatStorageKey(e))},n.encodeValue=function(e,t){return JSON.stringify(t)},n.decodeValue=function(e,t){return JSON.parse(t)},r}(n));r._RF.pop()}}}));

System.register("chunks:///_virtual/StorageIndexDB.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./StorageDriver.ts"],(function(e){var t,r,n,a,o,i,u;return{setters:[function(e){t=e.inheritsLoose,r=e.createClass,n=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){o=e.cclegacy},function(e){i=e.gameManager},function(e){u=e.StorageDriver}],execute:function(){o._RF.push({},"5a2daa4A3ROM7pjogtujaes","StorageIndexDB",void 0),e("StorageIndexDB",function(e){function o(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).db=null,t}t(o,e);var u=o.prototype;return u.connect=function(){var e=n(a().mark((function e(t){var r=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",Promise.resolve(this.db));case 2:return e.abrupt("return",new Promise((function(e,n){var a=indexedDB.open(t,1);a.onsuccess=function(t){r.db=t.target.result,e(r.db)},a.onupgradeneeded=function(e){e.target.result.createObjectStore(""+r.dataStoreName,{keyPath:"id"})},a.onerror=function(e){return n(e)}})));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),u.setItem=function(){var e=n(a().mark((function e(t,r){var n=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.db){e.next=3;break}return e.next=3,this.connect(this.dbName);case 3:return e.abrupt("return",new Promise((function(e,a){var o=n.db.transaction([n.dataStoreName],"readwrite").objectStore(n.dataStoreName),i={id:t,value:r},u=o.put(i);u.onsuccess=function(t){return e(t)},u.onerror=function(e){return a(e)}})));case 4:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),u.getItem=function(){var e=n(a().mark((function e(t){var r=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.db){e.next=3;break}return e.next=3,this.connect(this.dbName);case 3:return e.abrupt("return",new Promise((function(e,n){var a=r.db.transaction([r.dataStoreName],"readwrite").objectStore(r.dataStoreName).get(t);a.onsuccess=function(t){var r;e(null==(r=t.target)||null==(r=r.result)?void 0:r.value)},a.onerror=function(e){return n(e)}})));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),u.setItemWithExpiry=function(){var e=n(a().mark((function e(t,r,n){var o=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n=3600),this.db){e.next=4;break}return e.next=4,this.connect(this.dbName);case 4:return e.abrupt("return",new Promise((function(e,a){var i=o.db.transaction([o.dataStoreName],"readwrite").objectStore(o.dataStoreName),u=new Date,c=new Date(u.getTime()+1e3*n),s={id:t,value:r,expiry:c.getTime()},f=i.put(s);f.onsuccess=function(t){return e(t)},f.onerror=function(e){return a(e)}})));case 5:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),u.getItemWithExpiry=function(){var e=n(a().mark((function e(t){var r=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.db){e.next=3;break}return e.next=3,this.connect(this.dbName);case 3:return e.abrupt("return",new Promise((function(e,n){var a=r.db.transaction([r.dataStoreName],"readwrite").objectStore(r.dataStoreName).get(t);a.onsuccess=function(t){var r=t.target.result,n=new Date;r&&n.getTime()<r.expiry?e(r.value):e(null)},a.onerror=function(e){return n(e)}})));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),u.removeItem=function(){var e=n(a().mark((function e(t){var r=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.db){e.next=3;break}return e.next=3,this.connect(this.dbName);case 3:return e.abrupt("return",new Promise((function(e,n){var a=r.db.transaction([r.dataStoreName],"readwrite").objectStore(r.dataStoreName).delete(t);a.onsuccess=function(t){return e(t)},a.onerror=function(e){return n(e)}})));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),r(o,[{key:"dataStoreName",get:function(){return this.storageUniqueKey}},{key:"dbName",get:function(){return"WeDAOLabGame"+i.gameId}}],[{key:"instance",get:function(){return o._instance||(o._instance=new o),o._instance}}]),o}(u))._instance=void 0,o._RF.pop()}}}));

System.register("chunks:///_virtual/StringUtil.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"06dd8BsIUBOQohgPaNDNpt2","StringUtil",void 0);t("StringUtil",function(){function t(){}return t.isEmpty=function(t){return!t||""===t},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/Textures.ts",["cc","./Resources.ts"],(function(e){var t,r;return{setters:[function(e){t=e.cclegacy},function(e){r=e.registerMediaResources}],execute:function(){t._RF.push({},"1d14bBzG8FLeadj2ImTwy+m","Textures",void 0);var s=e("Textures",function(e){return{}}());r(s),t._RF.pop()}}}));

System.register("chunks:///_virtual/TimerManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventBus.ts","./Singleton.ts","./MathUtil.ts"],(function(e){var t,i,n,s,o,r,c;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){n=e.cclegacy,s=e.sys},function(e){o=e.eventBus},function(e){r=e.Singleton},function(e){c=e.MathUtil}],execute:function(){n._RF.push({},"d2570yno9ND4bC3EX9Yo9+I","TimerManager",void 0),e("TimerManager",function(e){function i(t){var i;return(i=e.call(this)||this).schedules={},i._scheduleCount=1,i.initTime=s.now(),i.component=void 0,i._$serverTimeElapsed=0,i.component=t,i.schedule(i.onTimeUpdate,1),i}t(i,e);var n=i.prototype;return n.serverTimeElapsed=function(e){return e&&(this._$serverTimeElapsed=e),this._$serverTimeElapsed},n.format=function(e,t){var i={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substring(4-RegExp.$1.length))),i)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?i[n]:("00"+i[n]).substring((""+i[n]).length)));return e},n.getTime=function(){return this.getLocalTime()-this.initTime},n.getLocalTime=function(){return s.now()},n.getCurrentHour=function(){return(new Date).getHours()},n.schedule=function(e,t){var i="schedule_"+this._scheduleCount++;return this.schedules[i]=e,this.component.schedule(e,t),i},n.scheduleOnce=function(e,t){var i=this;void 0===t&&(t=0);var n="scheduleOnce_"+this._scheduleCount++;return this.schedules[n]=e,this.component.scheduleOnce((function(){var e=i.schedules[n];e&&e(),i.unschedule(n)}),Math.max(t,0)),n},n.unschedule=function(e){var t=this.schedules[e];t&&(this.component.unschedule(t),delete this.schedules[e])},n.unscheduleAllCallbacks=function(){for(var e in this.schedules)this.component.unschedule(this.schedules[e]);this.schedules={}},n.onTimeUpdate=function(e){for(var t in i.times){var n=i.times[t];n.object[n.field]>0&&(n.object[n.field]--,0===n.object[n.field]?(n.onComplete&&n.onComplete.call(n.object),n.event&&o.emit(n.event)):n.onSecond&&n.onSecond.call(n.object))}},n.save=function(){for(var e in i.times)i.times[e].startTime=this.getTime()},n.load=function(){for(var e in i.times){var t=Math.floor((this.getTime()-(i.times[e].startTime||this.getTime()))/1e3),n=i.times[e];n.object[n.field]=n.object[n.field]-t,n.object[n.field]<0&&(n.object[n.field]=0),i.times[e].startTime=null}},n.registerObject=function(e,t,n,s){var o={};return o.id=c.uuidGen(32),o.object=e,o.field=t,o.onSecond=n,o.onComplete=s,i.times[o.id]=o,o.id},n.unRegisterObject=function(e){i.times[e]&&delete i.times[e]},n.register=function(e,t,n){var s={};s.id=e,s.event=e,s.object=t,s.field=n,i.times[s.id]=s},n.unRegister=function(e){i.times[e]&&delete i.times[e]},i}(r)).times={};e("Timer",function(){function e(e){void 0===e&&(e=0),this.callback=null,this._elapsedTime=0,this._step=0,this.step=e}var t=e.prototype;return t.update=function(e){var t;return this._elapsedTime+=e,this._elapsedTime>=this._step&&(this._elapsedTime-=this._step,null==(t=this.callback)||t.call(this),!0)},t.reset=function(){this._elapsedTime=0},i(e,[{key:"elapsedTime",get:function(){return this._elapsedTime}},{key:"step",get:function(){return this._step},set:function(e){this._step=e,this._elapsedTime=0}},{key:"progress",get:function(){return this._elapsedTime/this._step}}]),e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/Toast.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ToastLayout.ts","./GameUI.ts"],(function(e){var t,n,i,r,o,a,s,u,l,p,c,f,g,h,b,m,L,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createClass,a=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){u=e.cclegacy,l=e._decorator,p=e.Label,c=e.Node,f=e.Sprite,g=e.UITransform,h=e.math,b=e.Overflow,m=e.HorizontalTextAlignment},function(e){L=e.ToastLayout},function(e){d=e.registerLayout}],execute:function(){var y,w,z,S,T,v,C,_,k,R,x;u._RF.push({},"77599fBHgtGgZnAm+HzilRX","Toast",void 0);var A=l.menu,D=l.ccclass,N=l.property,H=e("Toast",(y=D("Toast"),w=A("game/components/Toast"),z=N(p),S=N(c),T=N(f),y(v=w(((x=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"tipLabel",_,r(t)),i(t,"maskNode",k,r(t)),i(t,"bgSp",R,r(t)),t}return n(t,e),t.prefabName=function(){return"Toast"},t.showTip=function(){var e=a(s().mark((function e(n){var i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t._isShowing){e.next=2;break}return e.abrupt("return");case 2:return t._isShowing=!0,e.next=5,t.open();case 5:(i=e.sent).message=n,i.fadeIn();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.prototype.close=function(){t.remove(),t._isShowing=!1},o(t,[{key:"message",set:function(e){if(this.tipLabel.string=e,this.tipLabel.updateRenderData(!0),this.tipLabel.getComponent(g).contentSize.width>480){var t=this.tipLabel.getComponent(g).contentSize.width/480,n=h.size(520,60+30*t);this.maskNode.getComponent(g).contentSize=n,this.bgSp.getComponent(g).contentSize=n,this.tipLabel.overflow=b.CLAMP,this.tipLabel.horizontalAlign=m.LEFT,this.tipLabel.getComponent(g).setContentSize(480,60+30*t),this.tipLabel.updateRenderData(!0)}}}]),t}(L))._isShowing=!1,_=t((C=x).prototype,"tipLabel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(C.prototype,"maskNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(C.prototype,"bgSp",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=C))||v)||v));d(H),u._RF.pop()}}}));

System.register("chunks:///_virtual/ToastLayout.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LayoutCom.ts","./LayerManager.ts"],(function(t){var n,e,o,r,a,u,i,c;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){r=t.cclegacy,a=t.UIOpacity,u=t.tween},function(t){i=t.LayoutCom},function(t){c=t.LayerType}],execute:function(){r._RF.push({},"69006+c99VMIbRo8CxWD5Ew","ToastLayout",void 0);t("ToastLayout",function(t){function r(){return t.apply(this,arguments)||this}return n(r,t),r.layer=function(){return c.Alert},r.open=function(){var n=e(o().mark((function n(){var e,r=this;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=this.prefabName(),n.abrupt("return",new Promise((function(n){t.open.call(r,{onAdded:function(t){var o=t.getComponent(e);n(o)}})})));case 2:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),r.prototype.fadeIn=function(){var t=this,n=this.node.getComponent(a);u(n).to(.3,{opacity:255},{easing:"backIn"}).delay(1).to(.3,{opacity:0},{easing:"backOut"}).call((function(){return t.close()})).start()},r}(i));r._RF.pop()}}}));

System.register("chunks:///_virtual/TransactionPipe.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameObject.ts"],(function(t){var e,n,i,o;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){i=t.cclegacy},function(t){o=t.GameObject}],execute:function(){i._RF.push({},"d8dddhcb9lCNZPiL/wED6MF","TransactionPipe",void 0);t("TransactionPipe",function(t){function i(e,n,i){var o;return(o=t.call(this)||this)._condition=void 0,o._executor=void 0,o._target=void 0,o._target=e,o._condition=n,o._executor=i,o}return e(i,t),n(i,[{key:"condition",get:function(){return this._condition}},{key:"executor",get:function(){return this._executor}},{key:"target",get:function(){return this._target}}]),i}(o));i._RF.pop()}}}));

System.register("chunks:///_virtual/UIMap.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"abf52gfGNFEqadRQ0jvY3N2","UIMap",void 0);var i=function(){this.id=void 0,this.pid=void 0,this.parent=null,this.child=[],this.name=void 0,this.panel=void 0};n("UIMap",function(){function n(){this.manager=void 0,this.nodes=new Map}var t=n.prototype;return t.init=function(n,t){var e=this;for(var a in this.manager=n,t){var r=t[a],s=new i;s.id=parseInt(a),s.pid=r.parent,s.name=r.name,s.panel=r.panel,this.nodes.set(s.id,s)}this.nodes.forEach((function(n,t){n.parent=e.nodes.get(n.pid),n.parent&&n.parent.child.push(n)}))},t.pathFinding=function(n,t){var i=this,e=this.nodes.get(n),a=this.nodes.get(t),r=this.findUp(e),s=this.findUp(a);return r.forEach((function(n){i.manager.remove(n.id,!0)})),s.forEach((function(n){i.manager.open(n.id)})),{paths_close:r,paths_open:s}},t.findUp=function(n){for(var t=[],i=n;null!=i.parent;)t.push(i),i=i.parent;return t},t.release=function(){this.nodes.clear()},n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/ViewUtil.ts",["cc","./ResLoader.ts"],(function(e){var n,t,r,o,i,a,c,u;return{setters:[function(e){n=e.cclegacy,t=e.Prefab,r=e.instantiate,o=e.assetManager,i=e.UITransform,a=e.SpriteFrame,c=e.SpriteAtlas},function(e){u=e.resLoader}],execute:function(){n._RF.push({},"62f40W1+TNOQ6XKK5KLGH9U","ViewUtil",void 0);e("ViewUtil",function(){function e(){}return e.createPrefabNode=function(e){var n=u.get(e,t);return r(n)},e.createPrefabAsync=function(e){return new Promise((function(n,i){o.resources.load(e,t,(function(e,t){e||n(r(t)),n(null)}))}))},e.calculateASpaceToBSpacePos=function(e,n,t){var r=e.parent.getComponent(i).convertToWorldSpaceAR(null!=t?t:e.position);return n.getComponent(i).convertToNodeSpaceAR(r)},e.setTexture=function(e,n,t,r){var o=n+"/"+t,i=u.get(o,a),f=function(n){e&&(e.spriteFrame=n),r&&r(e)};i?f(i):u.load(n,c,(function(e,n){e||f(n.getSpriteFrame(t))}))},e.findNodeInChildren=function(e,n){if(e.name===n)return e;for(var t=e.children,r=0;r<t.length;r++){var o=this.findNodeInChildren(t[r],n);if(o)return o}return null},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/WalletDTO.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseDTO.ts"],(function(e){var n,t,l;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy},function(e){l=e.BaseDTO}],execute:function(){t._RF.push({},"86375FYbDNKLJgoQ6KW7vRN","WalletDTO",void 0);e("WalletDTO",function(e){function t(){for(var n,t=arguments.length,l=new Array(t),u=0;u<t;u++)l[u]=arguments[u];return(n=e.call.apply(e,[this].concat(l))||this).uuid=null,n.chain_name="",n.public_address="",n}return n(t,e),t}(l));t._RF.pop()}}}));

System.register("chunks:///_virtual/WalletModel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataModelBase.ts","./DataRegister.ts","./EncryptUtil.ts","./StringUtil.ts"],(function(t){var e,n,r,a,s,i,c,o,u;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,r=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){s=t.cclegacy},function(t){i=t.DataModelBase},function(t){c=t.registerDataModel},function(t){o=t.EncryptUtil},function(t){u=t.StringUtil}],execute:function(){s._RF.push({},"c2989aYigdOh4iEeHgAKyr6","WalletModel",void 0);var l=t("WalletModel",function(t){function s(){return t.apply(this,arguments)||this}return e(s,t),s.prototype.buildAccount=function(){var t=r(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n(s,[{key:"dataCacheKey",get:function(){return"DM:WalletModel"}},{key:"defaultData",get:function(){return{address:"",secret:""}}},{key:"secret",get:function(){return u.isEmpty(this.data.secret)||u.isEmpty(this.data.address)?null:o.decryptWithKey(this.data.secret,this.data.address)}},{key:"address",get:function(){return u.isEmpty(this.data.address)?null:this.data.address}}]),s}(i)),d=t("WalletModelData",l.getInstance());c(d),s._RF.pop()}}}));

System.register("chunks:///_virtual/WorldContract.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OnEventDecorator.ts","./Singleton.ts","./GameEventLoginComplete.ts","./MudEngine.ts","./Ethers.ts"],(function(t){var n,e,r,o,c,a,i,s,u,p,l,f;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,r=t.createClass,o=t.asyncToGenerator,c=t.regeneratorRuntime},function(t){a=t.cclegacy},function(t){i=t.OnEvent},function(t){s=t.Singleton},function(t){u=t.GameEventLoginComplete},function(t){p=t.mudEngine},function(t){l=t.ethersIns,f=t.ethers}],execute:function(){var h,g;a._RF.push({},"cd406RUoHZCurCOvUCp20Iw","WorldContract",void 0);var v=t("WorldContract",(h=i(u.event),n((g=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return(n=t.call.apply(t,[this].concat(r))||this)._contract=null,n}e(n,t);var a=n.prototype;return a.getContract=function(){var t=o(c().mark((function t(){var n,e;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._contract){t.next=8;break}return n=new f.Contract(this.baseContract.address,this.abi),t.next=4,l.getSigner();case 4:e=t.sent,this._contract=n.connect(e),this._contract.signer=e,this._contract.provider=l.provider;case 8:return t.abrupt("return",this._contract);case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.onLogin=function(){var t=o(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.registerDelegation();case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.registerDelegation=function(){var t=o(c().mark((function t(){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(p.isMudDevChain){t.next=5;break}return t.next=3,this.getContract();case 3:n=t.sent,p.systemCalls.setWorld(n);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r(n,[{key:"baseContract",get:function(){return p.mud.network.worldContract}},{key:"abi",get:function(){return this.baseContract.abi}}]),n}(s)).prototype,"onLogin",[h],Object.getOwnPropertyDescriptor(g.prototype,"onLogin"),g.prototype),g));t("worldContract",v.getInstance());a._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});